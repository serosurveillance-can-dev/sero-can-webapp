{"version":3,"sources":["assets/images/public-health-agency.png","assets/images/University-Of-Calgary-Logo.png","assets/images/WHO-EN-C-H.png","assets/images/WHO-FR-C-H.png","assets/images/BrokenAb.gif","assets/images/YearInReview2020.png","assets/images/October2020Update.png","assets/images/September2020Update.png","assets/images/MedRXIV.jpg","assets/images/IndustryUpdateJuly_2020.png","assets/images/IndustryUpdateJune_2020.png","assets/images/August2020Update.png","assets/images/IndustryUpdateMay_2020.png","assets/images/IndustryUpdatePre_2020.png","assets/images/SeroTrackerBloodBank_July_2020.png","assets/images/Prepublication.png","assets/images/LancetIDArticle.png","assets/images/colored-icon.svg","types.ts","constants.ts","utils/translate/caseChanger.ts","utils/utils.tsx","utils/translate/translateService.ts","context.tsx","components/shared/WhoLogo.tsx","utils/analyticsUtils.tsx","components/pages/About.tsx","components/pages/NotFoundPage.tsx","components/pages/CookiePolicy.tsx","httpClient.ts","components/map/MapConfig.ts","utils/EsriMappingUtil.tsx","components/map/Popups/CountryPopup.tsx","components/map/Layers/Countries.tsx","components/map/Popups/StudyPopup.tsx","utils/usePrevious.ts","components/map/Layers/StudyPins.tsx","utils/GeoJsonGenerator.tsx","components/map/MapboxMap.tsx","components/shared/InformationText.tsx","components/sidebar/left-sidebar/AnalysisMethods.tsx","components/sidebar/left-sidebar/TotalStats.tsx","utils/stateUpdateUtils.tsx","components/shared/InformationIcon.tsx","components/sidebar/right-sidebar/SectionHeader.tsx","components/sidebar/right-sidebar/datepicker/Datepicker.tsx","components/sidebar/right-sidebar/Filters.tsx","components/map/Legend.tsx","components/mobile/ExploreMobile.tsx","components/shared/MaintenanceModal.tsx","components/sidebar/left-sidebar/LeftSidebar.tsx","components/sidebar/right-sidebar/RightSidebar.tsx","components/pages/Dashboard/Explore.tsx","components/pages/Data.tsx","components/pages/insights/InsightsCard.tsx","components/pages/insights/InsightsConstants.ts","components/pages/insights/Insights.tsx","components/pages/PrivacyPolicy.tsx","components/pages/TermsOfUse.tsx","components/shared/CookieBanner.tsx","components/shared/NavBar.tsx","components/shared/Footer.tsx","components/shared/TableauEmbed.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","LanguageType","PageStateEnum","AggregationFactor","ANALYZE_URLS","CANADA_URLS","toPascalCase","str","_","upperFirst","camelCase","language","english","formatDates","dates","endDate","formatISO","Date","startDate","add","years","dateList","Array","from","getPossibleNullDateString","nullString","undefined","Translate","format","parseISO","withLocaleUrl","path","Countries","EnglishCountries","FrenchCountries","getCountryName","country","optionString","code","translatedCountryName","recursiveFind","object","keys","index","nextObj","length","setLanguageType","newLanguage","setLanguage","text","specifier","substitution","addSpaces","translationDictionary","English","French","translatedString","Object","forEach","key","value","replace","RegExp","e","AppContext","createContext","initialMinDate","initialMaxDate","getEmptyFilters","source_type","Set","test_type","population_group","sex","age","overall_risk_of_bias","isotypes_reported","specimen_type","publish_date","estimate_grade","initialState","chartAggregationFactor","explore","filters","records","estimateGradePrevalences","isLoading","legendLayers","National","Regional","Local","allFilterOptions","dataPageState","exploreIsOpen","calendarStartDates","minDate","maxDate","updatedAt","showCookieBanner","countries","showCountryHover","reducer","state","action","type","payload","pageStateEnum","newState","filterType","filterValue","AppContextProvider","props","useReducer","dispatch","Provider","children","WhoLogo","useContext","useState","imgLanguageResource","setImgLanguageResource","useEffect","WhoLogoEn","french","WhoLogoFr","src","className","alt","height","sendPageView","location","ReactGA","set","page","pathname","pageview","sendAnalyticsEvent","localStorage","getItem","event","GAListener","trackingId","history","useHistory","initialize","titleCase","debug","process","gaOptions","cookieDomain","listen","About","isMobileDeviceOrTablet","useMediaQuery","maxWidth","selectItem","label","name","category","selectLink","link","renderBioBlock","description","linkedIn","email","twitter","map","line","href","onClick","target","rel","icon","faLinkedin","faTwitter","faEnvelope","HealthAgencyLogo","UcalgaryLogo","toLowerCase","NAME","NotFoundPage","BrokenAb","Button","push","CookiePolicy","maxDeviceWidth","script","document","createElement","body","appendChild","removeChild","title","httpClient","url","useAppRoute","url_full","fetch","res","status","error_msg","json","console","error","response_json","data","method","headers","JSON","stringify","item","city","denominator","denominator_value","first_author","lead_organization","pin_latitude","pin_longitude","pin_region_type","sampling_end_date","sampling_start_date","seroprevalence","serum_pos_prevalence","sensitivity","specificity","source_id","source_name","isArray","study_type","summary","test_manufacturer","this","httpGet","response","record","responseToRecord","k","options","updated_at","max_date","min_date","only_explore_columns","sorting_key","reverse","reqBodyFilters","o","filter","explore_columns","date","reqBody","per_page","page_index","columns","httpPost","filtered_records","formattedResponse","estimateSummary","seroprevalence_estimate_summary","numberOfStudies","n_estimates","testsAdministered","n_tests_administered","geographicalName","alpha3Code","country_iso3","localEstimate","maxEstimate","max_estimate","minEstimate","min_estimate","numEstimates","nationalEstimate","regionalEstimate","sublocalEstimate","Sublocal","aggregation_variable","meta_analysis_technique","meta_analysis_transformation","formatted_response","error_percent","n","total_N","numStudies","n_studies","seroprevalence_percent","MapSymbology","Color","Size","Default","HasData","Opacity","Disputed","MapUrlResource","MapConfig","Studies","prepare","a","styleUrl","api","getStyles","fetchedStyle","sprite","glyphs","sources","esri","tiles","maxzoom","getEsriVectorSourceStyle","style","source","l","layers","id","promoteId","paint","CountryPopup","properties","regions","addRegion","r","Region","Name","minString","toFixed","maxString","regionString","Math","random","createPopupGeographySection","SetCountryEstimates","setFeatureState","sourceLayer","hasData","popup","setPopup","currentFeatureId","setCurrentFeatureId","getSource","on","sourceId","isSourceLoaded","onlyIso3","c","getLayer","setFilter","FilterCountryEstimates","countryPop","mapboxgl","Popup","offset","closeButton","features","setMaxWidth","setHTML","ReactDOMServer","renderToString","setLngLat","lngLat","addTo","isOpen","remove","f","removeClassName","addClassName","StudyPopup","Fragment","renderOutGeography","geo","join","Boolean","getGeography","usePrevious","ref","useRef","current","togglePinBlur","selectedPinId","querySourceFeatures","x","isBlurred","StudyPins","setSelectedPinId","prevSelectedPinId","flatMap","geometry","coordinates","recordsToGeoJsonFeatures","generateSourceFromRecords","addSource","addLayer","setData","pinPopup","getRecordDetails","then","getCanvas","cursor","isSelected","mapOnLoad","sourceLayerId","layer","addEsriLayersFromVectorSourceStyle","styleJson","getStyle","moveLayer","workerClass","require","default","accessToken","MapboxGLMap","mapContainerRef","setMap","baseMapStyle","m","Map","container","center","zoom","attributionControl","antialias","el","InformationText","tooltip","tooltipHeader","position","popupSize","size","onOpen","popperModifiers","preventOverflow","boundariesElement","trigger","Header","Content","AnalysisMethods","toUpperCase","TotalStats","setNumCountries","setNumStudies","setN","pageState","reduce","b","updateCountryPrevalence","toLocaleString","updateFilters","aggregationFactor","updatedFilters","assign","Promise","all","getAirtableRecords","getEstimateGrades","initializeData","InformationIcon","color","faInfoCircle","SectionHeader","header_text","tooltip_text","tooltip_header","Datepicker","filterStartDate","filterEndDate","setStartDate","setEndDate","registerLocale","enUS","fr","datePickerChanged","isStart","newDates","CustomInput","Input","iconPosition","fluid","placeholder","dateFormat","selected","customInput","onclick","closeOnScroll","locale","onChange","withPortal","showMonthDropdown","showYearDropdown","shouldCloseOnSelect","dropdownMode","onSelect","todayButton","Filters","getFilters","filter_type","formatOptions","formatted_options","toString","jsonObjectString","alternativeString","addFilter","buildFilterDropdown","Dropdown","multiple","search","clearable","selection","defaultValue","Legend","handleLegendToggle","currentTarget","background","checked","readOnly","outlineWidth","outlineStyle","ExploreMobile","showMobileFilters","setShowFilters","showSummary","setShowSummary","handleFilterToggle","showMobile","Sidebar","Pushable","as","Segment","Menu","animation","vertical","direction","visible","width","faTimes","fontWeight","zIndex","top","right","Pusher","faFilter","faBars","MaintenanceModal","headerText","Modal","closeOnEscape","closeOnDimmerClick","open","LeftSidebar","ExploreText","RightSidebar","Explore","Loader","indeterminate","active","DataButtons","buttons","buttonLabel","DataDropdowns","activeIndex","setActiveIndex","handleClick","dropdownContent","entries","TranslateObject","dropdownQuestion","Accordion","styled","Title","Icon","answer","Data","to","InsightsCard","Card","img","faFile","italicize","titleKey1","titleKey2","listOfReports","YearInReview2020","October2020Update","September2020Update","August2020Update","July2020Update","BloodBank","June2020Update","May2020Update","PreprintUpdate","insightsInfo","media","articles","MedRxivPub","LancetId","MedRxiv","reports","Insights","getCarouselOfInsightCards","sliderSettings","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","responsive","breakpoint","settings","insightProps","idx","PrivacyPolicy","TermsOfUse","CookieBanner","setItem","NavBar","tab","setTab","getTabClass","tabName","concat","useLocation","usePageViews","MultiColorIcon","faGlobeAmericas","faChartBar","faTable","faFileAlt","faUsers","changeLanguages","Footer","TableauEmbed","mobileOptions","desktopOptions","App","getAllFilterOptions","countriesJson","updateCountriesJson","handleResize","vh","window","innerHeight","documentElement","setProperty","addEventListener","includes","exact","route","hostname","match","createBrowserHistory","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"2GAAAA,EAAOC,QAAU,slO,oBCAjBD,EAAOC,QAAU,IAA0B,wD,mw9DCA3CD,EAAOC,QAAU,IAA0B,wC,0CCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,8C,oBCA3CD,EAAOC,QAAU,IAA0B,+C,oBCA3CD,EAAOC,QAAU,IAA0B,iD,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qD,oBCA3CD,EAAOC,QAAU,IAA0B,qD,oBCA3CD,EAAOC,QAAU,IAA0B,8C,oBCA3CD,EAAOC,QAAU,IAA0B,oD,oBCA3CD,EAAOC,QAAU,IAA0B,oD,oBCA3CD,EAAOC,QAAU,IAA0B,4D,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,6C,oBCA3CD,EAAOC,QAAU,IAA0B,0C,kQCuE/BC,EAKAC,EA6DAC,E,oHChICC,EAAe,CACxB,GAAM,sIAEGC,EAAc,CACvB,GAAM,sIACN,GAAM,+H,SDyDEJ,K,YAAAA,E,cAAAA,M,cAKAC,K,mBAAAA,M,cA6DAC,K,kBAAAA,E,oCAAAA,E,UAAAA,E,UAAAA,E,sBAAAA,E,0BAAAA,E,4CAAAA,E,uCAAAA,M,wEEvICG,EAAe,SAACC,GAAD,OAAiBC,IAAEC,WAAWD,IAAEE,UAAUH,K,oCCGlEI,EAAWV,EAAaW,QAMfC,EAAc,SAACC,GAE1B,IAAIC,EAAUC,YAAU,IAAIC,MACxBC,EAAYF,YAAUG,YAAI,IAAIF,KAAKF,GAAU,CAAEK,OAAQ,KAC3D,GAAIN,EAAO,CACT,IAAMO,EAAWC,MAAMC,KAAKT,GAC5BC,EAAUM,EAAS,GAAKL,YAAUK,EAAS,IAAcN,EACzDG,EAAYG,EAAS,GAAKL,YAAUK,EAAS,IAAcH,EAE7D,MAAO,CAACA,EAAWH,IAWRS,EAA4B,SAACC,GACxC,OAAmB,OAAfA,QAAsCC,IAAfD,EAClBE,EAAU,gBAEZC,kBAAOC,kBAASJ,GAAa,eA4BzBK,EAAgB,SAACC,GAC5B,MAAM,IAAN,OAAWpB,EAAX,YAAuBoB,IC7CzBC,iBAAyBC,GACzBD,iBAAyBE,GAElB,IAAMC,EAAiB,SAC5BC,EACAzB,EACA0B,GAEA,IAAMC,EAAON,gBAAwBI,EAAS,MACxCG,EAAwBP,UAAkBM,EAAM3B,GAItD,OAHoB4B,IAEhBZ,EAAUU,EAAc,CAAC/B,EAAa8B,MAAcA,IAIpDI,EAAgB,SAAhBA,EAAiBC,EAAaC,EAAgBC,GAClD,IACMC,EAAUH,EADJC,EAAKC,IAGjB,OAAIA,EAAQ,IAAMD,EAAKG,OACdD,EAEFJ,EAAcI,EAASF,EAAMC,EAAQ,IAG1ChC,EAAyBV,EAAaW,QAE7BkC,EAAkB,SAACC,IDxCL,SAACA,GAC1BpC,EAAWoC,ECwCXC,CAAYD,GACZpC,EAAWoC,GAWE,SAASpB,EACtBsB,GAIS,IAHTC,EAGQ,uDAHqB,KAC7BC,EAEQ,uDAF+C,KACvDC,EACQ,uDAD+B,KAEjCC,EACJ1C,IAAaV,EAAaW,QAAW0C,EAAoBC,EAE3D,IACE,IAAIC,EAAmBH,EAAsBJ,GAE7C,OAAKO,GAIDN,IACFM,EAAmBhB,EAAcgB,EAAkBN,EAAW,IAG5DC,GACFM,OAAOf,KAAKS,GAAcO,SAAQ,SAACC,GACjC,IAAMC,EAAQT,EAAaQ,GACrBE,EAAU,IAAIC,OAAOH,EAAK,KAChCH,EAAoBA,EAA4BK,QAC9CA,EADiB,UAEdD,OAKLR,GAAaA,EAAU,KACzBI,EAAmB,IAAMA,GAGvBJ,GAAaA,EAAU,KACzBI,GAAoB,KAEfA,GAzBEN,EAAYA,EAAUA,EAAUL,OAAS,GAAKI,EA0BvD,MAAOc,GACP,MAAM,6BAAN,OAAoCd,I,YCjG3Be,EAAaC,wBAAc,IAElCC,EAAiB,IAAIjD,KAAK,KAAM,EAAG,EAAG,GACtCkD,EAAiB,IAAIlD,KAEpB,SAASmD,IACd,MAAO,CACLC,YAAa,IAAIC,IACjBC,UAAW,IAAID,IACflC,QAAS,IAAIkC,IACbE,iBAAkB,IAAIF,IACtBG,IAAK,IAAIH,IACTI,IAAK,IAAIJ,IACTK,qBAAsB,IAAIL,IAC1BM,kBAAmB,IAAIN,IACvBO,cAAe,IAAIP,IACnBQ,aAAc,IAAIR,IAAI,CAACJ,EAAgBC,IACvCY,eAAgB,IAAIT,KAMxB,IAAMU,EAAsB,CAC1BC,uBAAwB9E,EAAkBiC,QAC1C8C,QAAS,CACPC,QAASf,IACTgB,QAAS,GACTC,yBAA0B,GAC1BC,WAAW,EACXC,aAAc,CACZC,UAAU,EACVC,UAAU,EACVC,OAAO,IAMXC,iBAAkBvB,IAClBwB,cAAe,CACbC,eAAe,GAEjBC,mBAAoB,CAElBC,QAAS7B,EACT8B,QAAS7B,GAEXxD,SAAUV,EAAaW,QACvBqF,UAAW,GACXC,kBAAkB,EAClBC,UAAW,GACXC,kBAAkB,GAGdC,EAAU,SAACC,EAAcC,GAC7B,OAAQA,EAAOC,MACb,IAAK,qBACH,OAAO,2BACFF,GADL,IAEEF,kBAAkB,IAEtB,IAAK,qBACH,OAAO,2BACFE,GADL,IAEEF,kBAAkB,IAEtB,IAAK,sBACH,OAAO,2BACFE,GADL,IAEEJ,kBAAkB,IAEtB,IAAK,qBACH,OAAO,2BACFI,GADL,IAEEJ,kBAAkB,IAEtB,IAAK,8BAAgC,IAAD,EACkBK,EAAOE,QAAnDC,EAD0B,EAC1BA,cAAerB,EADW,EACXA,yBACjBsB,EAAQ,eAAQL,GAGtB,OAFkBK,EAASD,GACjBrB,yBAA2BA,EAC9BsB,EAET,IAAK,wBACH,OAAO,2BACFL,GADL,IAEEH,UAAWI,EAAOE,UAEtB,IAAK,kBACH,OAAO,2BACFH,GADL,IAEE3F,SAAU4F,EAAOE,UAErB,IAAK,yBACH,OAAO,2BACFH,GADL,IAEEX,iBAAkBY,EAAOE,UAE7B,IAAK,uBAAyB,IAAD,EACQF,EAAOE,QAAlCC,EADmB,EACnBA,cAAetB,EADI,EACJA,QACjBuB,EAAQ,eAAQL,GAGtB,OAFkBK,EAASD,GACjBtB,QAAUA,EACbuB,EAET,IAAK,aACH,OAAO,2BACFL,GADL,IAEEL,UAAWM,EAAOE,UAEtB,IAAK,gBAAkB,IAAD,EAC+BF,EAAOE,QAAlDC,EADY,EACZA,cAAeE,EADH,EACGA,WAAYC,EADf,EACeA,YAC7BF,EAAQ,eAAQL,GAGtB,OAFkBK,EAASD,GACjBvB,QAAQyB,GAA4B,IAAItC,IAAIuC,GAC/CF,EAGT,IAAK,gBAAL,MAC+BJ,EAAOE,QAA5BV,EADV,EACUA,QAASC,EADnB,EACmBA,QACjB,OAAO,2BACFM,GADL,IAEER,mBAAoB,CAClBC,UACAC,aAGN,IAAK,iBAAmB,IAAD,EACgBO,EAAOE,QAApCC,EADa,EACbA,cAAepB,EADF,EACEA,UACjBqB,EAAQ,eAAQL,GAGtB,OAFkBK,EAASD,GACjBpB,UAAYA,EACfqB,EAET,IAAK,4BACH,OAAO,2BAAKL,GAAZ,IAAmBrB,uBAAwBsB,EAAOE,UACpD,IAAK,yBACH,OAAO,2BACFH,GADL,IAEEV,cAAc,2BACTU,EAAMV,eADE,IAEXC,cAAeU,EAAOE,YAG5B,IAAK,4BACH,OAAO,2BACFH,GADL,IAEEpB,QAAQ,2BACHoB,EAAMpB,SADJ,IAELK,aAAa,2BACRe,EAAMpB,QAAQK,cADP,IAEVC,UAAWc,EAAMpB,QAAQK,aAAaC,eAK9C,IAAK,4BACH,OAAO,2BACFc,GADL,IAEEpB,QAAQ,2BACHoB,EAAMpB,SADJ,IAELK,aAAa,2BACRe,EAAMpB,QAAQK,cADP,IAEVE,UAAWa,EAAMpB,QAAQK,aAAaE,eAK9C,IAAK,yBACH,OAAO,2BACFa,GADL,IAEEpB,QAAQ,2BACHoB,EAAMpB,SADJ,IAELK,aAAa,2BACRe,EAAMpB,QAAQK,cADP,IAEVG,OAAQY,EAAMpB,QAAQK,aAAaG,YAK3C,QACE,OAAOY,IAIAQ,EAAqB,SAACC,GAAgC,IAAD,EACtCC,qBAAWX,EAASrB,GADkB,mBACzDsB,EADyD,KAClDW,EADkD,KAGhE,OACE,kBAACjD,EAAWkD,SAAZ,CAAqBtD,MAAO,CAAC0C,EAAOW,IACjCF,EAAMI,W,oCC/JEC,GArBC,SAACL,GAA2B,IAAD,EACzBM,qBAAWrD,GAApBsC,EADkC,sBAEagB,wBAA6B5F,GAF1C,mBAElC6F,EAFkC,KAEbC,EAFa,KAkBzC,OAdAC,qBAAU,WAER,OAAQnB,EAAM3F,UACZ,KAAKV,EAAaW,QACZ4G,EAAuBE,KAC3B,MACF,KAAKzH,EAAa0H,OACZH,EAAuBI,KAC3B,MACF,QACEJ,EAAuBE,QAE1B,CAACpB,EAAM3F,WAEH,yBAAKkH,IAAKN,EAAqBO,UAAS,OAAEf,QAAF,IAAEA,OAAF,EAAEA,EAAOe,UAAWC,IAAI,4BAA4BC,OAAQjB,EAAMiB,U,kBC3B7GC,GAAiC,SAACC,GACtCC,KAAQC,IAAI,CAAEC,KAAMH,EAASI,WAC7BH,KAAQI,SAASL,EAASI,WAQfE,GAAqB,SAACzB,GACR0B,aAAaC,QAAQ,oBAE5CP,KAAQQ,MAAM5B,IA0BH6B,GAnBI,SAAC,GAAkD,IAAhDzB,EAA+C,EAA/CA,SAAU0B,EAAqC,EAArCA,WAExBC,EAAUC,cAchB,OAbAtB,qBAAU,WAUR,OATAU,KAAQa,WAAWH,EACjB,CACEI,WAAW,EACXC,OANQC,EAORC,UAAW,CACTC,aAA+B,UAGrCpB,GAAaa,EAAQZ,UACdY,EAAQQ,OAAOrB,MACrB,CAACa,GAbUK,EAaMN,IAEb1B,G,0CC5BM,SAASoC,KACtB,IAAMC,EAAyBC,wBAAc,CAC3CC,SPfqC,OOkBjCC,EAAa,SAACC,EAAeC,GACjCrB,GAAmB,CACjBsB,SAAU,oBACVvD,OAAQ,QACRqD,MAAM,GAAD,OAAKA,EAAL,cAAgBC,MAInBE,EAAa,SAACC,GAClBxB,GAAmB,CACjBsB,SAAU,kBACVvD,OAAQ,QACRqD,MAAOI,KAIX,SAASC,EACPJ,EACAK,GAIC,IAHDC,EAGA,uDAH0B,KAC1BC,EAEA,uDAFuB,KACvBC,EACA,uDADyB,KAEzB,OACE,6BACE,2BAAIR,GACJ,6BACCK,EAAYI,KAAI,SAACC,GAChB,OACE,yBAAK5G,IAAK4G,GACPA,EACD,iCAILJ,EACC,uBAAGK,KAAML,EAAUM,QAAS,kBAAMd,EAAW,WAAYE,IAAOa,OAAO,SAASC,IAAI,uBAClF,kBAAC,IAAD,CAAiBC,KAAMC,IAAY/C,UAAU,oBAE7C,KACHuC,EACC,uBAAGG,KAAMH,EAASI,QAAS,kBAAMd,EAAW,UAAWE,IAAOa,OAAO,SAASC,IAAI,uBAChF,kBAAC,IAAD,CAAiBC,KAAME,IAAWhD,UAAU,kBAE5C,KACHsC,EACC,uBAAGI,KAAI,iBAAYJ,GAASK,QAAS,kBAAMd,EAAW,QAASE,KAC7D,kBAAC,IAAD,CAAiBe,KAAMG,IAAYjD,UAAU,gBAE7C,MAIV,OACE,yBAAKA,UAAU,eACb,yBAAKA,UAAW0B,EAAyB,qBAAuB,uBAC9D,4BAAK7H,EAAU,qBACf,2BACGA,EAAU,YAAa,CAAC,eAAgB,YACzC,2BAAIA,EAAU,YAAa,CAAC,eAAgB,WAAY,KAAM,EAAC,GAAM,MAEvE,2BACE,uBACE6I,KAAK,2CACL1C,UAAU,OACV4C,OAAO,UACPC,IAAI,uBAEJ,yBACE9C,IAAI,8FACJE,IAAI,oCACJC,OAAO,QAGX,uBACEwC,KAAK,+CACL1C,UAAU,OACV4C,OAAO,UACPC,IAAI,uBAEJ,yBAAK9C,IAAKmD,KAAkBjD,IAAI,4BAA4BC,OAAO,QAErE,uBACEwC,KAAK,gEACL1C,UAAU,OACV4C,OAAO,UACPC,IAAI,uBAEJ,yBAAK9C,IAAKoD,KAAclD,IAAI,gCAAgCC,OAAO,QAErE,uBAAGwC,KAAK,uBAAuB1C,UAAU,OAAO4C,OAAO,UAAUC,IAAI,uBACnE,kBAAC,GAAD,CAAS3C,OAAO,SAGpB,2BACGrG,EAAU,YAAa,CAAC,eAAgB,gBACzC,uBAAG8I,QAAS,kBAAMV,EAAW,yBAAyBS,KAAK,+CACxD7I,EAAU,YAAa,CAAC,eAAgB,sBAAuB,KAAM,EAAC,GAAM,KAE9EA,EAAU,YAAa,CAAC,eAAgB,eACzC,uBAAG8I,QAAS,kBAAMV,EAAW,gBAAgBS,KAAK,4CAC/C7I,EAAU,YAAa,CAAC,eAAgB,4BAA6B,KAAM,EAAC,GAAM,KAEpFA,EAAU,YAAa,CAAC,eAAgB,aACzC,uBACE8I,QAAS,kBAAMV,EAAW,kCAC1BS,KAAK,iEAEJ7I,EAAU,YAAa,CAAC,eAAgB,qBAAsB,KAAM,EAAC,GAAM,MAGhF,2BACGA,EAAU,YAAa,CAAC,eAAgB,SACzC,uBAAG8I,QAAS,kBAAMV,EAAW,4BAA4BS,KAAK,wBAC3D7I,EAAU,YAAa,CAAC,eAAgB,2BAA4B,KAAM,EAAC,GAAM,KAEnFA,EAAU,YAAa,CAAC,eAAgB,SACzC,uBAAG8I,QAAS,kBAAMV,EAAW,iBAAiBS,KAAK,2GAChD7I,EAAU,YAAa,CAAC,eAAgB,gBAAiB,KAAM,EAAC,GAAM,KAExEA,EAAU,YAAa,CAAC,eAAgB,QAAS,KAAM,EAAC,GAAM,KAEjE,2BACE,uBAAG8I,QAAS,kBAAMV,EAAW,WAAWS,KAAK,2BAA7C,UAEK,IACJ7I,EAAU,YAAa,CAAC,YAE3B,4BAAKA,EAAU,cACf,6BACE,2BACGA,EAAU,YAAa,CAAC,iBAAkB,iBAAkB,WAAY,KAAM,EAAC,GAAM,IACtF,uBAAG6I,KAAK,uCAAR,gCACC7I,EAAU,YAAa,CAAC,iBAAkB,iBAAkB,WAAY,KAAM,EAAC,GAAM,IACtF,uBAAG6I,KAAK,wCAAR,iCAJF,IAKG7I,EAAU,YAAa,CAAC,iBAAkB,iBAAkB,aAAc,KAAM,EAAC,GAAM,IACxF,uBAAG6I,KAAK,4CAAR,qCACC7I,EAAU,YAAa,CAAC,iBAAkB,iBAAkB,YAAa,KAAM,EAAC,GAAM,IACvF,uBAAG6I,KAAK,sCAAR,+BARF,KAUA,2BACG7I,EAAU,YAAa,CAAC,iBAAkB,kBAAmB,YAC9D,2BAAIA,EAAU,YAAa,CAAC,iBAAkB,kBAAmB,WAAY,KAAM,EAAC,GAAM,KACzFA,EAAU,YAAa,CAAC,iBAAkB,kBAAmB,aAAc,KAAM,EAAC,GAAM,IACzF,uBACE8I,QAAS,kBAAMV,EAAW,cAC1BY,IAAI,sBACJD,OAAO,SACPF,KAAK,uCAEJ7I,EAAU,YAAYuJ,eAV3B,MAeF,4BAAKvJ,EAAU,YACf,wBAAImG,UAAU,kBAAkBnG,EAAU,aAC1C,yBAAKmG,UAAU,sBACZmC,EACC,cACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,WAAaxJ,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aAC9F,6CACA,2BAEDlB,EACC,eACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,4CACA,GACA,qCAGJ,wBAAIrD,UAAU,kBAAkBnG,EAAU,iBAC1C,yBAAKmG,UAAU,sBACZmC,EACC,oBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,WAAaxJ,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aAC9F,uDACA,oCACA,oCAEDlB,EACC,gBACA,CAACtI,EAAU,aAAc,CAAC,YAAaA,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aAC/E,KACA,6BAEDlB,EACC,eACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,4CACA,yBACA,qCAEDlB,EACC,gBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,qDACA,yBAEDlB,EACC,iBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,KACA,6BACA,qCAEDlB,EACC,kBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,YACzC,+CACA,6BAEDlB,EACC,cACA,CACEtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,WACxCxJ,EAAU,kBAAmB,KAAM,CAAEwJ,KAAM,aAE7C,oDACA,2BACA,mCAEDlB,EACC,iBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,KACA,mCAEDlB,EACC,cACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,0CACA,+BACA,mCAEDlB,EACC,iBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,YACzC,6CACA,6BACA,uCAEDlB,EACC,YACA,CAACtI,EAAU,kBAAmB,KAAM,CAAEwJ,KAAM,YAC5C,KACA,4BAEDlB,EACC,iBACA,CAACtI,EAAU,kBAAmB,KAAM,CAAEwJ,KAAM,YAC5C,4DACA,+BACA,MAEDlB,EACC,qBACA,CAACtI,EAAU,kBAAmB,KAAM,CAAEwJ,KAAM,YAC5C,4DACA,2BAEDlB,EACC,qBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,wCACA,gCACA,oCAEDlB,EACC,mBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,KACA,wBAGJ,wBAAIrD,UAAU,kBAAd,oBACA,yBAAKA,UAAU,sBACZmC,EACC,gBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,2CACA,wBACA,iCAEDlB,EACC,eACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,2CACA,4BAEDlB,EACC,WACA,CAACtI,EAAU,aAAc,CAAC,aAAcA,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aAChF,uCACA,wBAEDlB,EACC,iBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,gBACzC,8CACA,2BAEDlB,EACC,eACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,4CACA,wBAEDlB,EACC,iBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,4CACA,2BACA,iCAEDlB,EACC,cACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,0CACA,sBAEDlB,EACC,WACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,eACzC,KACA,2BAGJ,wBAAIrD,UAAU,kBAAkBnG,EAAU,gCAC1C,yBAAKmG,UAAU,sBACZmC,EACC,gBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,4CACA,0BACA,uCAEDlB,EACC,mBACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,aACzC,KACA,kCAEDlB,EAAe,iBAAkB,GAAI,KAAM,4BAC3CA,EACC,eACA,CAACtI,EAAU,eAAgB,KAAM,CAAEwJ,KAAM,cACzC,0CACA,2BACA,oCAGJ,wBAAIrD,UAAU,kBAAkBnG,EAAU,uCAC1C,yBAAKmG,UAAU,sBACZmC,EAAe,YAAa,CAC3BtI,EAAU,cAAe,CAAC,MAAO,YACjCA,EAAU,cAAe,CAAC,MAAO,cAElCsI,EAAe,mBAAoB,CAClCtI,EAAU,cAAe,CAAC,QAAS,YACnCA,EAAU,cAAe,CAAC,QAAS,cAEpCsI,EAAe,gBAAiB,CAC/BtI,EAAU,cAAe,CAAC,UAAW,YACrCA,EAAU,cAAe,CAAC,UAAW,cAEtCsI,EAAe,eAAgB,CAC9BtI,EAAU,cAAe,CAAC,SAAU,YACpCA,EAAU,cAAe,CAAC,SAAU,cAErCsI,EAAe,mBAAoB,CAClCtI,EAAU,cAAe,CAAC,SAAU,YACpCA,EAAU,cAAe,CAAC,SAAU,cAErCsI,EAAe,cAAe,CAC7BtI,EAAU,cAAe,CAAC,SAAU,YACpCA,EAAU,cAAe,CAAC,SAAU,cAErCsI,EAAe,kBAAmB,CACjCtI,EAAU,cAAe,CAAC,QAAS,YACnCA,EAAU,cAAe,CAAC,QAAS,cAEpCsI,EAAe,oBAAqB,CACnCtI,EAAU,cAAe,CAAC,WAAY,YACtCA,EAAU,cAAe,CAAC,WAAY,cAEvCsI,EAAe,oBAAqB,CACnCtI,EAAU,cAAe,CAAC,aAAc,YACxCA,EAAU,cAAe,CAAC,aAAc,cAEzCsI,EAAe,gBAAiB,CAC/BtI,EAAU,cAAe,CAAC,QAAS,YACnCA,EAAU,cAAe,CAAC,QAAS,cAEpCsI,EAAe,qBAAsB,CACpCtI,EAAU,cAAe,CAAC,aAAc,YACxCA,EAAU,cAAe,CAAC,aAAc,iB,mCCnZrC,SAASyJ,KACS3B,wBAAc,CAC3CC,SRdqC,OQavC,IAIMZ,EAAUC,cALoB,EAOV1B,qBAAWrD,GAPD,mBAO3BrD,EAP2B,KAO3BA,SAP2B,KASpC,OACE,yBAAKmH,UAAU,eACb,yBAAKA,UAAU,oBACb,yBAAKD,IAAKwD,KAAUrD,OAAQ,MAAOD,IAAI,KACvC,uBAAGD,UAAU,uBAAuBnG,EAAU,WAAY,CAAC,aAC3D,2BAAIA,EAAU,WAAY,CAAC,aAC3B,kBAAC2J,GAAA,EAAD,CACExD,UAAU,mBACV2C,QAAS,kBAAM3B,EAAQyC,KAAR,WAAiB5K,EAAjB,eACZgB,EAAU,WAAY,CAAC,cCxBrB,SAAS6J,KACtB,IAAMhC,EAAyBC,wBAAc,CAAEgC,eTPR,OSqBvC,OAZAhE,qBAAU,WACR,IAAMiE,EAASC,SAASC,cAAc,UAMtC,OAJAF,EAAOzI,KAAO,+QAEd0I,SAASE,KAAKC,YAAYJ,GAEnB,WACLC,SAASE,KAAKE,YAAYL,MAE3B,IAGD,yBAAK5D,UAAU,oBACb,yBAAKA,UAAW0B,EAAyB,gBAAkB,kBACzD,4BAAQwC,MAAM,eAAelE,UAAU,qBAAqBD,IAAI,oF,4CCpBnDoE,G,2IAEHC,EAAaC,G,oFACnBC,EAAWF,EACXC,IACAC,EAAWjD,0BAA8BiD,G,SAE3BC,MAAMD,G,UACL,OADbE,E,QACEC,O,wBACEC,EAAYF,EAAIG,OACtBC,QAAQC,MAAMH,G,4CAIcF,EAAIG,O,eAA1BG,E,yBACCA,G,6KAIAV,EAAaW,G,oFAGpBT,EAAWjD,2BAFXiD,EAAWF,G,SAIGG,MAAMD,EAAU,CAC9BU,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBlB,KAAMmB,KAAKC,UAAUJ,K,UAEN,OAPbP,E,QAOEC,O,wBACEC,EAAYF,EAAIG,OACtBC,QAAQC,MAAMH,G,4CAIcF,EAAIG,O,eAA1BG,E,yBACCA,G,8KAICV,G,2FAEMG,MAAMH,G,UACL,OADbI,E,QACEC,O,uBACEC,EAAYF,EAAIG,OACtBC,QAAQC,MAAMH,G,2CAIcF,EAAIG,O,eAA1BG,E,yBACCA,G,0IAIEM,GAkCb,MAhC+B,CAC3BxI,IAAKwI,EAAKxI,IACVyI,KAAMD,EAAKC,KACX/K,QAAS8K,EAAK9K,QACdgL,YAAaF,EAAKG,kBAClBtI,eAAgBmI,EAAKnI,eACrBuI,aAAcJ,EAAKI,aACnB1I,kBAAmBsI,EAAKtI,kBACxB2I,kBAAmBL,EAAKK,kBACxB5I,qBAAsBuI,EAAKvI,qBAC3B6I,aAAcN,EAAKM,aACnBC,cAAeP,EAAKO,cACpBC,gBAAiBR,EAAKQ,gBACtBlJ,iBAAkB0I,EAAK1I,iBACvBmJ,kBAAmBT,EAAKS,kBACxBC,oBAAqBV,EAAKU,oBAC1BC,eAAgBX,EAAKY,qBACrBC,YAAab,EAAKa,YAClBC,YAAad,EAAKc,YAClBvJ,IAAKyI,EAAKzI,IACVwJ,UAAWf,EAAKe,UAChBC,YAAahB,EAAKgB,YAClB7J,YAAa6I,EAAK7I,YAClBQ,cAAevD,MAAM6M,QAAQjB,EAAKrI,eAAiBqI,EAAKrI,cAAgB,CAACqI,EAAKrI,eAC9EyB,MAAO4G,EAAK5G,MACZ8H,WAAYlB,EAAKkB,WACjBC,QAASnB,EAAKmB,QACd9J,UAAW2I,EAAK3I,UAChB+J,kBAAmBpB,EAAKoB,kBACxBpC,IAAKgB,EAAKhB,O,gFAMK+B,G,yFACIM,KAAKC,QAAL,wCAA8CP,IAAa,G,UAA5EQ,E,gDAEK,M,cAGLC,EAAyBH,KAAKI,iBAAiBF,G,kBAE9CC,G,6RAIgBH,KAAKC,QAAQ,iCAAiC,G,OAErE,IAAQI,KAFFH,E,OACAI,EAA+B,GACxBJ,EAEA,aAANG,GAA0B,aAANA,IAInBC,EAAQD,GAAK,IAAItK,IAAImK,EAASG,K,OAItCC,EAAQjK,kBAAoB,IAAIN,IAAI,CAAC,MAAO,MAAO,QAC7C2B,EAAYrE,kBAAOC,kBAAS4M,EAASK,YAAa,cAClD9I,EAAUnE,kBAAS4M,EAASM,UAC5BhJ,EAAUlE,kBAAS4M,EAASO,U,kBAC3B,CAAEH,UAAS5I,YAAWD,UAASD,Y,yLAGjBZ,G,yHACrB8J,E,gCACAC,E,+BAAc,oBACdC,E,gCACMC,EAA2C,GAEjD3L,OAAOf,KAAKyC,GAASzB,SAAQ,SAAC2L,GAC1B,IAAMC,EAAShO,MAAMC,KAAK4D,EAAQkK,IACxB,iBAANA,IACAD,EAAeC,GAAKC,MAItBC,EAAkB,CAAC,YAAa,iBAAkB,eAAgB,iBAElEC,EAAOrK,EAAO,a,EACStE,EAAY2O,G,mBAAlCtO,E,KAAWH,E,KACZ0O,EAA+B,CACjCtK,QAASiK,EACTxB,oBAAqB1M,EACrByM,kBAAmB5M,EACnBmO,YAAaA,EACbC,QAASA,EACTO,SAAU,KACVC,WAAY,MAGZV,IACAQ,EAAQG,QAAUL,G,UAGChB,KAAKsB,SAAS,yBAA0BJ,G,WAAzDhB,E,iDAEK,I,eAELqB,EAAmBrB,EAASnE,KAAI,SAAC4C,GAGnC,OAD+B,EAAKyB,iBAAiBzB,M,kBAKlD4C,G,yLAGa3K,G,8FACdiK,EAA2C,GACjD3L,OAAOf,KAAKyC,GAASzB,SAAQ,SAAC2L,GAC1B,IAAMC,EAAShO,MAAMC,KAAK4D,EAAQkK,IAClCD,EAAeC,GAAKC,YAEjBF,EAAc,aACfI,EAAOrK,EAAO,a,EACStE,EAAY2O,G,mBAAlCtO,E,KAAWH,E,KACZ0O,EAAU,CACZ7B,oBAAqB1M,EACrByM,kBAAmB5M,EACnBoE,QAASiK,G,SAGUb,KAAKsB,SAAS,0CAA2CJ,G,UAA1EhB,E,iDAEK,I,eAELsB,EAAoBtB,EAASnE,KAAI,SAACoE,GAEpC,IAAMsB,EAAkBtB,EAAOuB,gCAC/B,MAAO,CACHC,gBAAiBxB,EAAOyB,YACxBC,kBAAmB1B,EAAO2B,qBAC1BC,iBAAkB5B,EAAOtM,QACzBmO,WAAY7B,EAAO8B,aACnBC,cAAe,CACXC,YAAaV,EAAgBtK,MAAMiL,aACnCC,YAAaZ,EAAgBtK,MAAMmL,aACnCC,aAAcd,EAAgBtK,MAAMyK,aAExCY,iBAAkB,CACdL,YAAaV,EAAgBxK,SAASmL,aACtCC,YAAaZ,EAAgBxK,SAASqL,aACtCC,aAAcd,EAAgBxK,SAAS2K,aAE3Ca,iBAAkB,CACdN,YAAaV,EAAgBvK,SAASkL,aACtCC,YAAaZ,EAAgBvK,SAASoL,aACtCC,aAAcd,EAAgBvK,SAAS0K,aAE3Cc,iBAAkB,CACdP,YAAaV,EAAgBkB,SAASP,aACtCC,YAAaZ,EAAgBkB,SAASL,aACtCC,aAAcd,EAAgBkB,SAASf,iB,kBAK5CJ,G,wLAIY5K,EACnBgM,G,8GACAC,E,+BAAkC,QAClCC,E,+BAAuC,wBACjCjC,EAA2C,GAE3CI,EAAOrK,EAAO,aACpB1B,OAAOf,KAAKyC,GAASzB,SAAQ,SAAC2L,GAC1B,IAAMC,EAAShO,MAAMC,KAAK4D,EAAQkK,IAClCD,EAAeC,GAAKC,YAIjBF,EAAc,a,EACQvO,EAAY2O,G,mBAAlCtO,E,KAAWH,E,KACZ0O,EAAU,CACZ7B,oBAAqB1M,EACrByM,kBAAmB5M,EACnBoE,QAASiK,EACT+B,uBACAC,0BACAC,gC,UAGmB9C,KAAKsB,SAAS,yBAA0BJ,G,aAAzDhB,E,gCAGI6C,EAAyC7N,OAAOf,KAAK+L,GAAUa,QAAO,SAAC3L,GAAD,OAAmC,OAAlB8K,EAAS9K,MAAe2G,KAAI,SAAC3G,GACtH,MAAO,CACHgJ,MAAO8B,EAAS9K,GAAK4N,cACrBC,EAAG/C,EAAS9K,GAAK8N,QACjB5H,KAAMlG,EACN+N,WAAYjD,EAAS9K,GAAKgO,UAC1B9D,eAAgBY,EAAS9K,GAAKiO,2B,kBAG/BN,G,iCAEJ,I,iHCzQFO,GACK,CACVrM,SAAU,CACNsM,MAAO,UACPC,KAAM,IAEVtM,SAAU,CACNqM,MAAO,UACPC,KAAM,GAEVrM,MAAO,CACHoM,MAAO,UACPC,KAAM,GAEVb,SAAU,CACNY,MAAO,UACPC,KAAM,GAEVC,QAAS,CACLF,MAAO,UACPC,KAAM,IApBLF,GAuBO,CACZI,QAAS,CACLH,MAAO,UACPI,QAAS,IAEbC,SAAU,CACNL,MAAO,UACPI,QAAS,GAEbF,QAAS,CACLF,MAAO,UACPI,QAAS,IAQRE,GACK,sHADLA,GAEiB,kGA8DfC,GA3DG,CACdC,QAAS,CACL,eAAgB,CACd,QACA,CAAC,MAAO,kBACR,WACAT,GAA0BrM,SAASsM,MACnC,WACAD,GAA0BpM,SAASqM,MACnC,QACAD,GAA0BnM,MAAMoM,MAChC,WACAD,GAA0BX,SAASY,MACnCD,GAA0BG,QAAQF,OAEpC,gBAAiB,CACf,QACA,CAAC,MAAO,kBACR,WACAD,GAA0BrM,SAASuM,KACnC,WACAF,GAA0BpM,SAASsM,KACnC,QACAF,GAA0BnM,MAAMqM,KAChC,WACAF,GAA0BX,SAASa,KACnCF,GAA0BG,QAAQD,MAEpC,sBAAuB,EACvB,wBAAyB,CACrB,OACA,CAAC,UAAW,CAAC,gBAAiB,eAAe,GAC7C,EACA,GAEJ,iBAAkB,CACd,OACA,CAAC,UAAW,CAAC,gBAAiB,cAAc,GAC5C,GACA,KAIN/P,UAAY,CACV,aAAc,CACZ,OACA,CAAC,UAAW,CAAC,gBAAiB,YAAY,GAC1C6P,GAA4BI,QAAQH,MACpCD,GAA4BG,QAAQF,OAEtC,eAAgB,CACd,OACA,CAAC,UAAW,CAAC,gBAAiB,YAAY,GAC1CD,GAA4BI,QAAQC,QACpCL,GAA4BG,QAAQE,W,SC/F/BK,G,iFAAf,WAAuBrG,GAAvB,mBAAAsG,EAAA,6DAEQC,EAAWvG,EAAM,8BAEjBwG,EAAM,IAAIzG,GAJlB,SAM2ByG,EAAIC,UAAUF,GANzC,cAMMG,EANN,QAOeC,OAAS3G,EAAM,4BAC5B0G,EAAaE,OAAS5G,EAAM,2CAC5B0G,EAAaG,QAAQC,KAAO,CAC1BxM,KAAM,SACNyM,MAAO,CAAC/G,EAAM,yBACdgH,QAAS,IAZb,kBAeSN,GAfT,4C,sBAoBO,SAAeO,GAAtB,mC,8CAAO,WAAwCjH,GAAxC,mBAAAsG,EAAA,sEACeD,GAAQrG,GADvB,cACCkH,EADD,OAGCC,EAASD,EAAML,QAAQC,KAGd,eADPM,EAAIF,EAAMG,OAAO,IACjBC,KACJH,EAAOI,UAAY,CAAE,UAAa,QAClCH,EAAEI,MAAQrB,GAAUrQ,WARnB,kBAWIoR,GAXJ,4C,oECyBQO,GAhCM,SAACvR,EAAezB,GAEnC,IAAMiT,EAAU,OAAGxR,QAAH,IAAGA,OAAH,EAAGA,EAASkE,MAE5B,GAAIsN,EAAWxD,kBAAmB,CAChC,IAAMyD,EAAsB,GACxBC,EAAY,SAACC,EAA+BlK,GAC9C,YAAcnI,IAANqS,GAAsC,IAAnBA,EAAEjD,aAAqB+C,EAAQtI,KAAK,CAACyI,OAAQD,EAAGE,KAAMpK,IAAS,MAO5F,OALAiK,EAAUF,EAAW7C,iBAAkBpP,EAAU,sBACjDmS,EAAUF,EAAW5C,iBAAkBrP,EAAU,sBACjDmS,EAAUF,EAAWnD,cAAe9O,EAAU,mBAC9CmS,EAAUF,EAAW3C,iBAAkBtP,EAAU,sBAG/C,yBAAKmG,UAAU,wCACb,yBAAKA,UAAU,mBAAmB3F,EAAeyR,EAAWtD,iBAAkB3P,EAAU,mBACxF,yBAAKmH,UAAU,iCACb,yBAAKA,UAAU,kBAAkBnG,EAAU,qBAA3C,KAAkE,kCAAIiS,QAAJ,IAAIA,OAAJ,EAAIA,EAAYxD,oBAClF,yBAAKtI,UAAU,kBAAkBnG,EAAU,8BAA3C,KAA2E,kCAAIiS,QAAJ,IAAIA,OAAJ,EAAIA,EAAY1D,mBAE5F2D,EAAQvJ,KAAI,SAAC+E,GAAD,OAnCe,SAAC2B,EAA8ChF,GACjF,IAAMkI,EAAS,WAAsC,IAA/BlD,EAAiBJ,aAAmBuD,QAAQ,GAAnD,KACTC,EAAS,WAAsC,IAA/BpD,EAAiBN,aAAmByD,QAAQ,GAAnD,KACTE,EAAeH,IAAcE,EAAYF,EAA1B,UAAyCA,EAAzC,cAAwDE,GAE7E,OACE,yBAAKzQ,IAAK2Q,KAAKC,SAAUzM,UAAW,iCAClC,yBAAKnE,IAAK2Q,KAAKC,SAAUzM,UAAU,sBAAsBkE,GACzD,yBAAKrI,IAAK2Q,KAAKC,SAAUzM,UAAU,yBAAyBnG,EAAU,iBAAtE,KAAyF,2BAAI0S,IAC7F,yBAAK1Q,IAAK2Q,KAAKC,SAAUzM,UAAU,yBAAyBnG,EAAU,mBAAtE,KAA2F,2BAAIqP,EAAiBF,gBA0B1F0D,CAA4BnF,EAAE2E,OAAQ3E,EAAE4E,UAIlE,OACE,yBAAKnM,UAAU,mBACb,yBAAKA,UAAU,mBAAmB3F,EAAeyR,EAAWtD,iBAAkB3P,EAAU,mBACxF,yBAAKmH,UAAU,8BAA8BnG,EAAU,aCvC7D,SAAS8S,GAAoBnK,EAAmBjF,GAC5CA,EAAyB3B,SAAQ,SAACtB,GAC1BA,GAAWA,EAAQgO,mBAAqBhO,EAAQmO,YAChDjG,EAAIoK,gBACA,CACIrB,OAAQ,YACRsB,YAAa,YACbnB,GAAIpR,EAAQmO,YAEhB,CACIqE,SAAS,EACTxE,kBAAmBhO,EAAQgO,kBAC3BE,iBAAkBlO,EAAQkO,iBAC1BJ,gBAAiB9N,EAAQ8N,gBACzBO,cAAerO,EAAQqO,cACvBM,iBAAkB3O,EAAQ2O,iBAC1BC,iBAAkB5O,EAAQ4O,iBAC1BC,iBAAkB7O,EAAQ6O,sBA+B9C,IA8EejP,GA9EG,SAACsI,EAA+BjF,GAAyD,IAAD,EAEtFgC,qBAAWrD,GAApBsC,EAF+F,sBAG5EgB,wBAAqC5F,GAHuC,mBAG/FmT,EAH+F,KAGxFC,EAHwF,OAItDxN,wBAA6B5F,GAJyB,mBAI/FqT,EAJ+F,KAI7EC,EAJ6E,KAOtGvN,qBAAU,WACFpC,EAAyBxC,OAAS,GAAKyH,GAAOA,EAAI2K,UAAU,aAC5DR,GAAoBnK,EAAKjF,GAEpBiF,GACLA,EAAI4K,GAAG,cAAc,SAAUnR,GACR,cAAfA,EAAEoR,UAA4B7K,EAAI8K,eAAe,cACjDX,GAAoBnK,EAAKjF,QAItC,CAACA,EAA0BiF,IAG9B7C,qBAAU,WACFpC,EAAyBxC,OAAS,GAAKyH,GA7CnD,SAAgCA,EAAmBjF,GAC/C,IAAMgQ,EAA8BhQ,EAAyBiF,KAAI,SAACgL,GAAQ,OAAOA,EAAE/E,cAE/EjG,EAAIiL,SAAS,cAAgBjL,EAAI8K,eAAe,aAC7C,OAAH9K,QAAG,IAAHA,KAAKkL,UAAU,YACX,CAAC,KACG,CAAC,MAAO,QACR,CAAC,UAAWH,KAIpB/K,EAAI4K,GAAG,cAAc,SAAUnR,GACR,cAAfA,EAAEoR,UAA4B7K,EAAI8K,eAAe,eAC9C,OAAH9K,QAAG,IAAHA,KAAKkL,UAAU,YACX,CAAC,KACG,CAAC,MAAO,QACR,CAAC,UAAWH,SA8BxBI,CAAuBnL,EAAKjF,KAEjC,CAACA,EAA0BiF,IAG9B7C,qBAAU,WACN,GAAI6C,QAAiB5I,IAAVmT,EAAqB,CAC5B,IAAMa,EAAa,IAAIC,KAASC,MAAM,CAAEC,OAAQ,GAAI/N,UAAW,YAAagO,aAAa,IAEzFxL,EAAI4K,GAAG,aAAc,aAAa,SAAUnR,GACpCA,EAAEgS,SAAS,GAAGzP,MAAMsO,SACpBc,EAAWM,YAAY,SAClBC,QAAQC,KAAeC,eAAexC,GAAa5P,EAAEgS,SAAS,GAAIzP,EAAM3F,YACxEyV,UAAUrS,EAAEsS,QAEZC,MAAMhM,MAInBA,EAAI4K,GAAG,aAAc,aAAa,SAAUnR,GACpC2R,EAAWa,UACXb,EACCc,YAITlM,EAAI4K,GAAG,YAAa,aAAa,SAAUnR,GACvC,IAAM0S,EAAI1S,EAAEgS,SAAS,GACjBU,EAAEnQ,MAAMsO,SAAW6B,EAAEjD,KAAOuB,GAAoBW,EAAWa,WAC3Db,EACCU,UAAUrS,EAAEsS,QACZJ,QAAQC,KAAeC,eAAexC,GAAa5P,EAAEgS,SAAS,GAAIzP,EAAM3F,YACzEqU,EAAoByB,EAAEjD,QAI9BsB,EAASY,MAEd,CAACpL,EAAKhE,EAAM3F,SAAUkU,EAAOE,IAEhCtN,qBAAU,gBACO/F,IAAVmT,IACKvO,EAAMF,iBACNyO,EAAM6B,gBAAgB,iBAItB7B,EAAM8B,aAAa,oBAG5B,CAAC9B,EAAOvO,EAAMF,oBC5HN,SAASwQ,GAAWlI,GAC/B,OAAQ,kBAAC,IAAMmI,SAAP,KACJ,yBAAK/O,UAAU,eACVnG,EAAU,GAAD,OAAI+M,EAAO3J,eAAX,kBAEd,yBAAK+C,UAAU,iBACVnG,EAAU,cAEf,yBAAKmG,UAAU,cACV4G,EAAOxC,IAAM,uBAAG1B,KAAMkE,EAAOxC,IAAKxB,OAAO,SAASC,IAAI,uBAAuB+D,EAAOR,aAAmBQ,EAAOR,aAEnH,yBAAKpG,UAAU,iBACVnG,EAAU,aAEf,yBAAKmG,UAAU,cb0BK,SAACqF,EAAmC7G,EAAoClE,GAClG,IAAKA,EACH,OAAOT,EAAU,gBAGnB,SAASmV,EAAmBC,GAC1B,GAAKA,GAAsB,IAAfA,EAAIlU,OAGX,OAAIkU,EAAIlU,OAAS,GAAoB,kBAARkU,EAChC,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAKC,KAAK,MAEZD,EAGT,MAAQ,CAACD,EAAmB3J,GAAO2J,EAAmBxQ,GAAQlE,GAASkN,OAAO2H,SAAS3M,KAAI,SAAC/J,GAAO,OAAQ,kBAAC,IAAMsW,SAAP,KAAiBtW,EAAI,iCaxCrH2W,CAAaxI,EAAOvB,KAAMuB,EAAOpI,MAAOoI,EAAOtM,UAElDsM,EAAOd,qBAAuBc,EAAOf,mBACnC,oCACI,yBAAK7F,UAAU,iBACVnG,EAAU,kBAEf,yBAAKmG,UAAU,cAAf,UACQtG,EAA0BkN,EAAOd,qBADzC,mBACmEpM,EAA0BkN,EAAOf,sBAI5G,yBAAK7F,UAAU,iBACVnG,EAAU,+BAEf,yBAAKmG,UAAU,cACV4G,EAAOb,eAAP,WAAoD,IAAxBa,EAAOb,gBAAsBsG,QAAQ,GAAjE,KAAyE,OAE9E,yBAAKrM,UAAU,iBACVnG,EAAU,MAEf,yBAAKmG,UAAU,cAAf,UACQ4G,EAAOtB,cAEf,yBAAKtF,UAAU,iBACVnG,EAAU,oBAEf,yBAAKmG,UAAU,cACV4G,EAAOlK,iBAAP,UAA6BkK,EAAOlK,kBAAqB7C,EAAU,gBAExE,yBAAKmG,UAAU,iBACVnG,EAAU,eAEf,yBAAKmG,UAAU,cAAf,UACQ4G,EAAO/J,wBC5CRwS,OARf,SAAqBvT,GACnB,IAAMwT,EAAMC,mBAIZ,OAHA5P,qBAAU,WACR2P,EAAIE,QAAU1T,KAETwT,EAAIE,SCIb,IAAMC,GAAgB,SAACjN,EAAmBkN,GACvBlN,EAAImN,oBAAoB,aAAc,CACrD9C,YAAa,eAGNjR,SAAQ,SAAAgU,GACf,IAAMC,EAAaH,KAAa,OAAKE,QAAL,IAAKA,OAAL,EAAKA,EAAGlE,UAAwB9R,IAAlB8V,EAC9ClN,EAAIoK,gBACF,CACErB,OAAQ,aACRG,GAAE,OAAEkE,QAAF,IAAEA,OAAF,EAAEA,EAAGlE,IAET,CACEmE,UAAWA,QA6HJC,GAvHG,SAACtN,EAA+BlF,GAA+B,IAAD,EAE9DiC,qBAAWrD,GAApBsC,EAFuE,sBAGhEgB,mBAAS,IAAI2E,IAApByG,EAHuE,sBAIpCpL,wBAA6B5F,GAJO,mBAIvE8V,EAJuE,KAIxDK,EAJwD,KAKxEC,EAAoBX,GAAYK,GAEtC/P,qBAAU,WACR,GAAG6C,EAAI,CACL,IAAMzC,ECjBG,SAAmCzC,GAW9C,MATe,CACXoB,KAAM,UACNiN,UAAW,YACX5G,KAAM,CACFrG,KAAM,oBACNuP,SA1BZ,SAAkC3Q,GAC9B,OAAOA,EAAQ2S,SAAQ,SAACrJ,GAAY,IAAD,EAC/B,OAAKA,EAAOlB,cAAiBkB,EAAOjB,cAG7B,CACHjH,KAAM,UACNoN,WAAY,CACR7O,eAAgB2J,EAAO3J,eACvBkJ,UAAS,UAAES,EAAOT,iBAAT,aAAsBvM,GAEnCsW,SAAU,CACNxR,KAAM,QACNyR,YAAa,CAACvJ,EAAOjB,cAAeiB,EAAOlB,gBAVxC,MAiBL0K,CAAyB9S,KDgBrB+S,CAA0B/S,GACtC,QAAkC1D,IAA/B4I,EAAIiL,SAAS,cACdjL,EAAI8N,UAAU,aAAcvQ,GAC5ByC,EAAI+N,SAAS,CACX7E,GAAI,aACJhN,KAAM,SACN6M,OAAQ,aACRK,MAAOrB,GAAUC,eAIKhI,EAAI2K,UAAU,cACtBqD,QAAQzQ,EAAIgF,SAG/B,CAACvC,EAAKlF,IAETqC,qBAAU,WACJ6C,IACC,OAAHA,QAAG,IAAHA,KAAKkL,UAAU,aACf,CACE,QACA,CAAC,MAAO,kBACR,WAAYlP,EAAMpB,QAAQK,aAAaC,SACvC,WAAYc,EAAMpB,QAAQK,aAAaE,SACvC,QAASa,EAAMpB,QAAQK,aAAaG,MACpC,WAAYY,EAAMpB,QAAQK,aAAaG,OACvC,OAIH,CAAC4E,EAAKhE,EAAMpB,QAAQK,eAEvBkC,qBAAU,WACR,GAAI6C,EAAK,CACP,IAAIiO,OAAuC7W,EAE3C4I,EAAI4K,GAAG,QAAS,cAAc,SAAUnR,QAErBrC,IAAb6W,GAEFA,EAAS/B,SAEX,IAAMvI,EAAYlK,EAAEgS,SAAS,GAAGnC,WAAW3F,UAE3CyE,EAAI8F,iBAAiBvK,GAAWwK,MAAK,SAAC/J,GACrB,OAAXA,IACFmJ,EAAiB5J,GACjBsJ,GAAcjN,EAAK2D,IACnBsK,EAAW,IAAI5C,KAASC,MAAM,CAAEC,OAAQ,EAAG/N,UAAW,cACnDsO,UAAUrS,EAAEsS,QACZJ,QAAQC,KAAeC,eAAeS,GAAWlI,KACjDsH,YAAY,SACZM,MAAMhM,IACA4K,GAAG,SAAQ,WAClB2C,OAAiBnW,GACjB6V,GAAcjN,aAgBtBA,EAAI4K,GAAG,aAAc,cAAc,WACjC5K,EAAIoO,YAAYtF,MAAMuF,OAAS,aAEjCrO,EAAI4K,GAAG,aAAc,cAAc,WACjC5K,EAAIoO,YAAYtF,MAAMuF,OAAS,SAGlC,CAACrO,EAAKhE,EAAM3F,SAAU+R,IAEzBjL,qBAAU,WACJ6C,IACEwN,GACFxN,EAAIoK,gBACF,CACErB,OAAQ,aACRG,GAAIsE,GAEN,CACEc,YAAY,IAKlBtO,EAAIoK,gBACF,CACErB,OAAQ,aACRG,GAAIgE,GAEN,CACEoB,YAAY,OAIjB,CAACtO,EAAKkN,EAAeM,K,mCE9H1B,SAASe,GAAUvO,EAAmBrD,GACpCkM,GAAyBf,IAAwCqG,MAAK,SAACrF,IPsBlE,SAA4CA,EAAY9I,GAC7D,IAAMwO,EAAa,OAAG1F,QAAH,IAAGA,OAAH,EAAGA,EAAOG,OAAO,GAAG,gBAIvC,GAFAjJ,EAAI8N,UAAUU,EAAe1F,EAAML,QAAQC,MAErB,cAAlB8F,EAA8B,CAChC,IAAMC,EAAK,OAAG3F,QAAH,IAAGA,OAAH,EAAGA,EAAOG,OAAO,GAC5BwF,EAAM1F,OAASyF,EACfxO,EAAI+N,SAASU,QAGf3F,EAAMG,OAAO7P,SAAQ,SAACqV,GACC,mBAAjBA,EAAM1F,QAAgD,qBAAjB0F,EAAM1F,SAE7C0F,EAAM1F,OAASyF,EACfxO,EAAI+N,SAASU,OOpCfC,CAAmC5F,EAAO9I,GAC1C,IAAM2O,EAAmB3O,EAAI4O,WAE7B,GAAID,GAAaA,EAAU1F,OAAQ,CAAC,IAAD,iBACf0F,EAAU1F,QADK,IACjC,2BAA2C,CAAC,IAAnCwF,EAAkC,QAE1B,mBADAA,EAAM,kBAIjBzO,EAAI6O,UAAU,YAAaJ,EAAMvF,IAGnClJ,EAAI4K,GAAG,aAAc6D,EAAMvF,IAAI,SAAUzP,GACvCkD,EAAS,CAAET,KAAM,0BAEnB8D,EAAI4K,GAAG,aAAc6D,EAAMvF,IAAI,SAAUzP,GACvCkD,EAAS,CAAET,KAAM,4BAbU,mCATvCmP,KAASyD,YAAcC,EAAQ,KAAqDC,QAEpF3D,KAAS4D,YAAcpQ,iGA4BvB,IAwCeqQ,GAxCK,WAClB,IAAMC,EAAkBpC,iBAAuB,MADlB,EAEHhQ,qBAAWrD,GAFR,mBAEtBsC,EAFsB,KAEfW,EAFe,OAGPK,wBAAmC5F,GAH5B,mBAGtB4I,EAHsB,KAGjBoP,EAHiB,KAkC7B,OA5BAjS,qBAAU,WAoBR,OAnBA,sBAAC,8BAAA+K,EAAA,sEAC4BW,GAAyBf,IADrD,OACOuH,EADP,QAGOC,EAAI,IAAIjE,KAASkE,IAAI,CAEzBC,UAAWL,EAAgBnC,QAC3BlE,MAAOuG,EACPI,OAAQ,CAAC,GAAI,IACbC,KAAM,EACNC,oBAAoB,EACpBC,WAAW,KAGXhF,GAAG,QAAQ,WACX2D,GAAUe,EAAG3S,GACbyS,EAAOE,MAfV,0CAAD,GAmBO,yBAAMtP,QAAN,IAAMA,OAAN,EAAMA,EAAKkM,YACjB,IAGHxU,GAAUsI,EAAKhE,EAAMpB,QAAQG,0BAE7BuS,GAAUtN,EAAKhE,EAAMpB,QAAQE,SAI3B,yBAAK0C,UAAU,qBAAqBsP,IAAK,SAAC+C,GAAD,OAASV,EAAgBnC,QAAU6C,M,+CClEjE,SAASC,GAAgBrT,GAA8B,IAC5D9D,EAAwE8D,EAAxE9D,KAAMoX,EAAkEtT,EAAlEsT,QAASC,EAAyDvT,EAAzDuT,cAAezE,EAA0C9O,EAA1C8O,OAAQ0E,EAAkCxT,EAAlCwT,SADqB,EACaxT,EAAxByT,iBADW,MACC,QADD,EAEnE,OACI,kBAAC5E,GAAA,EAAD,CACEjS,IAAK2Q,KAAKC,SACVsB,OAAQA,EACR0E,SAAUA,EACVE,KAAMD,EACNE,OAAQ,WACNlS,GAAmB,CAEjBsB,SAAU,UAEVvD,OAAQ,UAERqD,MAAO0Q,GAAiB,qBAK5BK,gBAAiB,CAAEC,gBAAiB,CAAEC,kBAAmB,WACzDC,QAAS,0BAAMhT,UAAU,aAAa7E,IACrCqX,GAEC,kBAAC1E,GAAA,EAAMmF,OAAP,CAAcjT,UAAU,aAAawS,GAEvC,kBAAC1E,GAAA,EAAMoF,QAAP,CAAelT,UAAU,aAAauS,I,OClC/B,SAASY,KACpB,OACI,yBAAKnT,UAAU,oBACX,yBAAKA,UAAU,6BACVnG,EAAU,kBAAmB,CAAC,UAAUuZ,eAE7C,6BACI,6BACKvZ,EAAU,kBAAmB,CAAC,iBAAkB,iBAAkB,KAAM,EAAC,GAAO,IACjF,kBAACyY,GAAD,CACIC,QACI,6BACI,2BACK1Y,EAAU,kBAAmB,CAAC,WAAY,CAAE,gBAdzD,QAkBAsB,KAAMtB,EAAU,eAAeuJ,cAC/B2K,QAAS,KAEZlU,EAAU,kBAAmB,CAAC,iBAAkB,kBAAmB,KAAM,EAAC,GAAM,MAGzF,2BACCA,EAAU,kBAAmB,CAAC,mBAAoB,OAEnD,2BACCA,EAAU,kBAAmB,CAAC,kBAAmB,Q,OCvB/C,SAASwZ,GAAT,GAAgD,IAA1B9S,EAAyB,EAAzBA,KAAyB,EAC5ChB,qBAAWrD,GAApBsC,EADqD,sBAEvBgB,mBAAS,GAFc,mBAErDnB,EAFqD,KAE1CiV,EAF0C,OAGxB9T,mBAAS,GAHe,mBAGrDoK,EAHqD,KAGzC2J,EAHyC,OAI1C/T,mBAAS,GAJiC,mBAIrDkK,EAJqD,KAIlD8J,EAJkD,KAKtDC,EAAYjV,EAAM+B,GAmBxB,OAjBAZ,qBAAU,YACqB,uCAAG,sBAAA+K,EAAA,sDAC9B4I,EAAgBG,EAAUlW,yBAAyBxC,QACnDyY,EACEC,EAAUlW,yBACPiF,KAAI,SAAC+E,GAAD,OAA4BA,EAAEe,qBAClCoL,QAAO,SAAChJ,EAAWiJ,GAAZ,OAA0BjJ,EAAIiJ,IAAG,IAE7CJ,EACEE,EAAUlW,yBACPiF,KAAI,SAAC+E,GAAD,OAA4BA,EAAEa,mBAClCsL,QAAO,SAAChJ,EAAWiJ,GAAZ,OAA0BjJ,EAAIiJ,IAAG,IAVf,2CAAH,qDAa7BC,KACC,CAACH,EAAUlW,2BAGZ,yBAAKyC,UAAU,8BACb,yBAAKA,UAAU,yCACZnG,EAAU,qBAAqBuZ,eAElC,yBAAKpT,UAAU,oBACb,yBAAKA,UAAU,uBAAuB4J,GACtC,yBAAK5J,UAAU,yCACZnG,EAAU,2BAGf,yBAAKmG,UAAU,oBACb,yBAAKA,UAAU,yCACZnG,EAAU,oBAAqB,CAAC,aAEnC,yBAAKmG,UAAU,uBAAuB3B,GACtC,yBAAK2B,UAAU,yCACZnG,EAAU,oBAAqB,CAAC,cAGrC,yBAAKmG,UAAU,oBACb,yBAAKA,UAAU,yCACZnG,EAAU,wBAAyB,CAAC,aAEvC,yBAAKmG,UAAU,8BAA8B0J,EAAEmK,kBAC/C,yBAAK7T,UAAU,0CACZnG,EAAU,wBAAyB,CAAC,cAGzC,8B,4CC3DOia,GAAa,uCAAG,WAC3B3U,EACA9B,EACAyB,EACAC,EACAhB,EACAwC,EACAwT,GAP2B,yBAAArJ,EAAA,6DAS3BvL,EAAS,CACPT,KAAM,iBACNC,QAAS,CACPC,cAAe2B,EACf/C,WAAW,KAIf2B,EAAS,CACPT,KAAM,gBACNC,QAAS,CACPG,aACAC,cACAH,cAAe2B,MAIbyT,EAA0BrY,OAAOsY,OAAO,GAAI5W,IACnCyB,GAAc,IAAItC,IAAIuC,GAE/B6L,EAAM,IAAIzG,GA7BW,SAiCvB+P,QAAQC,IAAI,CACVvJ,EAAIwJ,mBAAmBJ,EAAgBjW,GACvC6M,EAAIyJ,kBAAkBL,KAnCD,mCA+BpB1W,EA/BoB,KAgCzBC,EAhCyB,KAsC3B4B,EAAS,CACPT,KAAM,uBACNC,QAAS,CAAEC,cAAe2B,EAAMjD,aAElC6B,EAAS,CACPT,KAAM,8BACNC,QAAS,CAAEC,cAAe2B,EAAMhD,8BAGlC4B,EAAS,CACPT,KAAM,iBACNC,QAAS,CACPC,cAAe2B,EACf/C,WAAW,KAnDY,4CAAH,kEAwDb8W,GAAc,uCAAG,WAAOnV,EAAe9B,EAAkBU,EAAwBwC,GAAhE,uBAAAmK,EAAA,6DAEtBE,EAAM,IAAIzG,GAEhBhF,EAAS,CACPT,KAAM,iBACNC,QAAS,CACPC,cAAe2B,EACf/C,WAAW,KARa,SAaQ0W,QAC/BC,IAAI,CAACvJ,EAAIwJ,mBAAmB/W,EAASU,GACtC6M,EAAIyJ,kBAAkBhX,KAfE,mCAYrBC,EAZqB,KAa1BC,EAb0B,KAiB5B4B,EAAS,CACPT,KAAM,uBACNC,QAAS,CAAEC,cAAe2B,EAAMjD,aAElC6B,EAAS,CACPT,KAAM,8BACNC,QAAS,CAAEC,cAAe2B,EAAMhD,8BAGlC4B,EAAS,CACPT,KAAM,iBACNC,QAAS,CACPC,cAAe2B,EACf/C,WAAW,KA9Ba,4CAAH,4DC5CZ,SAAS+W,GAAgBtV,GAA8B,IAC5DuV,EAA+EvV,EAA/EuV,MAAO7B,EAAwE1T,EAAxE0T,KAAMJ,EAAkEtT,EAAlEsT,QAASC,EAAyDvT,EAAzDuT,cAAezE,EAA0C9O,EAA1C8O,OAAQ0E,EAAkCxT,EAAlCwT,SADc,EACoBxT,EAAxByT,iBADI,MACQ,QADR,EAEnE,OACE,yBAAK1S,UAAU,QACb,kBAAC8N,GAAA,EAAD,CACEjS,IAAK2Q,KAAKC,SACVsB,OAAQA,EACR0E,SAAUA,EACVE,KAAMD,EACNE,OAAQ,WACNlS,GAAmB,CAEjBsB,SAAU,UAEVvD,OAAQ,UAERqD,MAAO0Q,GAAiB,qBAK5BK,gBAAiB,CAAEC,gBAAiB,CAAEC,kBAAmB,WACzDC,QACE,kBAAC,IAAD,CACElQ,KAAM2R,IACND,MAAOA,EACP7B,KAAMA,KACTH,GAEC,kBAAC1E,GAAA,EAAMmF,OAAP,CAAcjT,UAAU,aAAawS,GAEvC,kBAAC1E,GAAA,EAAMoF,QAAP,CAAelT,UAAU,aAAauS,KCrC/B,SAASmC,GAAT,GAAwF,IAAhEC,EAA+D,EAA/DA,YAAaC,EAAkD,EAAlDA,aAAcC,EAAoC,EAApCA,eAC9D,OACI,yBAAK7U,UAAU,aACf,yBAAKA,UAAU,yBAAyB2U,GACvCC,GACG,yBAAK5U,UAAU,oBACf,kBAACuU,GAAD,CACIxG,OAAQ,GACR0E,SAAS,eACT+B,MAAM,UACNhC,cAAeqC,GAAkCF,EACjDjC,UAAU,QACVC,KAAK,KACLJ,QAASqC,M,wBCRV,SAASE,GAAT,GAAgD,IAA1BvU,EAAyB,EAAzBA,KAAyB,EAClChB,qBAAWrD,GADuB,mBACrDsC,EADqD,KAC9CW,EAD8C,KAEtDsU,EAAYjV,EAAM+B,GAFoC,EAGnB/G,MAAMC,KAAKga,EAAUpW,QAAQL,cAHV,mBAGrD+X,EAHqD,KAGpCC,EAHoC,OAI1BxV,mBAASuV,GAJiB,mBAIrD3b,EAJqD,KAI1C6b,EAJ0C,OAK9BzV,mBAASwV,GALqB,mBAKrD/b,EALqD,KAK5Cic,EAL4C,KAO5DvV,qBAAU,WACRwV,0BAAe,KAAMC,MACrBD,0BAAe,KAAME,QACpB,IAEH,IAAMC,EAAiB,uCAAG,WAAOC,EAAkB7N,GAAzB,eAAAgD,EAAA,6DAClB8K,EAAW,CAACpc,EAAWH,IACpB,GAAKsc,EAAU7N,EAAOtO,EAC/Boc,EAAS,GAAMD,EAAiBtc,EAAPyO,EAErB6N,EACFN,EAAavN,GAGbwN,EAAWxN,GATW,SAWlBoM,GAAc3U,EAClBsU,EAAUpW,QACV,eACAmY,EACAhX,EAAMV,cAAcC,cACpBwC,EACA/B,EAAMrB,wBAjBgB,2CAAH,wDAoBjBsY,EAAc,SAAC,GAAD,IAAG3Z,EAAH,EAAGA,MAAO6G,EAAV,EAAUA,QAASxH,EAAnB,EAAmBA,KAAnB,OAClB,yBAAK6E,UAAU,0BACb,6BACG7E,GAEH,kBAACua,GAAA,EAAD,CAAO1V,UAAU,oBACflE,MAAOA,EACP6Z,aAAa,OACb7S,KAAK,WACL8S,OAAO,EACPlX,KAAK,OACLmX,YAAY,gBACZlT,QAASA,MAIf,OACE,yBAAK3C,UAAU,8BACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,QACb,6BACE,kBAAC0U,GAAD,CAAeC,YAAa9a,EAAU,aAAc+a,aAAc/a,EAAU,uBAE9E,6BACE,kBAAC,KAAD,CACEic,WAAW,aACXC,SAAU3c,EACV6E,QAASO,EAAMR,mBAAmBC,QAClCC,QAASjF,EACT+c,YAAa,kBAACP,EAAD,CAAa3Z,MAAO1C,EAAW+B,KAAMtB,EAAU,aAAc8I,QAASsT,UACnFC,eAAe,EACfC,OAAQ3X,EAAM3F,SACdud,SAAU,aACVC,YAAU,EACVC,mBAAiB,EACjBC,kBAAgB,EAChBC,qBAAqB,EACrBC,aAAa,SACbC,SAAU,SAAChP,GAAD,OAAgB4N,GAAkB,EAAM5N,OAGtD,6BACE,kBAAC,KAAD,CACAoO,WAAW,aACT9V,UAAU,yBACV+V,SAAU9c,EACVkd,OAAQ3X,EAAM3F,SACd6d,SAAU,SAAChP,GAAD,OAAgB4N,GAAkB,EAAO5N,IACnDsO,YAAa,kBAACP,EAAD,CAAa3Z,MAAO1C,EAAW+B,KAAMtB,EAAU,WAAY8I,QAASsT,UACjFhY,QAAS7E,EACT8E,QAASM,EAAMR,mBAAmBE,QAClCkY,SAAU,aACVC,YAAU,EACVC,mBAAiB,EACjBJ,eAAe,EACfM,qBAAqB,EACrBD,kBAAgB,EAChBI,YAAY,QACZF,aAAa,aAInB,yBAAKzW,UAAU,W,cC9FR,SAAS4W,GAAT,GAAyC,IAAtBrW,EAAqB,EAArBA,KAAqB,EAC3BhB,qBAAWrD,GADgB,mBAC9CsC,EAD8C,KACvCW,EADuC,KAE/CsU,EAAYjV,EAAM+B,GAElBsW,EAAa,SAACC,GAClB,OAAOtd,MAAMC,KAAKga,EAAUpW,QAAQyZ,KAGhCC,EAAgB,SAAChQ,EAAc+P,GACnC,GAAK/P,EAAL,CAGA,IAAMiQ,EAA8C,GAC9Czc,EAAe/B,EAAase,EAAYG,YACxCC,EAAgB,UAAM3c,EAAN,WACtB,OAAQuc,GACN,IAAK,UACH/P,EAAQnL,SAAQ,SAAC2L,GACfyP,EAAkBvT,KAAK,CACrB5H,IAAK0L,EACLpM,KAAMd,EAAekN,EAAG/I,EAAM3F,SAAUqe,GACxCpb,MAAOyL,OAGX,MACF,QACER,EAAQnL,SAAQ,SAAC2L,GACf,IAAM7L,EAAmB7B,EAAUqd,EAAkB,CAAC1e,EAAa+O,KAC7D4P,EAAoBtd,EAAUqd,EAAkB,CAAC3P,EAAExL,QAAQ,KAAM,MACnEZ,EAAQgc,GAAsBzb,EAA8BA,GAAsCyb,EAAjD5P,EAAI,IACzDyP,EAAkBvT,KAAK,CACrB5H,IAAK0L,EACLpM,KAAMA,EACNW,MAAOyL,OAIf,OAAOyP,IAGHI,EAAS,uCAAG,WAAOrS,EAAWjG,GAAlB,SAAA4L,EAAA,6DAChBvL,EAAS,CACPT,KAAM,gBACNC,QAAS,CACPG,aACAC,YAAagG,EAAKjJ,MAClB8C,cAAe2B,KANH,SASVuT,GACJ3U,EACAsU,EAAUpW,QACVyB,EACAiG,EAAKjJ,MACL0C,EAAMV,cAAcC,cACpBwC,EACA/B,EAAMrB,wBAhBQ,2CAAH,wDAmBTka,EAAsB,SAACP,EAAyBjB,GACpD,OACE,yBAAK7V,UAAU,QACb,kBAACsX,GAAA,EAAD,CACEnc,KAAM0a,EACND,OAAK,EACL2B,UAAQ,EACRC,QAAM,EACNC,WAAS,EACTC,WAAS,EACT3Q,QAASgQ,EAAcvY,EAAMX,iBAAiBiZ,GAAcA,GAC5DV,SAAQ,uCAAE,WAAOna,EAAQ8I,GAAf,SAAA2F,EAAA,sEACF0M,EAAUrS,EAAM+R,GADd,OAERpW,GAAmB,CAEjBsB,SAAU,SAEVvD,OAAQ,YAERqD,MAAM,GAAD,OAAKgV,EAAYG,WAAjB,cAAiClS,EAAKjJ,SARrC,2CAAF,wDAYR6b,aAAcd,EAAWC,OAMjC,OACE,yBAAK9W,UAAU,cACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,iBACZnG,EAAU,UAAUuZ,eAEvB,yBAAKpT,UAAU,oBACb,kBAACuU,GAAD,CACExG,OAAQ,GACR0E,SAAS,eACT+B,MAAM,UACNhC,cAAe3Y,EAAU,UACzB6Y,UAAU,QACVC,KAAK,KACLJ,QAAS1Y,EAAU,qBAGzB,yBAAKmG,UAAU,8BACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,QACb,6BAEI,kBAAC0U,GAAD,CACEC,YAAa9a,EAAU,oBACvB+a,aACA,6BACE,2BAAI/a,EAAU,0BAA2B,CAAC,oBAC1C,2BAAIA,EAAU,0BAA2B,CAAC,yBAMlD,6BACGwd,EAAoB,cAAexd,EAAU,gBAEhD,6BACGwd,EAAoB,uBAAwBxd,EAAU,wBAG3D,yBAAKmG,UAAU,QACb,6BACE,kBAAC0U,GAAD,CAAeC,YAAa9a,EAAU,gBAAiB+a,aAAc/a,EAAU,0BAEjF,6BACGwd,EAAoB,mBAAoBxd,EAAU,qBAErD,6BACGwd,EAAoB,MAAOxd,EAAU,SAExC,6BACGwd,EAAoB,MAAOxd,EAAU,UAG1C,yBAAKmG,UAAU,QACb,6BACE,kBAAC0U,GAAD,CAAeC,YAAa9a,EAAU,mBAAoB+a,aAAc/a,EAAU,6BAEpF,6BACGwd,EAAoB,YAAaxd,EAAU,cAE9C,6BACGwd,EAAoB,oBAAqBxd,EAAU,sBAEtD,6BACGwd,EAAoB,gBAAiBxd,EAAU,sB,OClK/C,SAAS+d,KAAU,IAAD,EACLrY,qBAAWrD,GADN,mBACxBsC,EADwB,KACjBW,EADiB,KAEzB0Y,EAAqB,SAAC5b,GAE1B,OAD0BA,EAAE6b,cAAcpM,IAExC,IAAK,WACH,OAAOvM,EAAS,CAAET,KAAM,8BAE1B,IAAK,WACH,OAAOS,EAAS,CAAET,KAAM,8BAE1B,IAAK,QACH,OAAOS,EAAS,CAAET,KAAM,6BAK9B,OACE,yBAAKsB,UAAU,wBAAwBnE,IAAK2Q,KAAKC,UAC/C,yBAAKzM,UAAU,cAAc0L,GAAG,WAAW/I,QAASkV,GAClD,uBAAG7X,UAAU,yBAAyBsL,MAAO,CAAEyM,WAAYhO,GAA0BrM,SAASsM,SAC9F,+BAAQnQ,EAAU,oBAClB,2BAAOmG,UAAU,cAActB,KAAK,WAAWsZ,QAASxZ,EAAMpB,QAAQK,aAAaC,SAAUua,UAAQ,KAEvG,yBAAKjY,UAAU,cAAc0L,GAAG,WAAW/I,QAASkV,GAClD,uBAAG7X,UAAU,yBAAyBsL,MAAO,CAAEyM,WAAYhO,GAA0BpM,SAASqM,SAC9F,+BAAQnQ,EAAU,oBAClB,2BAAOmG,UAAU,cAActB,KAAK,WAAWsZ,QAASxZ,EAAMpB,QAAQK,aAAaE,SAAUsa,UAAQ,KAEvG,yBAAKjY,UAAU,mBAAmB0L,GAAG,QAAQ/I,QAASkV,GACpD,uBAAG7X,UAAU,yBAAyBsL,MAAO,CAAEyM,WAAYhO,GAA0BnM,MAAMoM,SAC3F,+BAAQnQ,EAAU,iBAClB,2BAAOmG,UAAU,cAActB,KAAK,WAAWsZ,QAASxZ,EAAMpB,QAAQK,aAAaG,MAAOqa,UAAQ,KAEpG,yBAAKjY,UAAU,eACb,uBAAGA,UAAU,oBAAoBsL,MAAO,CAAEyM,WAAYhO,GAA4BI,QAAQH,MAAOkO,aAAc,EAAGC,aAAc,WAChI,+BAAQte,EAAU,2BAEpB,yBAAKmG,UAAU,eACb,uBAAGA,UAAU,oBAAoBsL,MAAO,CAAEyM,WAAYhO,GAA4BG,QAAQF,MAAOkO,aAAc,EAAGC,aAAc,WAChI,+BAAQte,EAAU,8BAEpB,yBAAKmG,UAAU,eACb,uBAAGA,UAAU,oBAAoBsL,MAAO,CAAEyM,WAAYhO,GAA4BM,SAASL,MAAOkO,aAAc,EAAGC,aAAc,WACjI,+BAAQte,EAAU,oBCnCX,SAASue,KAAiB,IAAD,EACM5Y,oBAAS,GADf,mBAC/B6Y,EAD+B,KACZC,EADY,OAEA9Y,oBAAS,GAFT,mBAE/B+Y,EAF+B,KAElBC,EAFkB,KAIhCC,EAAqB,SAACC,EAAqBH,GAC/CD,EAAeI,GACfF,EAAeD,IAGjB,OACE,yBAAKvY,UAAU,aACb,kBAAC2Y,GAAA,EAAQC,SAAT,CAAkBC,GAAIC,KAAS9Y,UAAU,aAEvC,kBAAC2Y,GAAA,EAAD,CACEE,GAAIE,KACJC,UAAU,UACVlW,KAAK,UACL9C,UAAU,aACViZ,UAAQ,EACRC,UAAU,OACVC,QAASd,EACTe,MAAM,QAER,kBAACxC,GAAD,CAASrW,KAAMnI,EAAcgF,UAC7B,kBAAC0X,GAAD,CAAYvU,KAAMnI,EAAcgF,UAC9B,kBAAC,IAAD,CACE0F,KAAMuW,IACN1W,QAAS,kBAAM8V,GAAmB,GAAO,IACzCzY,UAAW,OACXwU,MAAO,UACPlJ,MAAO,CAAEgO,WAAY,IAAK7G,SAAU,WAAY8G,OAAQ,IAAMC,IAAK,GAAIC,MAAO,IAC9E9G,KAAM,QAGV,kBAACgG,GAAA,EAAD,CACEE,GAAIE,KACJC,UAAU,UACVlW,KAAK,UACL9C,UAAU,aACViZ,UAAQ,EACRC,UAAU,OACVC,QAASZ,EACTa,MAAM,QAEN,kBAAC,GAAD,CAAY7Y,KAAMnI,EAAcgF,UAChC,kBAAC,GAAD,MACA,kBAAC,IAAD,CACE0F,KAAMuW,IACN1W,QAAS,kBAAM8V,GAAmB,GAAO,IACzCzY,UAAW,OACXwU,MAAO,UACPlJ,MAAO,CAAEgO,WAAY,IAAK7G,SAAU,WAAY8G,OAAQ,IAAMC,IAAK,GAAIC,MAAO,IAC9E9G,KAAM,OACN,uBAAGjQ,KAAK,uBAAuB1C,UAAU,uBAAuB4C,OAAO,UAAUC,IAAI,uBACvF,kBAAC,GAAD,CAAS7C,UAAU,kBAAkBE,OAAO,QAE9C,uBAAGF,UAAU,qBACX,+BACCnG,EAAU,6CAIb,kBAAC8e,GAAA,EAAQe,OAAT,CAAgB1Z,UAAU,aACxB,yBAAKA,UAAU,gCACb,kBAAC,GAAD,OAEF,kBAAC,GAAD,MAEA,yBAAKA,UAAU,iBACbsL,MAAO,CAAEkO,IAAK,GAAIC,MAAO,KACzB,kBAAC,IAAD,CACE3W,KAAM6W,IACNhX,QAAS,kBAAM8V,GAAoBJ,GAAmB,IACtDrY,UAAW,OACXwU,MAAO,UACP7B,KAAM,QAEV,yBAAK3S,UAAU,iBACbsL,MAAO,CAAEkO,IAAK,GAAIC,MAAO,KACzB,kBAAC,IAAD,CACE3W,KAAM8W,IACNjX,QAAS,kBAAM8V,GAAmB,GAAQF,IAC1CvY,UAAW,OACXwU,MAAO,UACP7B,KAAM,W,cCzFL,SAASkH,GAAiB5a,GAA+B,IAE5DwP,EAAuBxP,EAAvBwP,OAAuBxP,EAAf6a,WAEhB,OACI,kBAACC,GAAA,EAAD,CACE/Z,UAAU,oBACVga,eAAe,EACfC,oBAAoB,EACpBC,KAAMzL,GAEN,kBAACsL,GAAA,EAAM9G,OAAP,KAAepZ,EAAU,yBACzB,kBAACkgB,GAAA,EAAM7G,QAAP,KACE,2BAAIrZ,EAAU,sC,OCVX,SAASsgB,GAAT,GAA8C,IAAvB5Z,EAAsB,EAAtBA,KAE9B6Z,EAAc,kBAClB,yBAAKpa,UAAU,oBACb,yBAAKA,UAAU,6BACZnG,EAAU,WAAWuZ,eAExB,2BACGvZ,EAAU,eAAgB,CAAC,oBAE9B,2BACGA,EAAU,eAAgB,CAAC,uBAKlC,OACE,yBAAKmG,UAAU,uCACb,kBAAC,GAAD,CAAYO,KAAMA,IACR,YAATA,EACC,kBAAC6Z,EAAD,MAEE,kBAAC,GAAD,MAGJ,yBAAKpa,UAAU,OACb,uBAAG0C,KAAK,2CAA2C1C,UAAU,uBAAuB4C,OAAO,UAAUC,IAAI,uBACvG,yBAAK9C,IAAI,8FAA8FC,UAAU,kBAAkBC,IAAI,oCAAoCC,OAAO,QAEpL,uBAAGwC,KAAK,+CAA+C1C,UAAU,uBAAuB4C,OAAO,UAAUC,IAAI,uBAC3G,yBAAK9C,IAAKmD,KAAkBlD,UAAU,kBAAkBC,IAAI,4BAA4BC,OAAO,QAEjG,uBAAGwC,KAAK,gEAAgE1C,UAAU,uBAAuB4C,OAAO,UAAUC,IAAI,uBAC5H,yBAAK9C,IAAKoD,KAAcnD,UAAU,kBAAkBC,IAAI,gCAAgCC,OAAO,QAEjG,uBAAGwC,KAAK,uBAAuB1C,UAAU,uBAAuB4C,OAAO,UAAUC,IAAI,uBACnF,kBAAC,GAAD,CAAS7C,UAAU,kBAAkBE,OAAO,QAE9C,uBAAGF,UAAU,qBACX,+BACCnG,EAAU,8C,OC3CN,SAASwgB,GAAT,GAA6C,IAAtB9Z,EAAqB,EAArBA,KACpC,OACE,yBAAKP,UAAU,gEACb,yBAAKA,UAAU,0BACb,kBAAC4W,GAAD,CAASrW,KAAMA,IACf,kBAACuU,GAAD,CAAYvU,KAAMA,MCFX,SAAS+Z,KACtB,IAAM5Y,EAAyBC,wBAAc,CAAEgC,ejCdR,OiCaP,EAENpE,qBAAWrD,GAFL,mBAEzBsC,EAFyB,KAElBW,EAFkB,KAkBhC,OAdAQ,qBAAU,WAKR,OAJAR,EAAS,CACPT,KAAM,yBACNC,SAAS,IAEJ,WACLQ,EAAS,CACPT,KAAM,yBACNC,SAAS,OAIZ,IAGD,oCACE,yBAAKqB,UAAU,uBACX0B,EAiBE,yBAAK1B,UAAU,aACb,kBAAC,GAAD,OAjBH,yBAAKA,UAAU,aACd,yBAAKA,UAAU,kBACb,kBAACma,GAAD,CAAa5Z,KAAMnI,EAAcgF,WAEnC,yBAAK4C,UAAU,kBACb,kBAACua,GAAA,EAAD,CAAQC,eAAa,EAACC,OAAQjc,EAAMpB,QAAQI,YAC5C,yBAAKwC,UAAU,gCACb,kBAAC,GAAD,OAEF,kBAAC,GAAD,OAEF,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CAAcO,KAAMnI,EAAcgF,aAS1C,kBAACyc,GAAD,CAAkBpL,QjCtDS,EiCsDkBqL,WAAY,a,gCCxB/D,SAASY,KACP,IAsBMC,EAtBe,CACnB,CACE7Y,MAAO,cACPI,KAAM,wFAER,CACEJ,MAAO,iBACPI,KAAM,wGAER,CACEJ,MAAO,YACPI,KAAM,0CAER,CACEJ,MAAO,cACPI,KAAM,uGAER,CACEJ,MAAO,gBACPI,KAAM,wGAGmBM,KAAI,SAACoY,EAAa/f,GAAd,OAC/B,kBAAC2I,GAAA,EAAD,CAAQ3H,IAAKhB,EAAO2Z,MAAM,OAAO7B,KAAK,QAAQ3S,UAAU,aACtD,uBACE2C,QAAS,kBAlCET,EAkCc0Y,EAAY9Y,WAjC3CpB,GAAmB,CACjBsB,SAAU,kBACVvD,OAAQ,QACRqD,MAAOI,IAJO,IAACA,GAmCXU,OAAO,SACPC,IAAI,aACJH,KAAMkY,EAAY1Y,MAElB,uBAAGlC,UAAU,eAAb,IAA6BnG,EAAU+gB,EAAY9Y,aAKzD,OAAO,6BAAM6Y,GAGf,SAASE,KAAiB,IAAD,EACerb,oBAAU,GADzB,mBAChBsb,EADgB,KACHC,EADG,KAEjBC,EAAc,SAAC/e,EAAQ8I,GAA+B,IAClDlK,EAAUkK,EAAVlK,MAERkgB,EADiBD,IAAgBjgB,GAAS,EAAIA,IAI1CogB,EAAkBtf,OAAOuf,Q/B8B1B,SAAyB/f,GAC9B,IAAMI,EACJ1C,IAAaV,EAAaW,QAAW0C,EAAoBC,EAE3D,IACE,OAAOF,EAAsBJ,GAC7B,MAAOc,GACP,MAAO,CAAE4I,MAAM,oCAAD,OAAsC1J,K+BpCpDggB,CAAgB,sBAChB3Y,KAAI,SAAC4Y,EAA8CvgB,GAA/C,OACJ,kBAACwgB,GAAA,EAAD,CAAWxf,IAAKhB,EAAO+a,OAAK,EAAC0F,QAAM,GACjC,kBAACD,GAAA,EAAUE,MAAX,CACEd,OAAQK,IAAgBjgB,EACxBA,MAAOA,EACP8H,QAASqY,EACThb,UAAU,mBAEV,kBAACwb,GAAA,EAAD,CAAMzZ,KAAK,aANb,IAM4BqZ,EAAiB,GAAjB,UAE5B,kBAACC,GAAA,EAAUnI,QAAX,CAAmBuH,OAAQK,IAAgBjgB,GACxCugB,EAAiB,GAAjB,MACC,6BACGzf,OAAOuf,QAAQE,EAAiB,GAAjB,QAA+B5Y,KAC7C,SAACiZ,EAAQ5gB,GAAT,eACE,uBAAGmF,UAAU,YACV,IACAyb,EAAO,GAAI,IACZ,uBACE/Y,KAAI,UAAE0Y,EAAiB,GAAjB,aAAF,aAAE,gBAAsCvgB,EAAQ,IACpD+H,OAAO,SACPC,IAAI,uBAHN,UAKGuY,EAAiB,GAAjB,iBALH,aAKG,oBAA8CvgB,EAAQ,UAOjE,2BAAIugB,EAAiB,GAAjB,aAKZ,OAAO,6BAAMH,GAGA,SAASS,KACtB,IAAMha,EAAyBC,wBAAc,CAC3CgC,elCzHqC,OkC4HvC,OACE,oCACE,yBAAK3D,UAAU,eACb,yBACEA,UACE0B,EAAyB,gBAAkB,kBAG7C,wBAAI1B,UAAW0B,EAAyB,OAAS,QAC9C7H,EAAU,YAEb,2BAAIA,EAAU,eAAgB,CAAC,oBAC/B,2BAAIA,EAAU,eAAgB,CAAC,qBAC/B,6BACA,kBAAC6gB,GAAD,MACA,6BACA,kBAACG,GAAD,MACA,6BACA,wBAAI7a,UAAU,QAAQnG,EAAU,qBAElC,yBACEmG,UACE0B,EACI,0BACA,4BAGN,kBAACoX,GAAA,EAAD,KACE,4BACE5U,MAAM,mBACNlE,UAAU,eACVD,IACE2B,EACI,gGACA,wFAMZ,yBACE1B,UAAW0B,EAAyB,OAAS,uBAE7C,yBAAK1B,UAAU,wCACb,8BAAOnG,EAAU,YAAa,KAAM,KAAM,EAAC,GAAO,KAClD,kBAAC,KAAD,CAAMmG,UAAU,OAAO2b,GAAG,eACvB9hB,EAAU,kBAKnB,kBAACggB,GAAD,CAAkBpL,QlC7KS,EkC6KkBqL,WAAY,U,cChKxD,SAAS8B,GAAa3c,GAC3B,OACE,yBAAKe,UAAU,aACb,kBAAC6b,GAAA,EAAD,CAAM7b,UAAWf,EAAM6c,IAAM,gBAAkB,wBAC5C7c,EAAM6c,KACL,kBAACD,GAAA,EAAK3I,QAAN,KACE,yBAAKlT,UAAU,6CACb,yBAAKD,IAAKd,EAAM6c,IAAK7b,IAAI,GAAGD,UAAU,4BACtC,uBAAG0C,KAAMzD,EAAMmF,IACbxB,OAAO,SACPC,IAAI,sBACJ7C,UAAU,gBACV,yBAAKA,UAAU,4DACb,6BAAMnG,EAAU,aAChB,yBAAKmG,UAAU,oBACb,kBAAC,IAAD,CACE8C,KAAMiZ,IACN/b,UAAW,OACXwU,MAAO,QACP7B,KAAM,YAOpB,kBAACkJ,GAAA,EAAK3I,QAAN,KACE,yBAAKlT,UAAU,4BACb,uBAAG0C,KAAMzD,EAAMmF,IAAKxB,OAAO,SAASC,IAAI,sBAAsB7C,UAAU,IACrEf,EAAM+c,UAAY,2BAAI/c,EAAM+c,UAAV,QAAiC,KAAMniB,EAAUoF,EAAMgd,UAAWhd,EAAMid,aAG/F,yBAAKlc,UAAU,sBACZf,EAAMyI,S,gQCjCbyU,GAAqC,CACvC,CACIzU,KAAM,mBACNoU,IAAKM,KACLH,UAAW,uBACXC,UAAW,CAAC,oBACZ9X,IAAK,sFAET,CACIsD,KAAM,oBACNoU,IAAKO,KACLJ,UAAW,uBACXC,UAAW,CAAC,iBACZ9X,IAAK,sFAET,CACIsD,KAAM,mBACNoU,IAAKQ,KACLL,UAAW,uBACXC,UAAW,CAAC,mBACZ9X,IAAK,sFAET,CACIsD,KAAM,oBACNoU,IAAKS,KACLN,UAAW,uBACXC,UAAW,CAAC,gBACZ9X,IAAK,sFAET,CACIsD,KAAM,iBACNoU,IAAKU,KACLP,UAAW,uBACXC,UAAW,CAAC,cACZ9X,IAAK,sFAET,CACIsD,KAAM,gBACNoU,IAAKW,KACLR,UAAW,uBACXC,UAAW,CAAC,aACZ9X,IAAK,sFAET,CACIsD,KAAM,gBACNoU,IAAKY,KACLT,UAAW,uBACXC,UAAW,CAAC,cACZ9X,IAAK,0EAET,CACIsD,KAAM,gBACNoU,IAAKa,KACLV,UAAW,uBACXC,UAAW,CAAC,aACZ9X,IAAK,sFAET,CACIsD,KAAM,eACNoU,IAAKc,KACLX,UAAW,uBACXC,UAAW,CAAC,qBACZ9X,IAAK,uFAiJAyY,GAAsC,CAC/CC,MAtHiD,CACjD,CACIpV,KAAM,mBACNuU,UAAW,sBACXC,UAAW,CAAC,iBACZ9X,IAAK,yGAET,CACIsD,KAAM,mBACNuU,UAAW,sBACXC,UAAW,CAAC,WACZ9X,IAAK,wHAET,CACIsD,KAAM,mBACNuU,UAAW,sBACXC,UAAW,CAAC,mBACZ9X,IAAK,oDAET,CACIsD,KAAM,mBACNuU,UAAW,sBACXC,UAAW,CAAC,mBACZ9X,IAAK,4GAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,sBACZ9X,IAAK,mNAET,CACIsD,KAAM,oBACNuU,UAAW,sBACXC,UAAW,CAAC,iBACZ9X,IAAK,qEAET,CACIsD,KAAM,oBACNuU,UAAW,sBACXC,UAAW,CAAC,qBACZ9X,IAAK,gDAET,CACIsD,KAAM,oBACNuU,UAAW,sBACXC,UAAW,CAAC,WACZ9X,IAAK,0GAET,CACIsD,KAAM,kBACNuU,UAAW,sBACXC,UAAW,CAAC,aACZ9X,IAAK,kJAET,CACIsD,KAAM,iBACNuU,UAAW,sBACXC,UAAW,CAAC,gBACZ9X,IAAK,iEAET,CACIsD,KAAM,gBACNuU,UAAW,sBACXC,UAAW,CAAC,WACZ9X,IAAK,wHAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,cACZ9X,IAAK,iFAET,CACIsD,KAAM,gBACNuU,UAAW,sBACXC,UAAW,CAAC,iBACZ9X,IAAK,yEAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,iBACZ9X,IAAK,+HAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,iBACZ9X,IAAK,6GAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,gBACZ9X,IAAK,kKAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,gBACZ9X,IAAK,+GAET,CACIsD,KAAM,eACNuU,UAAW,sBACXC,UAAW,CAAC,sBACZ9X,IAAK,sHAYT2Y,SA/IgD,CAChD,CACIrV,KAAM,oBACNoU,IAAKkB,KACLf,UAAW,wBACXC,UAAW,CAAC,cACZ9X,IAAK,iEAET,CACIsD,KAAM,iBACNoU,IAAKmB,KACLhB,UAAW,wBACXC,UAAW,CAAC,YACZ9X,IAAK,2FAET,CACIsD,KAAM,eACNoU,IAAKoB,KACLjB,UAAW,wBACXC,UAAW,CAAC,YACZ9X,IAAK,kEA4HT+Y,QAAShB,I,8BCxNE,SAASiB,KACtB,IAAM1b,EAAyBC,wBAAc,CAAEgC,erCVR,OqCYvC,OACE,yBAAK3D,UAAU,oBACb,yBAAKA,UAAW0B,EAAyB,wBAA0B,mCACjE,wBAAI1B,UAAU,kBACXnG,EAAU,aAEb,wBAAImG,UAAU,UACXnG,EAAU,qBAEXwjB,GAA0B,YAC5B,wBAAIrd,UAAU,UACXnG,EAAU,YAEXwjB,GAA0B,WAC5B,wBAAIrd,UAAU,UACXnG,EAAU,UAEXwjB,GAA0B,WAMpC,IAAMC,GAAiB,CACrBC,MAAM,EACNC,UAAU,EACVC,QAAQ,EACRC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,WAAY,CACV,CACEC,WAAY,KACZC,SAAU,CACRJ,aAAc,EACdC,eAAgB,EAChBJ,UAAU,EACVD,MAAM,IAGV,CACEO,WAAY,IACZC,SAAU,CACRJ,aAAc,EACdC,eAAgB,EAChBJ,UAAU,EACVD,MAAM,MAQRF,GAA4B,SAAC3e,GACjC,OACE,yBAAKsB,UAAU,oBACb,kBAAC,KACKsd,GAGAT,GAAane,GAAM8D,KAAI,SAACwb,EAAcC,GACpC,OAAO,kBAACrC,GAAD,CACLlU,KAAMsW,EAAatW,KACnBoU,IAAKkC,EAAalC,IAClBG,UAAW+B,EAAa/B,UACxBC,UAAW8B,EAAa9B,UACxB9X,IAAK4Z,EAAa5Z,YCzEnB,SAAS8Z,KACtB,IAAMxc,EAAyBC,wBAAc,CAAEgC,etCPR,OsCSvC,OACE,yBAAK3D,UAAU,oBACb,yBAAKA,UAAW0B,EAAyB,gBAAkB,kBACzD,4BAAQwC,MAAM,gBAAgBlE,UAAU,qBAAqBD,IAAI,oFCN1D,SAASoe,KACtB,IAAMzc,EAAyBC,wBAAc,CAAEgC,evCPR,OuCSvC,OACE,yBAAK3D,UAAU,+BACb,yBAAKA,UAAW0B,EAAyB,gBAAkB,kBACzD,wBAAI1B,UAAU,cACXnG,EAAU,eAEb,yBAAKmG,UAAU,cACb,2BAAInG,EAAU,uCACd,2BAAIA,EAAU,uCACd,2BAAIA,EAAU,wCAGhB,wBAAImG,UAAU,cACXnG,EAAU,yBAEb,4BACE,4BACGA,EAAU,oBAEb,4BACGA,EAAU,oBAEb,4BACGA,EAAU,oBAEb,4BACGA,EAAU,oBAEb,4BACGA,EAAU,oBAEb,4BACGA,EAAU,qBAGf,6BACGA,EAAU,uBCrCd,IAAMukB,GAAe,WAAO,IAAD,EACN7e,qBAAWrD,GADL,mBACzBsC,EADyB,KAClBW,EADkB,KAYhC,OAJKwB,aAAaC,QAAQ,oBAAuBpC,EAAMJ,kBACrDe,EAAS,CAAET,KAAM,uBAIjBF,EAAMJ,iBACJ,yBAAK4B,UAAU,sBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,4BACb,6BACGnG,EAAU,mBAAoB,KAAM,KAAM,EAAC,GAAO,IACnD,kBAAC,KAAD,CAAM8hB,GAAI3hB,EAAc,iBAAkBH,EAAU,kBAEtD,yBAAKmG,UAAU,cACb,kBAACwD,GAAA,EAAD,CAAQgR,MAAM,OAAO7R,QAnBZ,WACnBhC,aAAa0d,QAAQ,kBAAmB,QACxClf,EAAS,CAAET,KAAM,0BAiBsC7E,EAAU,eAK7D,M,qBCtBKykB,GAAS,WAAO,IAAD,EACJ9e,mBAAS,IADL,mBACnB+e,EADmB,KACdC,EADc,OAEAjf,qBAAWrD,GAFX,mBAEnBsC,EAFmB,KAEZW,EAFY,KAIpBsf,EAAc,SAACC,GACnB,IAAMpT,EAAQoT,IAAYH,EAAM,uCAAyC,0CACzE,OAAO7c,EAAyB4J,EAAMqT,OAAO,SAAWrT,GAUpDtK,EAAUC,eAPK,WACnB,IAAIb,EAAWwe,cACfjf,qBAAU,WACR6e,EAAOpe,EAASI,YACf,CAACJ,IAsBNye,GACA,IAAMnd,EAAyBC,wBAAc,CAAEgC,ezCjDR,OyCkDvC,OACE,4BAAQ3D,UAAU,6BAChB,yBAAKA,UAAU,0CACb,kBAAC,KAAD,CAAM2b,GAAI3hB,EAAc,WAAYgG,UAAU,QAC5C,yBAAKD,IAAK+e,KAAgB1F,MAAO,GAAIlZ,OAAQ,GAAID,IAAI,MACnDyB,GAA2B,yBAAK1B,UAAU,iBAAf,iBAGjC,yBAAKA,UAAS,6CAAwC0B,EAAyB,OAAS,KACtF,yBAAK1B,UAAWye,EAAY,aAC1B,kBAAC,KAAD,CAAM9C,GAAI3hB,EAAc,YACrB0H,EACC,kBAAC,IAAD,CAAiBoB,KAAMic,IAAiBpM,KAAK,OAC7C9Y,EAAU,aAGhB,yBAAKmG,UAAWye,EAAY,aAC1B,kBAAC,KAAD,CAAM9C,GAAI3hB,EAAc,YACrB0H,EACC,kBAAC,IAAD,CAAiBoB,KAAMkc,IAAYrM,KAAK,OACxC9Y,EAAU,aAGhB,yBAAKmG,UAAWye,EAAY,UAC1B,kBAAC,KAAD,CAAM9C,GAAI3hB,EAAc,SACrB0H,EACC,kBAAC,IAAD,CAAiBoB,KAAMmc,IAAStM,KAAK,OACrC9Y,EAAU,UAGhB,yBAAKmG,UAAWye,EAAY,cAC1B,kBAAC,KAAD,CAAM9C,GAAI3hB,EAAc,aACrB0H,EACC,kBAAC,IAAD,CAAiBoB,KAAMoc,IAAWvM,KAAK,OACvC9Y,EAAU,cAGhB,yBAAKmG,UAAWye,EAAY,WAC1B,kBAAC,KAAD,CAAM9C,GAAI3hB,EAAc,UACrB0H,EACC,kBAAC,IAAD,CAAiBoB,KAAMqc,IAASxM,KAAK,OACrC9Y,EAAU,WAGhB,yBAAKmG,UAAWye,EAAY,aAAe,UAAW9b,QAAS,kBA/D7C,WACtB,IAAIyB,EAAMpD,EAAQZ,SAASI,SAEzB4D,EADE5F,EAAM3F,WAAaV,EAAaW,QAC5BsL,EAAIrI,QAAQ,OAAQ,QAGpBqI,EAAIrI,QAAQ,OAAQ,QAE5BoD,EACE,CACET,KAAM,kBACNC,QAASH,EAAM3F,WAAaV,EAAaW,QAAUX,EAAa0H,OAAS1H,EAAaW,UAG1FkI,EAAQyC,KAAKW,GAiD4Dgb,KACnE,6BACG5gB,EAAM3F,WAAaV,EAAaW,QAC9B4I,EAAyB,KAAO,cAChCA,EAAyB,KAAO,eC1FlC2d,GAAS,WAAO,IAAD,EACJ9f,qBAAWrD,GAAzBiC,EADkB,oBAClBA,UAEFuD,EAAyBC,wBAAc,CAAEgC,e1CXR,O0CevC,OACE,4BAAQ3D,UAAW0B,EAAyB,6BAA+B,0BACvE,yBAAK1B,UAAW0B,EAAyB,wCAA0C,kCAC/E,6BACE,8BAAO7H,EAAU,SAAU,CAAC,gBAA5B,MACA,0BAAMmG,UAAU,uBAAuB7B,KAG7C,yBAAK6B,UAAW0B,EAAyB,wCAA0C,kCAC/E,kBAAC,KAAD,CAAM1B,UAAU,kBAAkB2b,GAAI3hB,EAAc,kBAAmBH,EAAU,kBADrF,MAEI,kBAAC,KAAD,CAAMmG,UAAU,kBAAkB2b,GAAI3hB,EAAc,iBAAkBH,EAAU,iBAFpF,MAGI,kBAAC,KAAD,CAAMmG,UAAU,kBAAkB2b,GAAI3hB,EAAc,eAAgBH,EAAU,gBAElF,yBAAKmG,UAAW0B,EAAyB,wCAA0C,mCAC/E,6BACE,8BAAO7H,EAAU,SAAU,CAAC,YAC5B,uBAAG6I,KAlBE,0FAkBcE,OAAO,UAAUC,IAAI,sBAAsB7C,UAAU,aACtE,0BAAMA,UAAU,WAAWnG,EAAU,SAAU,CAAC,kBADlD,IAC4EA,EAAU,SAAU,CAAC,iB,qBChBhG,SAASylB,GAAargB,GAA2B,IAAD,EAC1BM,qBAAWrD,GADe,mBAClDrD,EADkD,KAClDA,SAWLkO,GAZuD,KAY7C,IAQd,OANIA,EAH2BpF,wBAAc,CAAEC,S3C3BV,O2C8BvB3C,EAAMsgB,cAAgBtgB,EAAMsgB,cAAgB,GAG5CtgB,EAAMugB,eAAiBvgB,EAAMugB,eAAiB,GAIxD,oCACI,yBAAKxf,UAAU,yBACX,kBAAC,KAAD,CACIoE,IAAKvL,KAAYoG,EAAMmF,IAAMnF,EAAMmF,IAAIvL,GAAYoG,EAAMmF,IAAN,GACnD2C,QAASA,MCiId0Y,OApJf,WAAgB,IAAD,EAC6BlgB,qBAAWrD,GADxC,0BACJrD,EADI,EACJA,SAAUuE,EADN,EACMA,QAAW+B,EADjB,KAEbnE,EAAgBnC,GAGhB8G,qBAAU,WACR,IAAMiL,EAAM,IAAIzG,GAChBmQ,GAAenV,EAAU/B,EAAQC,SAAS,EAAMjF,EAAcgF,SACxC,uCAAG,oCAAAsN,EAAA,sEACgCE,EAAI8U,sBADpC,gBACf3Y,EADe,EACfA,QAAS5I,EADM,EACNA,UAAWD,EADL,EACKA,QAASD,EADd,EACcA,QACrCkB,EAAS,CACPT,KAAM,yBACNC,QAASoI,IAGX5H,EAAS,CACPT,KAAM,aACNC,QAASR,IAGXgB,EAAS,CACPT,KAAM,gBACNC,QAAS,CAAET,UAASD,aAdC,4CAAH,oDAkBtBJ,KAGC,IAGH8B,qBAAU,YACiB,uCAAG,8BAAA+K,EAAA,6DACpBE,EAAM,IAAIzG,GADU,SAEEyG,EAAIlE,QAAQ,qCAAqC,GAFnD,OAEpBiZ,EAFoB,OAG1BxgB,EAAS,CACPT,KAAM,wBACNC,QAASghB,IALe,2CAAH,qDAQzBC,KACC,CAACzgB,IAGJQ,qBAAU,WACsBgB,aAAaC,QAAQ,oBAEjDzB,EAAS,CACPT,KAAM,mBAGV,IAAMmhB,EAAe,WACnB,IAAIC,EAA0B,IAArBC,OAAOC,YAChBnc,SAASoc,gBAAgB3U,MAAM4U,YAAY,OAA3C,UAAsDJ,EAAtD,QAEFC,OAAOI,iBAAiB,SAAUN,GAElCA,MACC,CAAC1gB,IAEJ,IAA8BqB,EAexBQ,EAAUC,cAGhB,OAlB8BT,EAgBTQ,EAAQZ,SAASI,UAfvB4f,SAAS,SAAWvnB,IAAaV,EAAaW,QACzDqG,EAAS,CACPT,KAAM,kBACNC,QAASxG,EAAaW,UAGjB0H,EAAS4f,SAAS,SAAWvnB,IAAaV,EAAa0H,QAC9DV,EAAS,CACPT,KAAM,kBACNC,QAASxG,EAAa0H,SAS1B,yBAAKG,UAAU,OACb,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/F,KAAK,oBACV,kBAACwH,GAAD,OAEF,kBAAC,IAAD,CAAOxH,KAAK,sBACV,kBAACqgB,GAAD,OAEF,kBAAC,IAAD,CAAOrgB,KAAK,wBACV,kBAAC,IAAD,CAAU0hB,GAAG,wBAEf,kBAAC,IAAD,CAAO1hB,KAAK,sBACV,kBAACqlB,GAAD,CACElb,IAAK9L,EACLuD,IAAG,wBAAmBhD,GACtB2mB,eAAgB,CACdpG,MAAO,OACPlZ,OAAQ,UAEVqf,cAAe,CACbnG,MAAO,OACPlZ,OAAQ,aAId,kBAAC,IAAD,CAAOjG,KAAK,qBACV,kBAACqlB,GAAD,CACElb,IAAK7L,EACLsD,IAAG,yBAAoBhD,GACvB2mB,eAAgB,CACdpG,MAAO,OACPlZ,OAAQ,UAEVqf,cAAe,CACbnG,MAAO,OACPlZ,OAAQ,aAId,kBAAC,IAAD,CAAOjG,KAAK,mBACV,kBAACyhB,GAAD,OAEF,kBAAC,IAAD,CAAOzhB,KAAK,4BACV,kBAACikB,GAAD,OAEF,kBAAC,IAAD,CAAOjkB,KAAK,2BACV,kBAACyJ,GAAD,OAEF,kBAAC,IAAD,CAAOzJ,KAAK,yBACV,kBAACkkB,GAAD,OAEF,kBAAC,IAAD,CAAOlkB,KAAK,uBACV,kBAACmjB,GAAD,OAEF,kBAAC,IAAD,CAAUiD,OAAK,EAAC5mB,KAAK,IAAIkiB,GAAE,WAAM9iB,EAAN,cAC1BA,GAAY,CAAC,QAAS,UAAW,UAAW,OAAQ,gBAAiB,eAAgB,aAAc,WAAY,UAAU2J,KAAI,SAAA8d,GAAK,OACjI,kBAAC,IAAD,CAAU7mB,KAAI,WAAM6mB,GAAS3E,GAAE,UAAK9iB,EAAL,YAAiBynB,QAClD,kBAAC,IAAD,KACE,kBAAChd,GAAD,QAGJ,kBAAC,GAAD,Q,OCzJc6L,QACW,cAA7B4Q,OAAO3f,SAASmgB,UAEe,UAA7BR,OAAO3f,SAASmgB,UAEhBR,OAAO3f,SAASmgB,SAASC,MACvB,2D,aCRAxf,GAAUyf,eAEhBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAQ5f,QAASA,IACf,kBAAC,GAAD,CAAYD,WAAYM,kBACtB,kBAAC,EAAD,KACE,kBAAC,GAAD,UAKRwC,SAASgd,eAAe,SD6GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBrQ,MAAK,SAAAsQ,GACJA,EAAaC,gBAEdC,OAAM,SAAAtc,GACLD,QAAQC,MAAMA,EAAMuc,a","file":"static/js/main.c7f09eab.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/University-Of-Calgary-Logo.dfd2aa50.png\";","module.exports = __webpack_public_path__ + \"static/media/WHO-EN-C-H.92cca4d5.png\";","module.exports = __webpack_public_path__ + \"static/media/WHO-FR-C-H.e509206a.png\";","module.exports = __webpack_public_path__ + \"static/media/BrokenAb.a9aeed43.gif\";","module.exports = __webpack_public_path__ + \"static/media/YearInReview2020.fd7fe07a.png\";","module.exports = __webpack_public_path__ + \"static/media/October2020Update.ca751a5c.png\";","module.exports = __webpack_public_path__ + \"static/media/September2020Update.dc9d0a68.png\";","module.exports = __webpack_public_path__ + \"static/media/MedRXIV.a3f4e9f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJuly_2020.53e6e269.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJune_2020.2cac3c48.png\";","module.exports = __webpack_public_path__ + \"static/media/August2020Update.b2394ac4.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateMay_2020.4021b423.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdatePre_2020.a93736ac.png\";","module.exports = __webpack_public_path__ + \"static/media/SeroTrackerBloodBank_July_2020.669b184d.png\";","module.exports = __webpack_public_path__ + \"static/media/Prepublication.0b43b193.png\";","module.exports = __webpack_public_path__ + \"static/media/LancetIDArticle.9c54a7db.png\";","module.exports = __webpack_public_path__ + \"static/media/colored-icon.ab2ccbe8.svg\";","export type AirtableRecord = {\n  source_id: string | null;\n  source_name: string | null;\n  lead_organization?: string | null;\n  first_author?: string | null;\n  source_type: string | null;\n  test_type: string | null;\n  specimen_type: string[] | null;\n  isotypes_reported: string[] | null;\n  test_manufacturer?: string[] | null;\n  sensitivity?: number | null;\n  specificity?: number | null;\n  country: string | null;\n  state?: string[] | null;\n  city?: string[] | null;\n  population_group: string | null;\n  sex: string | null;\n  age: string | null;\n  denominator: number | null;\n  seroprevalence: number | null;\n  publish_date?: string[] | string | null;\n  publisher?: string | null;\n  overall_risk_of_bias: string | null;\n  pin_latitude: number;\n  pin_longitude: number;\n  pin_region_type: string | null;\n  study_type?: string | null;\n  sampling_method?: string | null;\n  sampling_start_date?: string | null;\n  sampling_end_date?: string | null;\n  summary?: string | null;\n  url?: string | null;\n  estimate_grade: string | null;\n};\n\nexport type AggregatedRecord = {\n  error: number[];\n  n: number;\n  name: string;\n  numStudies: number;\n  seroprevalence: number;\n};\n\n// Each filter will be a javascript set\n// TODO: find typing to represent sets\nexport type Filters = {\n  source_type: any;\n  test_type: any;\n  country: any;\n  population_group: any;\n  sex: any;\n  age: any;\n  overall_risk_of_bias: any;\n  isotypes_reported: any;\n  specimen_type: any;\n  publish_date: any;\n  estimate_grade: any;\n};\n\nexport type FilterType =\n  | \"country\"\n  | \"population_group\"\n  | \"sex\"\n  | \"age\"\n  | \"test_type\"\n  | \"source_type\"\n  | \"overall_risk_of_bias\"\n  | \"isotypes_reported\"\n  | \"specimen_type\"\n  | \"estimate_grade\";\n\nexport enum LanguageType {\n  french = \"fr\",\n  english = \"en\",\n}\n\nexport enum PageStateEnum {\n  // TODO: replace analyze with data here\n  // once our data page uses filters\n  explore = \"explore\",\n}\n\nexport type State = {\n  chartAggregationFactor: AggregationFactor;\n  explore: PageState;\n  allFilterOptions: Filters;\n  updatedAt: string;\n  calendarStartDates: StartDates;\n  dataPageState: DataPageState;\n  language: LanguageType;\n  showCookieBanner: boolean;\n  countries: any;\n  showCountryHover: boolean;\n};\n\nexport type StartDates = {\n  minDate: Date;\n  maxDate: Date;\n};\n\nexport type LegendLayersEnum = {\n  National: \"National\",\n  Regional: \"Regional\",\n  Local: \"Local\",\n}\n\nexport type LegendLayers = {\n  National: boolean;\n  Regional: boolean;\n  Local: boolean;\n}\n\nexport type PageState = {\n  filters: Filters;\n  records: AirtableRecord[];\n  isLoading: boolean;\n  estimateGradePrevalences: EstimateGradePrevalence[];\n  legendLayers: LegendLayers;\n};\n\nexport type EstimateGradePrevalence = {\n  testsAdministered: number;\n  geographicalName: string;\n  alpha3Code: string;\n  numberOfStudies: number;\n  localEstimate?: RegionalPrevalenceEstimate;\n  nationalEstimate?: RegionalPrevalenceEstimate;\n  regionalEstimate?: RegionalPrevalenceEstimate;\n  sublocalEstimate?: RegionalPrevalenceEstimate;\n};\n\nexport type RegionalPrevalenceEstimate = {\n  maxEstimate: number;\n  minEstimate: number;\n  numEstimates: number;\n};\n\nexport enum AggregationFactor {\n  country = \"country\",\n  population_group = \"population_group\",\n  sex = \"sex\",\n  age = \"age\",\n  test_type = \"test_type\",\n  source_type = \"source_type\",\n  overall_risk_of_bias = \"overall_risk_of_bias\",\n  isotypes_reported = \"isotypes_reported\",\n}\n\nexport type DataPageState = {\n  exploreIsOpen: boolean;\n};\n\nexport type CustomMatcherResult = {\n  pass: boolean;\n  message: string;\n};\n\nexport type PostRecordsBody = {\n  filters: {\n    country: String[];\n    source_type: String[];\n    source_name: String[];\n    overall_risk_of_bias: String[];\n    population_group: String[];\n    age: String[];\n    sex: String[];\n    test_type: String[];\n    isotypes_reported: String[];\n    specimen_type: String[];\n    estimate_grade: String[];\n  };\n  sampling_start_date: Date | null;\n  sampling_end_date: Date | null;\n  sorting_key: String;\n  reverse: Boolean;\n  per_page: Number;\n  page_index: Number;\n  columns: String[];\n};\n","export const mobileDeviceOrTabletWidth = 1200;\r\nexport const mobileDeviceWidth = 600;\r\nexport const isMaintenanceMode = true;\r\nexport const mapZIndex = {\r\n    CountriesTileLayer: 50,\r\n    DisputedAreasAndBorders: 70,\r\n    Labels: 800\r\n}\r\n\r\nexport const ANALYZE_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/SeroTrackerAnalyse/GlobalAnalyse?:language=en&:display_count=y&publish=yes&:origin=viz_share_link\"\r\n}\r\nexport const CANADA_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/SeroTrackerAnalyse/Canadiandetail?:language=en&:display_count=y&publish=yes&:origin=viz_share_link\",\r\n    \"fr\": \"https://public.tableau.com/views/Canada-FR/Canadiandetail?:language=fr&:display_count=y&publish=yes&:origin=viz_share_link\"\r\n}","import _ from \"lodash\";\r\n\r\nexport const toPascalCase = (str: string) => _.upperFirst(_.camelCase(str));","import React from \"react\";\r\nimport { format, parseISO, formatISO, add } from \"date-fns\";\r\nimport Translate from 'utils/translate/translateService';\r\nimport { LanguageType } from \"../types\";\r\n\r\nlet language = LanguageType.english;\r\n\r\nexport const setLanguage = (newLanguage: LanguageType) => {\r\n  language = newLanguage;\r\n}\r\n\r\nexport const formatDates = (dates: Array<Date> | null) => {\r\n\r\n  let endDate = formatISO(new Date());\r\n  let startDate = formatISO(add(new Date(endDate), { years: -2 }));\r\n  if (dates) {\r\n    const dateList = Array.from(dates);\r\n    endDate = dateList[1] ? formatISO(dateList[1] as Date) : endDate;\r\n    startDate = dateList[0] ? formatISO(dateList[0] as Date) : startDate;\r\n  }\r\n  return [startDate, endDate]\r\n}\r\n\r\n\r\nexport const getPossibleNullString = (nullString: string | number | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return nullString\r\n}\r\n\r\nexport const getPossibleNullDateString = (nullString: string | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return format(parseISO(nullString), \"yyyy/MM/dd\")\r\n}\r\n\r\nexport const getPossibleNullStringArray = (nullString: string[] | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return nullString.join(\", \")\r\n}\r\n\r\nexport const getGeography = (city: string[] | null | undefined, state: string[] | null | undefined, country: string | null) => {\r\n  if (!country) {\r\n    return Translate(\"Not Reported\");\r\n  }\r\n\r\n  function renderOutGeography(geo: string[] | null | undefined) {\r\n    if (!geo || geo.length === 0) {\r\n      return undefined\r\n    }\r\n    else if (geo.length > 1 && typeof geo !== \"string\") {\r\n      return geo?.join(\", \");\r\n    }\r\n    return geo\r\n  }\r\n\r\n  return  [renderOutGeography(city), renderOutGeography(state), country].filter(Boolean).map((str)=>{return (<React.Fragment>{str}<br/></React.Fragment>)})\r\n}\r\n\r\nexport const withLocaleUrl = (path: string) => {\r\n  return `/${language}/${path}`;\r\n}","import { LanguageType } from \"../../types\";\n\nimport * as Countries from \"i18n-iso-countries\";\nimport EnglishCountries from \"i18n-iso-countries/langs/en.json\";\nimport FrenchCountries from \"i18n-iso-countries/langs/fr.json\";\n\nimport English from \"./en.json\";\nimport French from \"./fr.json\";\nimport { toPascalCase } from \"./caseChanger\";\nimport { setLanguage } from \"../utils\";\n\ninterface TranslateStringProps {\n  text: string;\n}\n\n// Recursive Typings for nested JSON objects\ntype JsonRecord<T> = Record<string, T | string>;\ninterface Json extends JsonRecord<Json> {}\n\nCountries.registerLocale(EnglishCountries);\nCountries.registerLocale(FrenchCountries);\n\nexport const getCountryName = (\n  country: string,\n  language: LanguageType,\n  optionString: string\n) => {\n  const code = Countries.getAlpha2Code(country, \"en\"); //TODO: Review our strategy for country name language localization\n  const translatedCountryName = Countries.getName(code, language);\n  const displayText = translatedCountryName\n    ? translatedCountryName\n    : Translate(optionString, [toPascalCase(country)]) || country;\n  return displayText;\n};\n\nconst recursiveFind = (object: any, keys: string[], index: number): string => {\n  const key = keys[index];\n  const nextObj = object[key];\n\n  if (index + 1 === keys.length) {\n    return nextObj;\n  }\n  return recursiveFind(nextObj, keys, index + 1);\n};\n\nlet language: LanguageType = LanguageType.english;\n\nexport const setLanguageType = (newLanguage: LanguageType) => {\n  setLanguage(newLanguage);\n  language = newLanguage;\n};\n\n/**\n * Used to translate JSON based on language and return a string\n * @param text\n * @param specifier\n * @param substitution\n * @param addSpaces\n * @returns string\n */\nexport default function Translate(\n  text: string,\n  specifier: string[] | null = null,\n  substitution: Record<string, string | number> | null = null,\n  addSpaces: [boolean, boolean] | null = null\n): string {\n  const translationDictionary: Json =\n    language === LanguageType.english ? (English as Json) : (French as Json);\n\n  try {\n    let translatedString = translationDictionary[text];\n\n    if (!translatedString) {\n      return specifier ? specifier[specifier.length - 1] : text;\n    }\n\n    if (specifier) {\n      translatedString = recursiveFind(translatedString, specifier, 0);\n    }\n\n    if (substitution) {\n      Object.keys(substitution).forEach((key) => {\n        const value = substitution[key];\n        const replace = new RegExp(key, \"g\");\n        translatedString = (translatedString as string).replace(\n          replace,\n          `${value}`\n        );\n      });\n    }\n\n    if (addSpaces && addSpaces[0]) {\n      translatedString = \" \" + translatedString;\n    }\n\n    if (addSpaces && addSpaces[1]) {\n      translatedString += \" \";\n    }\n    return translatedString as string;\n  } catch (e) {\n    return `No translation for string ${text}`;\n  }\n}\n\n/**\n * Used to translate JSON based on language and return an object\n * @param text\n * @returns object\n */\nexport function TranslateObject(text: string): object {\n  const translationDictionary: Json =\n    language === LanguageType.english ? (English as Json) : (French as Json);\n\n  try {\n    return translationDictionary[text] as object;\n  } catch (e) {\n    return { error: `No translation object for string ${text}` };\n  }\n}\n","import React, { createContext, Dispatch, useReducer } from \"react\";\nimport { AggregationFactor, Filters, FilterType, LanguageType, PageState, State } from \"./types\";\n\nexport const AppContext = createContext({} as [State, Dispatch<Record<string, any>>]);\n\nconst initialMinDate = new Date(2019, 1, 1, 1);\nconst initialMaxDate = new Date();\n\nexport function getEmptyFilters(): Filters {\n  return {\n    source_type: new Set(),\n    test_type: new Set(),\n    country: new Set(),\n    population_group: new Set(),\n    sex: new Set(),\n    age: new Set(),\n    overall_risk_of_bias: new Set(),\n    isotypes_reported: new Set(),\n    specimen_type: new Set(),\n    publish_date: new Set([initialMinDate, initialMaxDate]),\n    estimate_grade: new Set(),\n  };\n}\n\n// Note: filters = elements that user has chosen to filter by\n// filter_options = all the elements that users could filter by\nconst initialState: State = {\n  chartAggregationFactor: AggregationFactor.country,\n  explore: {\n    filters: getEmptyFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    isLoading: false,\n    legendLayers: {\n      National: true,\n      Regional: true,\n      Local: true,\n    },\n  },\n  // TODO: replace this with an obj\n  // representing the data page once\n  // we put filters there\n  allFilterOptions: getEmptyFilters(),\n  dataPageState: {\n    exploreIsOpen: true,\n  },\n  calendarStartDates: {\n    // Important, the fact that we use an hour here tells us that we are using a default value\n    minDate: initialMinDate,\n    maxDate: initialMaxDate,\n  },\n  language: LanguageType.english,\n  updatedAt: \"\",\n  showCookieBanner: false,\n  countries: [],\n  showCountryHover: true,\n};\n\nconst reducer = (state: State, action: Record<string, any>): State => {\n  switch (action.type) {\n    case \"SHOW_COUNTRY_HOVER\":\n      return {\n        ...state,\n        showCountryHover: true,\n      };\n    case \"HIDE_COUNTRY_HOVER\":\n      return {\n        ...state,\n        showCountryHover: false,\n      };\n    case \"CLOSE_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: false,\n      };\n    case \"OPEN_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: true,\n      };\n    case \"UPDATE_ESTIMATE_PREVALENCES\": {\n      const { pageStateEnum, estimateGradePrevalences } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.estimateGradePrevalences = estimateGradePrevalences;\n      return newState;\n    }\n    case \"UPDATE_COUNTRIES_JSON\":\n      return {\n        ...state,\n        countries: action.payload,\n      };\n    case \"SELECT_LANGUAGE\":\n      return {\n        ...state,\n        language: action.payload,\n      };\n    case \"GET_ALL_FILTER_OPTIONS\":\n      return {\n        ...state,\n        allFilterOptions: action.payload,\n      };\n    case \"GET_AIRTABLE_RECORDS\": {\n      const { pageStateEnum, records } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.records = records;\n      return newState;\n    }\n    case \"UPDATED_AT\":\n      return {\n        ...state,\n        updatedAt: action.payload,\n      };\n    case \"UPDATE_FILTER\": {\n      const { pageStateEnum, filterType, filterValue } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters[filterType as FilterType] = new Set(filterValue);\n      return newState;\n    }\n\n    case \"MAX_MIN_DATES\":\n      const { minDate, maxDate } = action.payload;\n      return {\n        ...state,\n        calendarStartDates: {\n          minDate,\n          maxDate,\n        },\n      };\n    case \"CHANGE_LOADING\": {\n      const { pageStateEnum, isLoading } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.isLoading = isLoading;\n      return newState;\n    }\n    case \"UPDATE_AGGREGATION_FACTOR\":\n      return { ...state, chartAggregationFactor: action.payload };\n    case \"UPDATE_EXPLORE_IS_OPEN\":\n      return {\n        ...state,\n        dataPageState: {\n          ...state.dataPageState,\n          exploreIsOpen: action.payload,\n        },\n      };\n    case \"TOGGLE_NATIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            National: !state.explore.legendLayers.National,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_REGIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Regional: !state.explore.legendLayers.Regional,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_LOCAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Local: !state.explore.legendLayers.Local,\n          },\n        },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const AppContextProvider = (props: Record<string, any>) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"context\";\nimport { LanguageType } from \"types\";\nimport WhoLogoEn from \"assets/images/WHO-EN-C-H.png\";\nimport WhoLogoFr from \"assets/images/WHO-FR-C-H.png\";\n\n// Note: Consider abstracting this component into a generic TranslationImage and passing the image resource in as props if \n// more images need to be translated in the future.\n\ninterface WhoLogoProps {\n    className?: string | undefined;\n    height: string;\n}\n\nconst WhoLogo = (props :  WhoLogoProps) => {\n  const [state] = useContext(AppContext);\n  const [imgLanguageResource, setImgLanguageResource] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    // uses a switch statement so we can support more languages in the future if needed\n    switch (state.language) {\n      case LanguageType.english:\n            setImgLanguageResource(WhoLogoEn);\n        break;\n      case LanguageType.french:\n            setImgLanguageResource(WhoLogoFr);\n        break;\n      default:\n        setImgLanguageResource(WhoLogoEn);\n    }\n  }, [state.language]);\n\n  return <img src={imgLanguageResource} className={props?.className} alt=\"World Health Organization\" height={props.height}></img>;\n};\n\nexport default WhoLogo;\n","import { Location, LocationListener, UnregisterCallback } from 'history'\r\nimport { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst sendPageView: LocationListener = (location: Location): void => {\r\n  ReactGA.set({ page: location.pathname })\r\n  ReactGA.pageview(location.pathname)\r\n}\r\ninterface eventSenderProps {\r\n  category: string,\r\n  label: string,\r\n  action: string\r\n}\r\n\r\nexport const sendAnalyticsEvent = (props: eventSenderProps) => {\r\n  const cookieAcceptance = localStorage.getItem('acceptedCookies');\r\n  if (cookieAcceptance) {\r\n    ReactGA.event(props);\r\n  }\r\n}\r\ninterface Props {\r\n  children: JSX.Element;\r\n  trackingId: string;\r\n}\r\nconst GAListener = ({ children, trackingId }: Props): JSX.Element => {\r\n  const isDev = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory()\r\n  useEffect((): UnregisterCallback | void => {\r\n    ReactGA.initialize(trackingId,\r\n      {\r\n        titleCase: false,\r\n        debug: isDev,\r\n        gaOptions: {\r\n          cookieDomain: isDev ? 'none' : 'auto'\r\n        }\r\n      })\r\n    sendPageView(history.location, 'REPLACE')\r\n    return history.listen(sendPageView)\r\n  }, [history, isDev, trackingId])\r\n\r\n  return children\r\n}\r\n\r\nexport default GAListener","import { faLinkedin, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport WhoLogo from \"components/shared/WhoLogo\";\nimport \"./static.css\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport HealthAgencyLogo from \"../../assets/images/public-health-agency.png\";\nimport UcalgaryLogo from \"../../assets/images/University-Of-Calgary-Logo.png\";\n\nexport default function About() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const selectItem = (label: string, name: string) => {\n    sendAnalyticsEvent({\n      category: \"Social Media Link\",\n      action: \"click\",\n      label: `${label} - ${name}`,\n    });\n  };\n\n  const selectLink = (link: string) => {\n    sendAnalyticsEvent({\n      category: \"About Page Link\",\n      action: \"click\",\n      label: link,\n    });\n  };\n\n  function renderBioBlock(\n    name: string,\n    description: string[],\n    linkedIn: string | null = null,\n    email: string | null = null,\n    twitter: string | null = null\n  ) {\n    return (\n      <div>\n        <b>{name}</b>\n        <br />\n        {description.map((line) => {\n          return (\n            <div key={line}>\n              {line}\n              <br />\n            </div>\n          );\n        })}\n        {linkedIn ? (\n          <a href={linkedIn} onClick={() => selectItem(\"LinkedIn\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faLinkedin} className=\"mr-2 linked-in\" />\n          </a>\n        ) : null}\n        {twitter ? (\n          <a href={twitter} onClick={() => selectItem(\"Twitter\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faTwitter} className=\"mr-2 twitter\" />\n          </a>\n        ) : null}\n        {email ? (\n          <a href={`mailto:${email}`} onClick={() => selectItem(\"Email\", name)}>\n            <FontAwesomeIcon icon={faEnvelope} className=\"mr-2 email\" />\n          </a>\n        ) : null}\n      </div>\n    );\n  }\n  return (\n    <div className=\"page col-12\">\n      <div className={isMobileDeviceOrTablet ? \"pb-2 static-mobile\" : \"static-content pb-2\"}>\n        <h1>{Translate(\"AboutSeroTracker\")}</h1>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"PartOne\"])}\n          <b>{Translate(\"AboutPage\", [\"AboutSection\", \"PartTwo\"], null, [true, false])}</b>\n        </p>\n        <p>\n          <a\n            href=\"https://www.covid19immunitytaskforce.ca/\"\n            className=\"pr-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\"\n              alt=\"COVID-19 Immunity Task Force Logo\"\n              height=\"45\"\n            ></img>\n          </a>\n          <a\n            href=\"https://www.canada.ca/en/public-health.html/\"\n            className=\"px-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img src={HealthAgencyLogo} alt=\"Public Health Agency Logo\" height=\"45\"></img>\n          </a>\n          <a\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n            className=\"px-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img src={UcalgaryLogo} alt=\"Centre for Health Informatics\" height=\"40\"></img>\n          </a>\n          <a href=\"https://www.who.int/\" className=\"px-2\" target=\"__blank\" rel=\"noopener noreferrer\">\n            <WhoLogo height=\"50\"/>\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"SupportedBy\"])}\n          <a onClick={() => selectLink(\"Public Health Agency\")} href=\"https://www.canada.ca/en/public-health.html\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"PublicHealthAgency\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"ThroughThe\"])}\n          <a onClick={() => selectLink(\"ITF Website\")} href=\"https://www.covid19immunitytaskforce.ca/\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"Covid19ImmunityTaskForce\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"HostedAt\"])}\n          <a\n            onClick={() => selectLink(\"Centre for Health Informatics\")}\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n          >\n            {Translate(\"AboutPage\", [\"AboutSection\", \"HealthInformatics\"], null, [true, true])}\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO1\"])}\n          <a onClick={() => selectLink(\"WorldHealthOrganization\")} href=\"https://www.who.int/\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"WorldHealthOrganization\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO2\"])}\n          <a onClick={() => selectLink(\"UnityStudies\")} href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"UnityStudies\"], null, [true, false])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO3\"], null, [true, true])}\n        </p>\n        <p>\n          <a onClick={() => selectLink(\"Mapbox\")} href=\"https://www.mapbox.com/\">\n            Mapbox\n          </a>{\" \"}\n          {Translate(\"AboutPage\", [\"Mapbox\"])}\n        </p>\n        <h2>{Translate(\"ContactUs\")}</h2>\n        <div>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartOne\"], null, [true, true])}\n            <a href=\"mailto:rahul.arora@balliol.ox.ac.uk\">rahul.arora@balliol.ox.ac.uk</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartTwo\"], null, [true, true])}\n            <a href=\"mailto:tingting.yan@mail.utoronto.ca\">tingting.yan@mail.utoronto.ca</a>.\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartThree\"], null, [true, true])}\n            <a href=\"mailto:media@covid19immunitytaskforce.ca\">media@covid19immunitytaskforce.ca</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartFour\"], null, [true, true])}\n            <a href=\"mailto:kelly.johnston2@ucalgary.ca\">kelly.johnston2@ucalgary.ca</a>.\n          </p>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartOne\"])}\n            <b>{Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartTwo\"], null, [true, false])}</b>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartThree\"], null, [true, true])}\n            <a\n              onClick={() => selectLink(\"Form Open\")}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\"\n            >\n              {Translate(\"ThisForm\").toLowerCase()}\n            </a>\n            .\n          </p>\n        </div>\n        <h1>{Translate(\"OurTeam\")}</h1>\n        <h2 className=\"team-name-text\">{Translate(\"TeamLead\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Rahul Arora\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/rahularorayyc/\",\n            \"rahularoradfs@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Tingting Yan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/tingting-yan/\",\n            \"\",\n            \"https://twitter.com/TingtingYan_\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"ResearchTeam\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Niklas Bobrovitz \",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/nik-bobrovitz-19a117179/\",\n            \"niklas.bobrovitz@mail.utoronto.ca\",\n            \"https://twitter.com/nikbobrovitz\"\n          )}\n          {renderBioBlock(\n            \"Emily Boucher\",\n            [Translate(\"SchoolName\", [\"Cumming\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"emily.boucher@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n            \"Hannah Rahim\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/hannah-rahim/\",\n            \"hannahrahim2@gmail.com\",\n            \"https://twitter.com/Hannah_Rahim1\"\n          )}\n          {renderBioBlock(\n            \"Christian Cao\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://ca.linkedin.com/in/christian-cao-275b78190\",\n            \"ccao.canada@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Claire Donnici\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"claire.donnici@ucalgary.ca\",\n            \"https://twitter.com/ClaireDonnici\"\n          )}\n          {renderBioBlock(\n            \"Natasha Ilincic\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Guelph\" })],\n            \"https://www.linkedin.com/in/natasha-ilincic/\",\n            \"natasha.ilincic@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Michael Liu\",\n            [\n              Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n              Translate(\"BlankUniversity\", null, { NAME: \"Harvard\" }),\n            ],\n            \"https://www.linkedin.com/in/michael-liu-8728249a/\",\n            \"liu.michael222@gmail.com\",\n            \"https://twitter.com/mliu_canada\"\n          )}\n          {renderBioBlock(\n            \"Mitchell Segal\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            null,\n            \"mitchell.segal@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n            \"Lucas Penny\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/lucaspenny/\",\n            \"lucas.penny@mail.utoronto.ca\",\n            \"https://twitter.com/lucasjpenny\"\n          )}\n          {renderBioBlock(\n            \"Mairead Whelan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" })],\n            \"https://www.linkedin.com/in/mairead-whelan\",\n            \"mairead.whelan@ucalgary.ca\",\n            \"https://twitter.com/Mairead_GWhelan\"\n          )}\n          {renderBioBlock(\n            \"Judy Chen\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            null,\n            \"judy.chen@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n            \"Mercedes Yanes\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            \"https://www.linkedin.com/in/mercedes-yanes-lane-64b25a19b\",\n            \"mercedes.yaneslane@mcgill.ca\",\n            null\n          )}\n          {renderBioBlock(\n            \"Sara Perlman-Arrow\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            \"https://www.linkedin.com/in/sara-perlman-arrow-5075421b6/\",\n            \"sara.perlman8@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Lucia Otera Varela\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/lucia-ov/\",\n            \"lucia.oterovarela@ucalgary.ca\",\n            \"https://twitter.com/loterovarela\"\n          )}\n          {renderBioBlock(\n            \"Divine Tanyingoh\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"dtanyin@ucalgary.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">Development Team</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Austin Atmaja\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/austinatmaja\",\n            \"atatmaja@uwaterloo.ca\",\n            \"https://twitter.com/atatmaja_\"\n          )}\n          {renderBioBlock(\n            \"Abel Joseph \",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/abel-joseph/\",\n            \"abel.joseph@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Ewan May\",\n            [Translate(\"SchoolName\", [\"Schulich\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/ewan-may\",\n            \"ewan.may@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n            \"Brett Dziedzic\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Lethbridge\" })],\n            \"https://www.linkedin.com/in/brett-dziedzic/\",\n            \"brettdziedzic@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Simona Rocco\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/simona-rocco/\",\n            \"serocco@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Jordan Van Wyk\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/jordanvanwyk/\",\n            \"jordanvanwyk@outlook.com\",\n            \"https://twitter.com/jordanvw_\"\n          )}\n          {renderBioBlock(\n            \"Prannoy Lal\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/prannoylal/\",\n            \"p4lal@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Noel Loo\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Cambridge\" })],\n            null,\n            \"noel.loo.188@gmail.com\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"PrivateSectorMonitoringTeam\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Nathan Duarte\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/duartenathan/\",\n            \"nathanduarte1@gmail.com\",\n            \"https://twitter.com/_nathan_duarte_\"\n          )}\n          {renderBioBlock(\n            \"Abhinav Pillai\t\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"abhinav.arunpillai@ucalgary.ca\"\n          )}\n          {renderBioBlock(\"Natalie Duarte\", [], null, \"natalieaduarte@gmail.com\")}\n          {renderBioBlock(\n            \"Sean D'Mello\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/dmellosean/\",\n            \"sean.dmello@uwaterloo.ca\",\n            \"https://twitter.com/SeanDMello1\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"ScientificAdvisorsAndCollaborators\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\"Tim Evans\", [\n            Translate(\"Biographies\", [\"Tim\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Tim\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Tyler Williamson\", [\n            Translate(\"Biographies\", [\"Tyler\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Tyler\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Matthew Cheng\", [\n            Translate(\"Biographies\", [\"Matthew\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Matthew\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"David Naylor\", [\n            Translate(\"Biographies\", [\"DavidN\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"DavidN\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"David Buckeridge\", [\n            Translate(\"Biographies\", [\"DavidB\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"DavidB\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Bruce Mazer\", [\n            Translate(\"Biographies\", [\"BruceM\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"BruceM\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Jesse Papenburg\", [\n            Translate(\"Biographies\", [\"Jesse\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Jesse\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Jonathan Chevrier\", [\n            Translate(\"Biographies\", [\"Jonathan\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Jonathan\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Catherine Hankins\", [\n            Translate(\"Biographies\", [\"CatherineH\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"CatherineH\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Erin O'Connor\", [\n            Translate(\"Biographies\", [\"ErinO\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"ErinO\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Catherine Eastwood\", [\n            Translate(\"Biographies\", [\"CatherineE\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"CatherineE\", \"PartTwo\"]),\n          ])}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBiohazard } from \"@fortawesome/free-solid-svg-icons\";\nimport { Button } from 'semantic-ui-react'\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"../../context\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport { useHistory } from 'react-router-dom';\nimport BrokenAb from '../../assets/images/BrokenAb.gif'\n\nexport default function NotFoundPage(){\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const history = useHistory();\n\n  const [{ language }, _] = useContext(AppContext);\n\n  return (\n    <div className=\"page col-12\">\n      <div className=\"center-container\">\n        <img src={BrokenAb} height={\"30%\"} alt=\"\" />\n        <p className=\"not-found-subheader\">{Translate(\"NotFound\", [\"PartOne\"])}</p>\n        <p>{Translate(\"NotFound\", [\"PartTwo\"])}</p>\n        <Button \n          className=\"not-found-button\"\n          onClick={() => history.push(`/${language}/Explore`)}>\n            {Translate(\"NotFound\", [\"Button\"])}\n        </Button>\n      </div>\n    </div>\n  );\n}","import React, { useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function CookiePolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.text = \"(function(d, s, id) { var js, tjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://app.termly.io/embed-policy.min.js'; tjs.parentNode.insertBefore(js, tjs); }(document, 'script', 'termly-jssdk'));\"\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 page fill\">\r\n      <div className={isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"}>\r\n        <iframe title=\"CookiePolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/4cfb8f90-983a-40b4-bea2-2cdd373f14b5\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { AggregatedRecord, AggregationFactor, AirtableRecord, Filters, FilterType } from \"./types\";\nimport { formatDates } from \"./utils/utils\";\nimport {parseISO, format } from \"date-fns\";\n\nexport default class httpClient {\n\n    async httpGet(url: string, useAppRoute: boolean) {\n        let url_full = url;\n        if (useAppRoute && process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async httpPost(url: string, data: Record<string, any>) {\n        let url_full = url;\n        if (process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getStyles(url: string) {\n\n        const res = await fetch(url);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    responseToRecord(item: Record<string, any>){\n        // TODO: find a less verbose way to map an http response to a typescript object\n        const record: AirtableRecord = {\n            age: item.age,\n            city: item.city,\n            country: item.country,\n            denominator: item.denominator_value,\n            estimate_grade: item.estimate_grade,\n            first_author: item.first_author,\n            isotypes_reported: item.isotypes_reported,\n            lead_organization: item.lead_organization,\n            overall_risk_of_bias: item.overall_risk_of_bias,\n            pin_latitude: item.pin_latitude,\n            pin_longitude: item.pin_longitude,\n            pin_region_type: item.pin_region_type,\n            population_group: item.population_group,\n            sampling_end_date: item.sampling_end_date,\n            sampling_start_date: item.sampling_start_date,\n            seroprevalence: item.serum_pos_prevalence,\n            sensitivity: item.sensitivity,\n            specificity: item.specificity,\n            sex: item.sex,\n            source_id: item.source_id,\n            source_name: item.source_name,\n            source_type: item.source_type,\n            specimen_type: Array.isArray(item.specimen_type) ? item.specimen_type : [item.specimen_type],\n            state: item.state,\n            study_type: item.study_type,\n            summary: item.summary,\n            test_type: item.test_type,\n            test_manufacturer: item.test_manufacturer,\n            url: item.url\n        };\n\n        return record\n    }\n\n    async getRecordDetails(source_id : string) {\n        const response = await this.httpGet(`/data_provider/record_details/${source_id}`, true);\n        if (!response) {\n            return null;\n        }\n\n        const record: AirtableRecord = this.responseToRecord(response);\n        \n        return record;\n    }\n\n    async getAllFilterOptions() {\n        const response = await this.httpGet('/data_provider/filter_options', true);\n        const options: Record<string, any> = {}\n        for(let k in response){\n            // Currently no need for max and min date options\n            if(k !== \"max_date\" && k !== \"min_date\"){\n                // For all the other options, use a Set instead of list\n                // Because that's the data model our filters are used to\n                // TODO: refactor so we can keep filter options in a list\n                options[k] = new Set(response[k]);\n            }\n        }\n        // We know that only these 3 isotypes will ever be reported, thus we can hardcode\n        options.isotypes_reported = new Set([\"IgG\", \"IgA\", \"IgM\"]);\n        const updatedAt = format(parseISO(response.updated_at), \"yyyy/MM/dd\");\n        const maxDate = parseISO(response.max_date);     \n        const minDate = parseISO(response.min_date);\n        return { options, updatedAt, maxDate, minDate };\n    }\n    \n    async getAirtableRecords(filters: Filters,\n        only_explore_columns: Boolean =false,\n        sorting_key = \"denominator_value\",\n        reverse= false) {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            if (o !== 'publish_date') {\n                reqBodyFilters[o] = filter as string[]\n            }\n        });\n\n        const explore_columns = [\"source_id\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\"];\n\n        const date = filters['publish_date'] as Array<Date>\n        const [startDate, endDate] = formatDates(date)\n        const reqBody: Record<string, any> = {\n            filters: reqBodyFilters,\n            sampling_start_date: startDate,\n            sampling_end_date: endDate,\n            sorting_key: sorting_key,\n            reverse: reverse,\n            per_page: null,\n            page_index: null,\n        }\n\n        if( only_explore_columns ){\n            reqBody.columns = explore_columns;\n        }\n\n        const response = await this.httpPost('/data_provider/records', reqBody)\n        if (!response) {\n            return [];\n        }\n        const filtered_records = response.map((item: Record<string, any>) => {\n            // Convert response to AirtableRecord type\n            const record: AirtableRecord = this.responseToRecord(item);\n            return record;\n        });\n        // Remove timestamp from updated at string\n\n        return filtered_records;\n    }\n\n    async getEstimateGrades(filters: Filters) {\n        const reqBodyFilters: Record<string, string[]> = {}\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        })\n        delete reqBodyFilters['publish_date']\n        const date = filters['publish_date']        \n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            sampling_start_date: startDate,\n            sampling_end_date: endDate,\n            filters: reqBodyFilters\n        }\n\n        const response = await this.httpPost('/data_provider/country_seroprev_summary', reqBody);\n        if (!response) {\n            return [];\n        }\n        const formattedResponse = response.map((record: Record<string, any>) => {\n            // Convert response to AlternateAggregatedRecord type         \n            const estimateSummary = record.seroprevalence_estimate_summary;\n            return {\n                numberOfStudies: record.n_estimates,\n                testsAdministered: record.n_tests_administered,\n                geographicalName: record.country,          \n                alpha3Code: record.country_iso3,\n                localEstimate: {\n                    maxEstimate: estimateSummary.Local.max_estimate,\n                    minEstimate: estimateSummary.Local.min_estimate,\n                    numEstimates: estimateSummary.Local.n_estimates,\n                },\n                nationalEstimate: {\n                    maxEstimate: estimateSummary.National.max_estimate,\n                    minEstimate: estimateSummary.National.min_estimate,\n                    numEstimates: estimateSummary.National.n_estimates,\n                },\n                regionalEstimate: {\n                    maxEstimate: estimateSummary.Regional.max_estimate,\n                    minEstimate: estimateSummary.Regional.min_estimate,\n                    numEstimates: estimateSummary.Regional.n_estimates,\n                },\n                sublocalEstimate: {\n                    maxEstimate: estimateSummary.Sublocal.max_estimate,\n                    minEstimate: estimateSummary.Sublocal.min_estimate,\n                    numEstimates: estimateSummary.Sublocal.n_estimates,\n                }\n            }\n        });\n\n        return formattedResponse;\n    }\n\n    // Note: deprecated but leaving here in case we need again\n    async postMetaAnalysis(filters: Filters,\n        aggregation_variable: AggregationFactor,\n        meta_analysis_technique: string = 'fixed',\n        meta_analysis_transformation: string = 'double_arcsin_precise') {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        const date = filters['publish_date'];\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        });\n\n        // TODO: Rename publish_date to sampling_end_date\n        delete reqBodyFilters['publish_date'];\n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            sampling_start_date: startDate,\n            sampling_end_date: endDate,\n            filters: reqBodyFilters,\n            aggregation_variable,\n            meta_analysis_technique,\n            meta_analysis_transformation\n        };\n\n        const response = await this.httpPost('/meta_analysis/records', reqBody);\n        if (response) {\n            // Convert response to aggregatedRecord object\n            const formatted_response: AggregatedRecord[] = Object.keys(response).filter((key: string) => response[key] !== null).map((key: string) => {\n                return {\n                    error: response[key].error_percent,\n                    n: response[key].total_N,\n                    name: key,\n                    numStudies: response[key].n_studies,\n                    seroprevalence: response[key].seroprevalence_percent,\n                }\n            });\n            return formatted_response;\n        }\n        return [];\n    }\n}\n","export const MapSymbology = {\n    StudyFeature: {\n        National: {\n            Color: '#094180',\n            Size: 11\n        },\n        Regional: {\n            Color: '#F19E66',\n            Size: 9\n        },\n        Local: {\n            Color: '#E15759',\n            Size: 6\n        },\n        Sublocal: {\n            Color: '#E15759',\n            Size: 5\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Size: 0\n        }\n    },\n    CountryFeature: {\n        HasData: {\n            Color: '#97b1bd',\n            Opacity: 0.5 \n        },\n        Disputed: {\n            Color: '#E1E1E1',\n            Opacity: 1 \n        },\n        Default: {\n            Color: '#FFFFFF',\n            Opacity: 0 \n        }\n    },\n    Border: {\n        Color: \"#455a64\"\n    }\n}\n\nexport const MapUrlResource = {\n    WHO_BASEMAP : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_no_labels/VectorTileServer\",\n    WHO_COUNTRY_VECTORTILES : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/Countries/VectorTileServer\"\n}\n\nconst MapConfig = {\n    Studies: {\n        \"circle-color\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Color,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Color,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Color,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Color,\n          MapSymbology.StudyFeature.Default.Color,\n        ],\n        \"circle-radius\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Size,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Size,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Size,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Size,\n          MapSymbology.StudyFeature.Default.Size,\n        ],\n        'circle-stroke-width': 1,\n        'circle-stroke-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'isSelected'], false],\n            1,\n            0\n        ],\n        'circle-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'isBlurred'], false],\n            0.2,\n            0.6\n        ]\n      },\n\n      Countries : {\n        'fill-color': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false],\n          MapSymbology.CountryFeature.HasData.Color,\n          MapSymbology.CountryFeature.Default.Color\n        ],\n        'fill-opacity': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false],\n          MapSymbology.CountryFeature.HasData.Opacity,\n          MapSymbology.CountryFeature.Default.Opacity\n        ]\n      }\n}\n\nexport default MapConfig;","import mapboxgl from \"mapbox-gl\";\nimport httpClient from \"../httpClient\";\nimport MapConfig from \"components/map/MapConfig\"\n\n// Params: url - to an esri vector tile service\n// Returns: Modified style object with attributes for Mapbox GL JS compatability \nasync function prepare(url: string) {\n\n  const styleUrl = url + \"/resources/styles/root.json\";\n\n  const api = new httpClient()\n\n  let fetchedStyle = await api.getStyles(styleUrl);\n  fetchedStyle.sprite = url + \"/resources/sprites/sprite\";\n  fetchedStyle.glyphs = url + \"/resources/fonts/{fontstack}/{range}.pbf\";\n  fetchedStyle.sources.esri = {\n    type: 'vector',\n    tiles: [url + \"/tile/{z}/{y}/{x}.pbf\"],\n    maxzoom: 23,\n  };\n\n  return fetchedStyle;\n};\n\n// Params: url - to an esri vector tile service\n// Returns: Mapbox style object with applied serotracker styling expressions\nexport async function getEsriVectorSourceStyle(url: string) {\n    let style = await prepare(url)\n\n    var source = style.sources.esri as mapboxgl.VectorSource;\n\n    const l = style.layers[0] as mapboxgl.Layer;\n    if (l.id === \"Countries\") {\n      source.promoteId = { \"Countries\": \"CODE\" }\n      l.paint = MapConfig.Countries\n    }\n\n    return style\n}\n\n// Params: mapbox style object, mapbox instance to add layers to\nexport function addEsriLayersFromVectorSourceStyle(style: any, map: mapboxgl.Map) {\n  const sourceLayerId = style?.layers[0][\"source-layer\"] as string;\n\n  map.addSource(sourceLayerId, style.sources.esri);\n  \n  if (sourceLayerId === \"Countries\"){\n    const layer = style?.layers[0]\n    layer.source = sourceLayerId;\n    map.addLayer(layer)\n  }\n  else{\n  style.layers.forEach((layer: any) => {\n    if (layer.source !== \"DISPUTED_AREAS\" && layer.source !== \"DISPUTED_BORDERS\")\n    {\n      layer.source = sourceLayerId;\n      map.addLayer(layer);\n    }\n  });\n}\n}\n","import React from \"react\";\nimport { RegionalPrevalenceEstimate } from \"types\";\nimport { LanguageType } from \"types\";\nimport Translate, { getCountryName } from 'utils/translate/translateService';\n\nconst createPopupGeographySection = (regionalEstimate: RegionalPrevalenceEstimate, title: string) => {\n  const minString = `${(regionalEstimate.minEstimate * 100).toFixed(2)}%`\n  const maxString = `${(regionalEstimate.maxEstimate * 100).toFixed(2)}%`\n  const regionString = minString === maxString ? minString : `${minString} - ${maxString}`;\n\n  return (\n    <div key={Math.random()} className={\"flex fit column popup-heading\"}>\n      <div key={Math.random()} className=\"popup-heading pt-1\">{title}</div>\n      <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('EstimateRange')}: <b>{regionString}</b></div>\n      <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('NumberEstimates')}: <b>{regionalEstimate.numEstimates}</b></div>\n    </div>\n  )\n}\n\nconst CountryPopup = (country : any, language : LanguageType) => {\n\n  const properties = country?.state\n\n  if (properties.testsAdministered) {\n    const regions: Array<any> = []\n    let addRegion = (r: RegionalPrevalenceEstimate, name: string) => { \n      return (r !== undefined && r.numEstimates !== 0 ? regions.push({Region: r, Name: name}) : null) \n    }\n    addRegion(properties.nationalEstimate, Translate('NationalEstimates'));\n    addRegion(properties.regionalEstimate, Translate('RegionalEstimates'));\n    addRegion(properties.localEstimate, Translate('LocalEstimates'));\n    addRegion(properties.sublocalEstimate, Translate('SublocalEstimates'));\n\n    return (\n      <div className=\"col-12 p-0 flex column country-popup\" >\n        <div className=\"fit popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n        <div className=\"flex column fit popup-heading\">\n          <div className=\"fit popup-text\">{Translate(\"TestsAdministered\")}: <b>{properties?.testsAdministered}</b></div>\n          <div className=\"fit popup-text\">{Translate('NumSeroprevalenceEstimates')}: <b>{properties?.numberOfStudies}</b></div>\n        </div>\n        {regions.map((o) => createPopupGeographySection(o.Region, o.Name))}\n      </div>)\n  };\n\n  return (\n    <div className=\"col-12 p-0 flex\">\n      <div className=\"fit popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n      <div className=\"col-12 p-0 flex popup-text\">{Translate('NoData')}</div>\n    </div>)\n}\n\nexport default CountryPopup;","import { useState, useEffect, useContext } from \"react\"\nimport { AppContext } from \"context\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { EstimateGradePrevalence } from \"types\";\nimport mapboxgl from \"mapbox-gl\";\nimport CountryPopup from 'components/map/Popups/CountryPopup'\n\n// Maps estimate grade prevalence data to a match ISO3 code in the countries feature layer\nfunction SetCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    estimateGradePrevalences.forEach((country: EstimateGradePrevalence) => {\n        if (country && country.testsAdministered && country.alpha3Code) {\n            map.setFeatureState(\n                {\n                    source: \"Countries\",\n                    sourceLayer: \"Countries\",\n                    id: country.alpha3Code,\n                },\n                {\n                    hasData: true,\n                    testsAdministered: country.testsAdministered,\n                    geographicalName: country.geographicalName,\n                    numberOfStudies: country.numberOfStudies,\n                    localEstimate: country.localEstimate,\n                    nationalEstimate: country.nationalEstimate,\n                    regionalEstimate: country.regionalEstimate,\n                    sublocalEstimate: country.sublocalEstimate,\n                }\n            );\n        }\n    });\n}\n\n// Filters out Country features based on their existance within the new estimate grade prevalences\nfunction FilterCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    const onlyIso3: (string | null)[] = estimateGradePrevalences.map((c) => { return c.alpha3Code })\n\n    if (map.getLayer(\"Countries\") && map.isSourceLoaded('Countries')) {\n        map?.setFilter('Countries',\n            [\"in\",\n                [\"get\", 'CODE'],\n                [\"literal\", onlyIso3]\n            ]);\n    }\n    else { // If countries has not been loaded, wait until it's source has finished.\n        map.on('sourcedata', function (e: any) {\n            if (e.sourceId === 'Countries' && map.isSourceLoaded('Countries')) {\n                map?.setFilter('Countries',\n                    [\"in\",\n                        [\"get\", 'CODE'],\n                        [\"literal\", onlyIso3]\n                    ]);\n            }\n        });\n    }\n}\n\nconst Countries = (map: mapboxgl.Map | undefined, estimateGradePrevalences: EstimateGradePrevalence[]) => {\n\n    const [state] = useContext(AppContext);\n    const [popup, setPopup] = useState<mapboxgl.Popup | undefined>(undefined);\n    const [currentFeatureId, setCurrentFeatureId] = useState<string | undefined>(undefined);\n\n    // If estimates are updated, waits until map is loaded then maps estimate data to country features\n    useEffect(() => {\n        if (estimateGradePrevalences.length > 0 && map && map.getSource('Countries')) {\n            SetCountryEstimates(map, estimateGradePrevalences);\n        }\n        else if (map) {\n            map.on('sourcedata', function (e: any) {\n                if (e.sourceId === 'Countries' && map.isSourceLoaded('Countries')) {\n                    SetCountryEstimates(map, estimateGradePrevalences);\n                }\n            });\n        }\n    }, [estimateGradePrevalences, map]);\n\n    // If estimates are updated, waits until map is loaded then filters country features\n    useEffect(() => {\n        if (estimateGradePrevalences.length > 0 && map) {\n            FilterCountryEstimates(map, estimateGradePrevalences)\n        }\n    }, [estimateGradePrevalences, map]);\n\n    // wait until map is loaded then creates and binds popup to map events\n    useEffect(() => {\n        if (map && popup === undefined) {\n            const countryPop = new mapboxgl.Popup({ offset: 25, className: \"pin-popup\", closeButton: false });\n\n            map.on(\"mouseenter\", \"Countries\", function (e: any) {\n                if (e.features[0].state.hasData) {\n                    countryPop.setMaxWidth(\"250px\")\n                        .setHTML(ReactDOMServer.renderToString(CountryPopup(e.features[0], state.language)))\n                        .setLngLat(e.lngLat)\n                        //.trackPointer()\n                        .addTo(map);\n                }\n            });\n\n            map.on(\"mouseleave\", \"Countries\", function (e: any) {\n                if (countryPop.isOpen()) {\n                    countryPop\n                    .remove()\n                }\n            });\n\n            map.on(\"mousemove\", \"Countries\", function (e: any) {\n                const f = e.features[0];\n                if (f.state.hasData && f.id !== currentFeatureId && countryPop.isOpen()) {\n                    countryPop\n                    .setLngLat(e.lngLat)\n                    .setHTML(ReactDOMServer.renderToString(CountryPopup(e.features[0], state.language)))\n                    setCurrentFeatureId(f.id);\n                }\n            });\n\n            setPopup(countryPop);\n        }\n    }, [map, state.language, popup, currentFeatureId])\n\n    useEffect(()=>{\n        if(popup !== undefined){\n            if (state.showCountryHover){\n                popup.removeClassName(\"disable-popup\")\n            }\n            else\n            {\n                popup.addClassName(\"disable-popup\")\n            }\n        }\n    }, [popup, state.showCountryHover])\n\n    return;\n}\n\nexport default Countries;","import React from \"react\";\nimport { AirtableRecord } from \"types\";\nimport Translate from 'utils/translate/translateService';\nimport { getGeography, getPossibleNullDateString } from 'utils/utils';\n\nexport default function StudyPopup(record: AirtableRecord) {\n    return (<React.Fragment>\n        <div className=\"popup-title\">\n            {Translate(`${record.estimate_grade}StudyDetails`)}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"StudyName\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.url ? <a href={record.url} target=\"_blank\" rel=\"noopener noreferrer\">{record.source_name}</a> : record.source_name}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"Location\")}\n        </div>\n        <div className=\"popup-text\">\n            {getGeography(record.city, record.state, record.country)}\n        </div>\n        {(record.sampling_start_date && record.sampling_end_date) && (\n            <>\n                <div className=\"popup-heading\">\n                    {Translate(\"SamplingDates\")}\n                </div>\n                <div className=\"popup-text\">\n                    {`${getPossibleNullDateString(record.sampling_start_date)} → ${getPossibleNullDateString(record.sampling_end_date)}`}\n                </div>\n            </>)\n        }\n        <div className=\"popup-heading\">\n            {Translate(\"BestSeroprevalenceEstimate\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.seroprevalence ? `${(record.seroprevalence * 100).toFixed(1)}%` : \"N/A\"}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"N\")}\n        </div>\n        <div className=\"popup-text\">\n            {`${record.denominator}`}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"PopulationGroup\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.population_group ? `${record.population_group}` : Translate(\"NotReported\")}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"RiskOfBias\")}\n        </div>\n        <div className=\"popup-text\">\n            {`${record.overall_risk_of_bias}`}\n        </div>\n    </React.Fragment>)\n}","import { useEffect, useRef } from \"react\";\n\nfunction usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default usePrevious;","import { useState, useEffect, useContext } from \"react\"\nimport ReactDOMServer from \"react-dom/server\";\nimport StudyPopup from \"components/map/Popups/StudyPopup\";\nimport { AppContext } from \"context\";\nimport { AirtableRecord } from \"types\";\nimport httpClient from \"httpClient\";\nimport usePrevious from \"utils/usePrevious\"\nimport mapboxgl from \"mapbox-gl\";\nimport generateSourceFromRecords from \"utils/GeoJsonGenerator\";\nimport MapConfig from \"components/map/MapConfig\"\n\nconst togglePinBlur = (map: mapboxgl.Map, selectedPinId?: string) => {\n  const features = map.querySourceFeatures('study-pins', {\n    sourceLayer: 'study-pins'\n    });\n  \n  features.forEach(x => {\n    const isBlurred = (selectedPinId === x?.id || selectedPinId === undefined) ? false : true\n    map.setFeatureState(\n      {\n        source: \"study-pins\",\n        id: x?.id,\n      },\n      {\n        isBlurred: isBlurred,\n      }\n    );\n  })\n}\n\nconst StudyPins = (map: mapboxgl.Map | undefined, records: AirtableRecord[]) => {\n\n  const [state] = useContext(AppContext);\n  const [api] = useState(new httpClient());\n  const [selectedPinId, setSelectedPinId] = useState<string | undefined>(undefined);\n  const prevSelectedPinId = usePrevious(selectedPinId)\n\n  useEffect(() => {\n    if(map){\n      const src = generateSourceFromRecords(records);\n      if(map.getLayer(\"study-pins\") === undefined){\n        map.addSource(\"study-pins\", src);\n        map.addLayer({\n          id: \"study-pins\",\n          type: \"circle\",\n          source: \"study-pins\",\n          paint: MapConfig.Studies as mapboxgl.CirclePaint\n        });\n      }\n      else{\n        const studyPinsSource = map.getSource(\"study-pins\") as any;\n        studyPinsSource.setData(src.data);\n      }\n    }\n  }, [map, records]);\n\n  useEffect(() => {\n    if (map) {\n      map?.setFilter('study-pins',\n      [\n        \"match\",\n        [\"get\", \"estimate_grade\"],\n        \"National\", state.explore.legendLayers.National,\n        \"Regional\", state.explore.legendLayers.Regional,\n        \"Local\", state.explore.legendLayers.Local,\n        \"Sublocal\", state.explore.legendLayers.Local,\n        false,\n      ]\n      );\n    }\n  }, [map, state.explore.legendLayers]);\n\n  useEffect(() => {\n    if (map) {\n      let pinPopup: mapboxgl.Popup | undefined = undefined;\n\n      map.on(\"click\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n\n        if (pinPopup !== undefined)\n        {\n          pinPopup.remove()\n        }\n        const source_id = e.features[0].properties.source_id;\n\n        api.getRecordDetails(source_id).then((record) => {\n          if (record !== null) {\n            setSelectedPinId(source_id);\n            togglePinBlur(map, source_id);\n            pinPopup = new mapboxgl.Popup({ offset: 5, className: \"pin-popup\" })\n              .setLngLat(e.lngLat)\n              .setHTML(ReactDOMServer.renderToString(StudyPopup(record)))\n              .setMaxWidth(\"300px\")\n              .addTo(map);\n            pinPopup.on(\"close\",()=>{\n              setSelectedPinId(undefined);\n              togglePinBlur(map);\n            })\n          }\n        });\n      });\n\n      /*\n      map.on('click', function(e) {\n        if (e.point !== pinCoords)\n        {\n          setSelectedPinId(undefined);\n          togglePinBlur(map);\n        }\n      });\n      */\n\n      map.on(\"mouseenter\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"\";\n      });\n    }\n  }, [map, state.language, api])\n\n  useEffect(() => {\n    if (map) {\n      if (prevSelectedPinId) {\n        map.setFeatureState(\n          {\n            source: \"study-pins\",\n            id: prevSelectedPinId,\n          },\n          {\n            isSelected: false,\n          }\n        );\n      }\n\n      map.setFeatureState(\n        {\n          source: \"study-pins\",\n          id: selectedPinId,\n        },\n        {\n          isSelected: true,\n        }\n      );\n    }\n  }, [map, selectedPinId, prevSelectedPinId]);\n\n  return;\n}\n\nexport default StudyPins;","import { AirtableRecord } from \"../types\";\n\n// Please refer to GeoJSON spec rfc7946 if adding addiontal members: https://tools.ietf.org/html/rfc7946#section-3.1.1\nfunction recordsToGeoJsonFeatures(records: AirtableRecord[]): GeoJSON.Feature[] {\n    return records.flatMap((record) => {\n        if (!record.pin_latitude && !record.pin_longitude){\n            return [];\n        }\n        return {\n            type: \"Feature\",\n            properties: { // We can add any properties here to modify how we want to render the pin - helpful for WHO data\n                estimate_grade: record.estimate_grade,\n                source_id: record.source_id ?? undefined\n            },\n            geometry: {\n                type: \"Point\",\n                coordinates: [record.pin_longitude, record.pin_latitude],\n            },\n        };\n    });\n}\n\nexport default function generateSourceFromRecords(records: AirtableRecord[]): mapboxgl.GeoJSONSourceRaw {\n    const f = recordsToGeoJsonFeatures(records);\n    const source = {\n        type: \"geojson\",\n        promoteId: 'source_id',\n        data: {\n            type: \"FeatureCollection\",\n            features: f,\n        },\n    } as mapboxgl.GeoJSONSourceRaw;\n\n    return source;\n}","import React, { useContext, useEffect, useRef, useState, Dispatch } from \"react\";\nimport { AppContext } from \"context\";\nimport { getEsriVectorSourceStyle, addEsriLayersFromVectorSourceStyle } from \"utils/EsriMappingUtil\";\nimport Countries from \"components/map/Layers/Countries\";\nimport StudyPins from \"components/map/Layers/StudyPins\";\nimport { MapUrlResource } from 'components/map/MapConfig'\n// @ts-ignore\n// eslint-disable-next-line\nimport mapboxgl, { Style } from '!mapbox-gl';\nimport \"components/map/MapboxMap.css\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY as string;\n\nfunction mapOnLoad(map: mapboxgl.Map, dispatch: Dispatch<any>) {\n  getEsriVectorSourceStyle(MapUrlResource.WHO_COUNTRY_VECTORTILES).then((style: mapboxgl.Style) => {\n    addEsriLayersFromVectorSourceStyle(style, map);\n    const styleJson: Style = map.getStyle();\n    let CountryPolygonsMoved = false;\n    if (styleJson && styleJson.layers) {\n      for (let layer of styleJson.layers as any) {\n        const source = layer[\"source-layer\"];\n        if (source === \"DISPUTED_AREAS\") {\n          if (!CountryPolygonsMoved)\n          {\n            map.moveLayer(\"Countries\", layer.id); // HACK for now, moves countries layer behind border once loaded.\n          }\n\n          map.on(\"mouseenter\", layer.id, function (e: any) {\n            dispatch({ type: 'HIDE_COUNTRY_HOVER' })\n          });\n          map.on(\"mouseleave\", layer.id, function (e: any) {\n            dispatch({ type: 'SHOW_COUNTRY_HOVER' })\n          });\n        }\n      }\n    }\n  });\n}\n\nconst MapboxGLMap = (): any => {\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const [state, dispatch] = useContext(AppContext);\n  const [map, setMap] = useState<mapboxgl.Map | undefined>(undefined);\n\n  // Creates map, only runs once\n  useEffect(() => {\n    (async () => {\n      const baseMapStyle = await getEsriVectorSourceStyle(MapUrlResource.WHO_BASEMAP);\n\n      const m = new mapboxgl.Map({\n        //@ts-ignore\n        container: mapContainerRef.current,\n        style: baseMapStyle,\n        center: [10, 30],\n        zoom: 2,\n        attributionControl: false,\n        antialias: true// enables MSAA antialiasing, to help make dotted line WHO borders more visible\n      });\n\n      m.on(\"load\", () => {\n        mapOnLoad(m, dispatch);\n        setMap(m);\n      });\n    })();\n\n    return () => map?.remove();\n  }, []);\n\n  // Adds country data to map and binds pin behaviour with map popups\n  Countries(map, state.explore.estimateGradePrevalences);\n  // Adds pins to map and binds pin behaviour with map popups\n  StudyPins(map, state.explore.records);\n\n  return (\n    //@ts-ignore\n    <div className=\"mapContainer w-100\" ref={(el) => (mapContainerRef.current = el)}></div>\n  );\n};\n\nexport default MapboxGLMap;\n","import React from \"react\";\nimport { Popup } from \"semantic-ui-react\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport './shared.scss';\n\ninterface InformationTextProps {\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\n  tooltip: string | React.ReactNode;\n  tooltipHeader?: string;\n  offset: string | number;\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\n  text: string;\n}\n\nexport default function InformationText(props: InformationTextProps) {\n  const { text, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\n  return (\n      <Popup\n        key={Math.random()}\n        offset={offset}\n        position={position}\n        size={popupSize}\n        onOpen={() => {\n          sendAnalyticsEvent({\n            /** Typically the object that was interacted with (e.g. 'Video') */\n            category: 'Tooltip',\n            /** The type of interaction (e.g. 'play') */\n            action: 'opening',\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\n            label: tooltipHeader || \"Unknown tooltip\"\n            /** A numeric value associated with the event (e.g. 42) */\n          })\n        }}\n        //fix for janky popup positioning due to overflow styling\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\n        trigger={<span className=\"info-text\">{text}</span>}>\n        {tooltipHeader && (\n\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\n        )}\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\n      </Popup>\n  );\n}","import React from \"react\";\nimport Translate from \"../../../utils/translate/translateService\";\nimport InformationText from \"../../shared/InformationText\";\nimport './AnalysisMethods.css';\n\nconst MIN_DENOMINATOR = 100\nexport default function AnalysisMethods() {\n    return (\n        <div className=\"analysis-methods\">\n            <div className=\"section-title py-2 center\">\n                {Translate(\"AnalysisMethods\", [\"Title\"]).toUpperCase()}\n            </div>\n            <div>\n                <div>\n                    {Translate(\"AnalysisMethods\", [\"FirstParagraph\", \"FirstSentence\"], null, [false, true])}\n                    <InformationText\n                        tooltip={\n                            <div>\n                                <p>\n                                    {Translate(\"AnalysisMethods\", [\"Tooltip\"], { \"MIN_DENOMINATOR\": MIN_DENOMINATOR })}\n                                </p>\n                            </div>\n                        }\n                        text={Translate(\"Aggregating\").toLowerCase()}\n                        offset={-12}\n                    />\n                    {Translate(\"AnalysisMethods\", [\"FirstParagraph\", \"SecondSentence\"], null, [true, false])}\n                </div>\n            </div>\n            <p>\n            {Translate(\"AnalysisMethods\", [\"SecondParagraph\"], null)}\n        </p>\n            <p>\n            {Translate(\"AnalysisMethods\", [\"ThirdParagraph\"], null)}\n        </p>\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { State, PageState } from \"../../../types\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport \"./TotalStats.css\";\r\n\r\ninterface TotalStatsProps {\r\n  page: string;\r\n}\r\n\r\nexport default function TotalStats({ page }: TotalStatsProps) {\r\n  const [state] = useContext(AppContext);\r\n  const [countries, setNumCountries] = useState(0);\r\n  const [numStudies, setNumStudies] = useState(0);\r\n  const [n, setN] = useState(0);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  useEffect(() => {\r\n    const updateCountryPrevalence = async () => {\r\n      setNumCountries(pageState.estimateGradePrevalences.length);\r\n      setN(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.testsAdministered)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n      setNumStudies(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.numberOfStudies)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n    };\r\n    updateCountryPrevalence();\r\n  }, [pageState.estimateGradePrevalences]);\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 stats-container\">\r\n      <div className=\"col-12 pb-2 pt-4 section-title center\">\r\n        {Translate(\"SummaryStatistics\").toUpperCase()}\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic\">{numStudies}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"SeroprevalenceStudies\")}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic\">{countries}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title center px-1\">\r\n          {Translate(\"IncludingParticipants\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic center\">{n.toLocaleString()}</div>\r\n        <div className=\"secondary-statistic-title px-1 center \">\r\n          {Translate(\"IncludingParticipants\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n","import _ from 'lodash';\r\nimport httpClient from '../httpClient'\r\nimport { AggregationFactor, Filters, FilterType } from '../types'\r\n\r\nexport const updateFilters = async (\r\n  dispatch: any,\r\n  filters: Filters,\r\n  filterType: FilterType,\r\n  filterValue: any[],\r\n  exploreIsOpen: Boolean,\r\n  page: string,\r\n  aggregationFactor: AggregationFactor) => {\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n\r\n  dispatch({\r\n    type: 'UPDATE_FILTER',\r\n    payload: {\r\n      filterType,\r\n      filterValue,\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  const updatedFilters: Filters = Object.assign({}, filters);\r\n  updatedFilters[filterType] = new Set(filterValue);\r\n\r\n  const api = new httpClient()\r\n  // Update current records when called\r\n  const [records,\r\n    estimateGradePrevalences] = await\r\n      Promise.all([\r\n        api.getAirtableRecords(updatedFilters, exploreIsOpen),\r\n        api.getEstimateGrades(updatedFilters)\r\n      ]);\r\n \r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}\r\n\r\nexport const initializeData = async (dispatch: any, filters: Filters, exploreIsOpen: Boolean, page: string) => {\r\n\r\n  const api = new httpClient()\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n  \r\n  const [records,\r\n    estimateGradePrevalences] = await Promise\r\n      .all([api.getAirtableRecords(filters, exploreIsOpen),\r\n      api.getEstimateGrades(filters)]);\r\n\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}","import { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Popup } from \"semantic-ui-react\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\ninterface InformationIconProps {\r\n  color: string;\r\n  size: \"xs\" | \"lg\" | \"sm\" | \"1x\" | \"2x\" | \"3x\" | \"4x\" | \"5x\" | \"6x\" | \"7x\" | \"8x\" | \"9x\" | \"10x\" | undefined,\r\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\r\n  tooltip: string | React.ReactNode;\r\n  tooltipHeader?: string;\r\n  offset: string | number;\r\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\r\n}\r\n\r\nexport default function InformationIcon(props: InformationIconProps) {\r\n  const { color, size, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\r\n  return (\r\n    <div className=\"px-2\">\r\n      <Popup\r\n        key={Math.random()}\r\n        offset={offset}\r\n        position={position}\r\n        size={popupSize}\r\n        onOpen={() => {\r\n          sendAnalyticsEvent({\r\n            /** Typically the object that was interacted with (e.g. 'Video') */\r\n            category: 'Tooltip',\r\n            /** The type of interaction (e.g. 'play') */\r\n            action: 'opening',\r\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n            label: tooltipHeader || \"Unknown tooltip\"\r\n            /** A numeric value associated with the event (e.g. 42) */\r\n          })\r\n        }}\r\n        //fix for janky popup positioning due to overflow styling\r\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\r\n        trigger={\r\n          <FontAwesomeIcon\r\n            icon={faInfoCircle}\r\n            color={color}\r\n            size={size} />}>\r\n        {tooltipHeader && (\r\n\r\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\r\n        )}\r\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InformationIcon from \"../../shared/InformationIcon\";\n\ninterface SectionHeaderProps {\n    header_text: string,\n    tooltip_text?: string | React.ReactNode,\n    tooltip_header?: string\n}\n\nexport default function SectionHeader({header_text, tooltip_text, tooltip_header}: SectionHeaderProps){\n    return (\n        <div className=\"pb-2 flex\">\n        <div className=\"filter-section-header\">{header_text}</div>\n        {tooltip_text && (\n            <div className=\"tooltip-vert-adj\">\n            <InformationIcon\n                offset={10}\n                position=\"bottom right\"\n                color=\"#455a64\"\n                tooltipHeader={tooltip_header ? tooltip_header : header_text}\n                popupSize=\"small\"\n                size=\"sm\"\n                tooltip={tooltip_text} />\n            </div>\n        )}\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Input } from \"semantic-ui-react\";\r\nimport { AppContext } from \"../../../../context\";\r\nimport { FilterType, PageState, State } from '../../../../types';\r\nimport { updateFilters } from \"../../../../utils/stateUpdateUtils\";\r\nimport Translate from \"../../../../utils/translate/translateService\";\r\nimport SectionHeader from \"../SectionHeader\";\r\nimport {enUS, fr} from 'date-fns/locale'\r\n\r\ninterface DatepickerProps {\r\n  page: string\r\n}\r\n\r\nexport default function Datepicker({ page }: DatepickerProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n  const [filterStartDate, filterEndDate] = Array.from(pageState.filters.publish_date);\r\n  const [startDate, setStartDate] = useState(filterStartDate);\r\n  const [endDate, setEndDate] = useState(filterEndDate);\r\n\r\n  useEffect(() => {\r\n    registerLocale(\"en\", enUS)\r\n    registerLocale(\"fr\", fr)\r\n  }, [])\r\n\r\n  const datePickerChanged = async (isStart: Boolean, date: Date) => {\r\n    const newDates = [startDate, endDate];\r\n    newDates[0] = isStart ? date : startDate;\r\n    newDates[1] = !isStart ? date : endDate;\r\n\r\n    if (isStart) {\r\n      setStartDate(date);\r\n    }\r\n    else {\r\n      setEndDate(date);\r\n    }\r\n    await updateFilters(dispatch,\r\n      pageState.filters,\r\n      \"publish_date\" as FilterType,\r\n      newDates,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const CustomInput = ({ value, onClick, text }: any) => (\r\n    <div className=\"col-12 p-0 flex column\">\r\n      <div>\r\n        {text}\r\n      </div>\r\n      <Input className=\"col-12 p-0 cursor\"\r\n        value={value}\r\n        iconPosition=\"left\"\r\n        icon=\"calendar\"\r\n        fluid={true}\r\n        type=\"text\"\r\n        placeholder='Select date..'\r\n        onClick={onClick} />\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-10 col align-items-center p-0\">\r\n        <div className=\"pb-1\">\r\n          <div>\r\n            <SectionHeader header_text={Translate('DateRange')} tooltip_text={Translate('DateRangeTooltip')} />\r\n          </div>\r\n          <div>\r\n            <DatePicker\r\n              dateFormat=\"yyyy/MM/dd\"\r\n              selected={startDate}\r\n              minDate={state.calendarStartDates.minDate}\r\n              maxDate={endDate}\r\n              customInput={<CustomInput value={startDate} text={Translate(\"StartDate\")} onClick={onclick} />}\r\n              closeOnScroll={true}\r\n              locale={state.language}\r\n              onChange={() => { }}\r\n              withPortal\r\n              showMonthDropdown\r\n              showYearDropdown\r\n              shouldCloseOnSelect={false}\r\n              dropdownMode=\"select\"\r\n              onSelect={(date: Date) => datePickerChanged(true, date)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <DatePicker\r\n            dateFormat=\"yyyy/MM/dd\"\r\n              className=\"col-12 p-0 date-picker\"\r\n              selected={endDate}\r\n              locale={state.language}\r\n              onSelect={(date: Date) => datePickerChanged(false, date)}\r\n              customInput={<CustomInput value={startDate} text={Translate(\"EndDate\")} onClick={onclick} />}\r\n              minDate={startDate}\r\n              maxDate={state.calendarStartDates.maxDate}\r\n              onChange={() => { }}\r\n              withPortal\r\n              showMonthDropdown\r\n              closeOnScroll={true}\r\n              shouldCloseOnSelect={false}\r\n              showYearDropdown\r\n              todayButton=\"Today\"\r\n              dropdownMode=\"select\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"pb-1\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { AppContext } from \"../../../context\";\r\nimport { FilterType, PageState, State } from '../../../types';\r\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\r\nimport { updateFilters } from \"../../../utils/stateUpdateUtils\";\r\nimport { toPascalCase } from \"../../../utils/translate/caseChanger\";\r\nimport Translate, { getCountryName } from \"../../../utils/translate/translateService\";\r\nimport InformationIcon from \"../../shared/InformationIcon\";\r\nimport SectionHeader from \"./SectionHeader\";\r\n\r\ninterface FilterProps {\r\n  page: string\r\n}\r\n\r\nexport default function Filters({ page }: FilterProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  const getFilters = (filter_type: FilterType): string[] => {\r\n    return Array.from(pageState.filters[filter_type]) as string[]\r\n  }\r\n\r\n  const formatOptions = (options: any, filter_type: FilterType) => {\r\n    if (!options) {\r\n      return\r\n    }\r\n    const formatted_options: Record<string, string>[] = [];\r\n    const optionString = toPascalCase(filter_type.toString());\r\n    const jsonObjectString = `${optionString}Options`;\r\n    switch (filter_type) {\r\n      case 'country':\r\n        options.forEach((o: string) => {\r\n          formatted_options.push({\r\n            key: o,\r\n            text: getCountryName(o, state.language, jsonObjectString),\r\n            value: o\r\n          })\r\n        });\r\n        break;\r\n      default:\r\n        options.forEach((o: string) => {\r\n          const translatedString = Translate(jsonObjectString, [toPascalCase(o)]);\r\n          const alternativeString = Translate(jsonObjectString, [o.replace(/ /g, '')]);\r\n          let text = !alternativeString && !translatedString ? o + \"*\" : (translatedString ? translatedString : alternativeString);\r\n          formatted_options.push({\r\n            key: o,\r\n            text: text,\r\n            value: o\r\n          })\r\n        });\r\n    };\r\n    return formatted_options;\r\n  }\r\n\r\n  const addFilter = async (data: any, filterType: FilterType) => {\r\n    dispatch({\r\n      type: 'UPDATE_FILTER',\r\n      payload: {\r\n        filterType,\r\n        filterValue: data.value,\r\n        pageStateEnum: page\r\n      }\r\n    });\r\n    await updateFilters(\r\n      dispatch,\r\n      pageState.filters,\r\n      filterType,\r\n      data.value,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const buildFilterDropdown = (filter_type: FilterType, placeholder: string) => {\r\n    return (\r\n      <div className=\"pb-3\">\r\n        <Dropdown\r\n          text={placeholder}\r\n          fluid\r\n          multiple\r\n          search\r\n          clearable\r\n          selection\r\n          options={formatOptions(state.allFilterOptions[filter_type], filter_type)}\r\n          onChange={async (e: any, data: any) => {\r\n            await addFilter(data, filter_type)\r\n            sendAnalyticsEvent({\r\n              /** Typically the object that was interacted with (e.g. 'Video') */\r\n              category: 'Filter',\r\n              /** The type of interaction (e.g. 'play') */\r\n              action: 'selection',\r\n              /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n              label: `${filter_type.toString()} - ${data.value}`\r\n              /** A numeric value associated with the event (e.g. 42) */\r\n            })\r\n          }}\r\n          defaultValue={getFilters(filter_type)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0\">\r\n      <div className=\"py-3 center flex\">\r\n        <div className=\"section-title\">\r\n          {Translate(\"Filter\").toUpperCase()}\r\n        </div>\r\n        <div className=\"tooltip-vert-adj\">\r\n          <InformationIcon\r\n            offset={10}\r\n            position=\"bottom right\"\r\n            color=\"#455a64\"\r\n            tooltipHeader={Translate(\"Filter\")}\r\n            popupSize=\"small\"\r\n            size=\"sm\"\r\n            tooltip={Translate('FilterTooltip')} />\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              {\r\n                <SectionHeader \r\n                  header_text={Translate('StudyInformation')} \r\n                  tooltip_text={\r\n                  <div>\r\n                    <p>{Translate('StudyInformationTooltip', ['FirstParagraph'])}</p>\r\n                    <p>{Translate('StudyInformationTooltip', ['SecondParagraph'])}</p>\r\n                  </div>\r\n                  }\r\n                />\r\n              }\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('source_type', Translate('SourceType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('overall_risk_of_bias', Translate('OverallRiskOfBias'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Demographics')} tooltip_text={Translate('DemographicsTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('population_group', Translate('PopulationGroup'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('sex', Translate('Sex'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('age', Translate('Age'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('TestInformation')} tooltip_text={Translate('TestInformationTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('test_type', Translate('TestType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('isotypes_reported', Translate('IsotypesReported'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('specimen_type', Translate('SpecimenType'))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../context\";\r\nimport \"./Legend.css\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport { MapSymbology } from \"components/map/MapConfig\"\r\n\r\nexport default function Legend() {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const handleLegendToggle = (e: React.MouseEvent<HTMLElement>) => {\r\n    const layerName: string = e.currentTarget.id;\r\n    switch (layerName) {\r\n      case \"National\": {\r\n        return dispatch({ type: \"TOGGLE_NATIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Regional\": {\r\n        return dispatch({ type: \"TOGGLE_REGIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Local\": {\r\n        return dispatch({ type: \"TOGGLE_LOCAL_PIN_LAYER\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex legend-container\" key={Math.random()}>\r\n      <div className=\"legend-item\" id=\"National\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.National.Color }}></i>\r\n        <label>{Translate(\"NationalStudies\")}</label>\r\n        <input className=\"ui checkbox\" type=\"checkbox\" checked={state.explore.legendLayers.National} readOnly />\r\n      </div>\r\n      <div className=\"legend-item\" id=\"Regional\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Regional.Color }}></i>\r\n        <label>{Translate(\"RegionalStudies\")}</label>\r\n        <input className=\"ui checkbox\" type=\"checkbox\" checked={state.explore.legendLayers.Regional} readOnly />\r\n      </div>\r\n      <div className=\"legend-item mb-1\" id=\"Local\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Local.Color }}></i>\r\n        <label>{Translate(\"LocalStudies\")}</label>\r\n        <input className=\"ui checkbox\" type=\"checkbox\" checked={state.explore.legendLayers.Local} readOnly />\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.HasData.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Default.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesNotExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Disputed.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"NotApplicable\")}</label>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { faBars, faFilter, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {  useState } from \"react\";\nimport { Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../types\";\nimport MapboxMap from \"components/map/MapboxMap\"\nimport AnalysisMethods from \"../sidebar/left-sidebar/AnalysisMethods\";\nimport TotalStats from \"../sidebar/left-sidebar/TotalStats\";\nimport Datepicker from \"../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../sidebar/right-sidebar/Filters\";\nimport Legend from \"components/map/Legend\";\nimport Translate from \"utils/translate/translateService\";\nimport WhoLogo from \"components/shared/WhoLogo\"\n\n\nexport default function ExploreMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n\n  const handleFilterToggle = (showMobile: boolean, showSummary: boolean) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n  }\n\n  return (\n    <div className=\"fill flex\">\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        {/* Filters */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n        <Filters page={PageStateEnum.explore}/>\n        <Datepicker page={PageStateEnum.explore}/>\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        {/* Left Sidebar */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <TotalStats page={PageStateEnum.explore}/>\n          <AnalysisMethods />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n            <a href=\"https://www.who.int/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\n          <WhoLogo className=\"d-block mx-auto\" height=\"50\"/>\n        </a>\n        <p className=\"d-block mx-3 mt-3\">\n          <small>\n          {Translate('WhoSerotrackAndPartnersDisclaimerSmall')}\n          </small>\n        </p>\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <div className=\"info flex legend center-item\">\n            <Legend/>\n          </div>\n          <MapboxMap />\n          {/* Icons */}\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 15 }}>\n            <FontAwesomeIcon\n              icon={faFilter}\n              onClick={() => handleFilterToggle(!showMobileFilters, false)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 58 }}>\n            <FontAwesomeIcon\n              icon={faBars}\n              onClick={() => handleFilterToggle(false, !showSummary)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport './shared.scss';\nimport Translate from \"../../utils/translate/translateService\";\n\ninterface MaintenanceModalProps {\n    isOpen: boolean,\n    headerText: string // specifies if analysis or explore page\n  }\n\nexport default function MaintenanceModal(props: MaintenanceModalProps) {\n\n    const { isOpen, headerText } = props;\n\n    return (\n        <Modal\n          className=\"maintenance-modal\"\n          closeOnEscape={false}\n          closeOnDimmerClick={false}\n          open={isOpen}\n        >\n          <Modal.Header>{Translate('TemporaryMaintenance')}</Modal.Header>\n          <Modal.Content>\n            <p>{Translate('TemporaryMaintenanceDescription')}</p>\n          </Modal.Content>\n        </Modal>\n    );\n}\n","import React from \"react\";\r\nimport AnalysisMethods from \"./AnalysisMethods\";\r\nimport Translate from \"utils/translate/translateService\";\r\nimport TotalStats from \"./TotalStats\";\r\nimport HealthAgencyLogo from 'assets/images/public-health-agency.png';\r\nimport UcalgaryLogo from 'assets/images/University-Of-Calgary-Logo.png';\r\nimport WhoLogo from \"components/shared/WhoLogo\"\r\nimport \"../sidebar.css\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function LeftSidebar({ page }: SideBarProps) {\r\n\r\n  const ExploreText = () => (\r\n    <div className=\"analysis-methods\">\r\n      <div className=\"section-title py-2 center\">\r\n        {Translate('Welcome').toUpperCase()}\r\n      </div>\r\n      <p>\r\n        {Translate('ExploreBlurb', ['FirstParagraph'])}\r\n      </p>\r\n      <p>\r\n        {Translate('ExploreBlurb', ['SecondParagraph'])}\r\n      </p>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"sidebar-container flex left-sidebar\">\r\n      <TotalStats page={page} />\r\n      {page === \"explore\" ? (\r\n        <ExploreText />\r\n      ) : (\r\n          <AnalysisMethods />\r\n        )\r\n      }\r\n      <div className=\"m-3\">\r\n        <a href=\"https://www.covid19immunitytaskforce.ca/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" className=\"d-block mx-auto\" alt=\"COVID-19 Immunity Task Force Logo\" height=\"30\"></img>\r\n        </a>\r\n        <a href=\"https://www.canada.ca/en/public-health.html/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={HealthAgencyLogo} className=\"d-block mx-auto\" alt=\"Public Health Agency Logo\" height=\"30\"></img>\r\n        </a>\r\n        <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={UcalgaryLogo} className=\"d-block mx-auto\" alt=\"Centre for Health Informatics\" height=\"30\"></img>\r\n        </a>\r\n        <a href=\"https://www.who.int/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <WhoLogo className=\"d-block mx-auto\" height=\"40\"/>\r\n        </a>\r\n        <p className=\"d-block mx-3 mt-3\">\r\n          <small>\r\n          {Translate('WhoSerotrackAndPartnersDisclaimerSmall')}\r\n          </small>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport \"../sidebar.css\";\r\nimport Datepicker from \"./datepicker/Datepicker\";\r\nimport Filters from \"./Filters\";\r\nimport \"./RightSidebar.css\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function RightSidebar({page}: SideBarProps) {\r\n  return (\r\n    <div className=\"justify-content-between fill sidebar-container right-sidebar\">\r\n      <div className=\"filters-container mb-3\">\r\n        <Filters page={page}/>\r\n        <Datepicker page={page}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React , { useContext, useEffect } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Loader } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { AppContext } from \"../../../context\";\nimport { PageStateEnum } from \"../../../types\";\nimport MapboxMap from '../../map/MapboxMap';\nimport MobileComponents from '../../mobile/ExploreMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport RightSidebar from \"../../sidebar/right-sidebar/RightSidebar\";\nimport Legend from \"components/map/Legend\";\n\nexport default function Explore() {\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n  const [state, dispatch] = useContext(AppContext)\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_EXPLORE_IS_OPEN\",\n      payload: true\n    })\n    return () => {\n      dispatch({\n        type: \"UPDATE_EXPLORE_IS_OPEN\",\n        payload: false\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <div className=\"fill flex dashboard\">\n        {!isMobileDeviceOrTablet ?\n          (<div className=\"fill flex\">\n            <div className=\"col-2 p-0 flex\">\n              <LeftSidebar page={PageStateEnum.explore} />\n            </div>\n            <div className=\"col-8 p-0 flex\">\n              <Loader indeterminate active={state.explore.isLoading}></Loader>\n              <div className=\"info flex legend center-item\">\n                <Legend/>\n              </div>\n              <MapboxMap/>\n            </div>\n            <div className=\"col-2 p-0 flex\">\n              <RightSidebar page={PageStateEnum.explore} />\n            </div>\n          </div>) :\n          (\n            <div className=\"fill flex\">\n              <MobileComponents />\n            </div>\n          )}\n      </div >\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Explore\"} />\n    </>\n  )\n}\n","import React, { useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Segment,\n  Button,\n  Accordion,\n  Icon,\n  AccordionTitleProps,\n} from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport Translate, {\n  TranslateObject,\n} from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\ninterface DropdownQuestion {\n  Question: string;\n  Answer: string | object;\n  Links?: { [index: string]: string };\n  LinkTexts?: { [index: string]: string };\n}\n\nconst clickLink = (link: string) => {\n  sendAnalyticsEvent({\n    category: \"Data Link Click\",\n    action: \"click\",\n    label: link,\n  });\n};\n\nfunction DataButtons() {\n  const buttonLabels = [\n    {\n      label: \"OurProtocol\",\n      link: \"https://docs.google.com/document/d/1NYpszkr-u__aZspFDFa_fa4VBzjAAAAxNxM1rZ1txWU/edit\",\n    },\n    {\n      label: \"DataDictionary\",\n      link: \"https://docs.google.com/spreadsheets/d/1KQbp5T9Cq_HnNpmBTWY1iKs6Etu1-qJcnhdJ5eyw7N8/edit?usp=sharing\",\n    },\n    {\n      label: \"ChangeLog\",\n      link: \"https://airtable.com/shrxpAlF6v0LeRYkA\",\n    },\n    {\n      label: \"DownloadCsv\",\n      link: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\",\n    },\n    {\n      label: \"SubmitASource\",\n      link: \"https://docs.google.com/forms/d/e/1FAIpQLSdvNJReektutfMT-5bOTjfnvaY_pMAy8mImpQBAW-3v7_B2Bg/viewform\",\n    },\n  ];\n  const buttons = buttonLabels.map((buttonLabel, index) => (\n    <Button key={index} color=\"blue\" size=\"large\" className=\"mb-2 mr-2\">\n      <a\n        onClick={() => clickLink(buttonLabel.label)}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        href={buttonLabel.link}\n      >\n        <p className=\"button-text\"> {Translate(buttonLabel.label)}</p>\n      </a>\n    </Button>\n  ));\n\n  return <div>{buttons}</div>;\n}\n\nfunction DataDropdowns() {\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const handleClick = (e: any, data: AccordionTitleProps) => {\n    const { index } = data;\n    const newIndex = activeIndex === index ? -1 : index;\n    setActiveIndex(newIndex as number);\n  };\n\n  const dropdownContent = Object.entries(\n    TranslateObject(\"DropdownQuestions\")\n  ).map((dropdownQuestion: [string, DropdownQuestion], index: number) => (\n    <Accordion key={index} fluid styled>\n      <Accordion.Title\n        active={activeIndex === index}\n        index={index}\n        onClick={handleClick}\n        className=\"accordion-title\"\n      >\n        <Icon name=\"dropdown\" /> {dropdownQuestion[1][\"Question\"]}\n      </Accordion.Title>\n      <Accordion.Content active={activeIndex === index}>\n        {dropdownQuestion[1][\"Links\"] ? (\n          <div>\n            {Object.entries(dropdownQuestion[1][\"Answer\"]).map(\n              (answer, index) => (\n                <p className=\"no-space\">\n                  {\" \"}\n                  {answer[1]}{\" \"}\n                  <a\n                    href={dropdownQuestion[1][\"Links\"]?.[`Link${index + 1}`]}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {dropdownQuestion[1][\"LinkTexts\"]?.[`LinkText${index + 1}`]}\n                  </a>\n                </p>\n              )\n            )}\n          </div>\n        ) : (\n          <p>{dropdownQuestion[1][\"Answer\"]}</p>\n        )}\n      </Accordion.Content>\n    </Accordion>\n  ));\n  return <div>{dropdownContent}</div>;\n}\n\nexport default function Data() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxDeviceWidth: mobileDeviceOrTabletWidth,\n  });\n\n  return (\n    <>\n      <div className=\"col-12 page\">\n        <div\n          className={\n            isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"\n          }\n        >\n          <h1 className={isMobileDeviceOrTablet ? \"pt-3\" : \"pt-0\"}>\n            {Translate(\"OurData\")}\n          </h1>\n          <p>{Translate(\"WhatWeDoText\", [\"FirstParagraph\"])}</p>\n          <p>{Translate(\"WhatWeDoText\", [\"SecondParagraph\"])}</p>\n          <br></br>\n          <DataButtons />\n          <br></br>\n          <DataDropdowns />\n          <br></br>\n          <h1 className=\"mb-0\">{Translate(\"ReferencesTable\")}</h1>\n        </div>\n        <div\n          className={\n            isMobileDeviceOrTablet\n              ? \"pb-3 pt-3 static-mobile\"\n              : \"pb-3 pt-3 static-content\"\n          }\n        >\n          <Segment>\n            <iframe\n              title=\"References Table\"\n              className=\"iframe-style\"\n              src={\n                isMobileDeviceOrTablet\n                  ? \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&layout=card&viewControls=on\"\n                  : \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&viewControls=on\"\n              }\n            ></iframe>\n          </Segment>\n        </div>\n\n        <div\n          className={isMobileDeviceOrTablet ? \"pb-5\" : \"static-content pb-5\"}\n        >\n          <div className=\"d-flex d-flex justify-content-center\">\n            <span>{Translate(\"UseOfData\", null, null, [false, true])}</span>\n            <Link className=\"px-1\" to=\"/TermsOfUse\">\n              {Translate(\"TermsOfUse\")}\n            </Link>\n          </div>\n        </div>\n      </div>\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Data\"} />\n    </>\n  );\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport { Card } from \"semantic-ui-react\";\r\n\r\nexport interface InsightsCardProps {\r\n  date: string,\r\n  titleKey1: string,\r\n  titleKey2: string[],\r\n  img?: string,\r\n  url: string,\r\n  italicize?: string\r\n}\r\n\r\nexport function InsightsCard(props: InsightsCardProps) {\r\n  return (\r\n    <div className=\"py-4 px-2\">\r\n      <Card className={props.img ? \"insights-card\" : \"insights-card-no-img\"}> \r\n        {props.img && (\r\n          <Card.Content>\r\n            <div className=\"flex center-item insights-card-image mb-2\">\r\n              <img src={props.img} alt=\"\" className=\"fit insights-card-image\"></img>\r\n              <a href={props.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"overlay flex\">\r\n                <div className=\"insights-card-image-overlay flex fill center-item column\">\r\n                  <div>{Translate('ViewFile')}</div>\r\n                  <div className=\"flex center-item\">\r\n                    <FontAwesomeIcon\r\n                      icon={faFile}\r\n                      className={'icon'}\r\n                      color={'white'}\r\n                      size={\"lg\"} />\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </Card.Content>\r\n        )}\r\n        <Card.Content>\r\n          <div className=\"insights-card-title pb-1\">\r\n            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"\">\r\n              {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\r\n            </a>\r\n          </div>\r\n          <div className=\"insights-card-date\">\r\n            {props.date}\r\n          </div>\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import YearInReview2020 from '../../../assets/images/YearInReview2020.png'\nimport October2020Update from '../../../assets/images/October2020Update.png';\nimport September2020Update from '../../../assets/images/September2020Update.png'\nimport MedRxivPub from '../../../assets/images/MedRXIV.jpg'\nimport July2020Update from '../../../assets/images/IndustryUpdateJuly_2020.png'\nimport June2020Update from '../../../assets/images/IndustryUpdateJune_2020.png'\nimport August2020Update from '../../../assets/images/August2020Update.png'\nimport May2020Update from '../../../assets/images/IndustryUpdateMay_2020.png'\nimport PreprintUpdate from '../../../assets/images/IndustryUpdatePre_2020.png'\nimport BloodBank from '../../../assets/images/SeroTrackerBloodBank_July_2020.png'\nimport MedRxiv from '../../../assets/images/Prepublication.png'\nimport LancetId from '../../../assets/images/LancetIDArticle.png'\n\nimport { InsightsCardProps } from \"./InsightsCard\";\n\nconst listOfReports: InsightsCardProps[] = [\n    {\n        date: \"January 15, 2021\",\n        img: YearInReview2020,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['YearInReview2020'],\n        url: \"https://drive.google.com/file/d/14u0GroEadFQ__Gdvoe104HI-y0LWDwSu/view?usp=sharing\",\n    },\n    {         \n        date: \"November 13, 2020\",\n        img: October2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['OctoberReport'],\n        url: \"https://drive.google.com/file/d/1aCgxzxv9J5Zvh4EVyI5REmSVgWLQ_Ip3/view?usp=sharing\"\n    },\n    {           \n        date: \"October 12, 2020\",\n        img: September2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['SeptemberReport'],\n        url: \"https://drive.google.com/file/d/1CjMcs7UZzu4_E_QFJVYZdv0QhyfoNMAe/view?usp=sharing\"\n    },\n    {           \n        date: \"September 9, 2020\",\n        img: August2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['AugustReport'],\n        url: \"https://drive.google.com/file/d/1m7BlfUKCYs32_D1jnFUEQHPr3Qjg5Eyt/view?usp=sharing\"\n    },\n    {           \n        date: \"August 7, 2020\",\n        img: July2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JulyReport'],\n        url: \"https://drive.google.com/file/d/1Rx3i_Sy01suu-ZZYV7LRpo2KEclbXCNN/view?usp=sharing\"\n    },\n    {           \n        date: \"July 22, 2020\",\n        img: BloodBank,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['BloodBank'],\n        url: \"https://drive.google.com/file/d/1It2CzAwEfTcQ1zIC6z2fO7i7XEfmWfom/view?usp=sharing\"\n    },\n    {           \n        date: \"July 12, 2020\",\n        img: June2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JuneReport'],\n        url: \"https://drive.google.com/file/d/1HO--VWYdyEqd5Dc3xcZBwERXWDBjCfxN/view\"\n    },\n    {           \n        date: \"June 10, 2020\",\n        img: May2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['MayReport'],\n        url: \"https://drive.google.com/file/d/16pCR-zh1UiWjQFhTDxW_2adSGuq0pCgz/view?usp=sharing\"\n    },\n    {           \n        date: \"May 19, 2020\",\n        img: PreprintUpdate,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['PreliminaryReport'],\n        url: \"https://drive.google.com/file/d/1I1gY1lZndwp4_eUqoZviU8L2_izmkmQP/view?usp=sharing\"\n    },\n]\n\nconst listOfResearchArticles: InsightsCardProps[] = [\n    {\n        date: \"November 18, 2020\",\n        img: MedRxivPub,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivPub'],\n        url: \"https://www.medrxiv.org/content/10.1101/2020.11.17.20233460v2\"\n    },\n    {           \n        date: \"August 4, 2020\",\n        img: LancetId,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['LancetID'],\n        url: \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n    },\n    {           \n        date: \"May 14, 2020\",\n        img: MedRxiv,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['PrePrint'],\n        url: \"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\"\n    },\n]\n\nconst listOfMediaInsightProps: InsightsCardProps[] = [\n    {\n        date: \"January 23, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleAnnounce'],\n        url: \"https://www.newswire.ca/news-releases/joule-announces-2020-innovation-grant-recipients-867798355.html\",\n    },\n    {\n        date: \"January 20, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['WhenEnd'],\n        url: \"https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/when-will-the-covid-19-pandemic-end\",\n    },\n    {\n        date: \"January 15, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleInnovation'],\n        url: \"https://joulecma.ca/innovate/grants/serotracker \",\n    },\n    {\n        date: \"January 14, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleRecipients'],\n        url: \"https://markets.businessinsider.com/amp/news/joule-announces-2020-innovation-grant-recipients-1029968953\",\n    },\n    {\n        date: \"January 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['McKinseyHealthcare'],\n        url: \"https://www.mckinsey.com/~/media/McKinsey/Industries/Healthcare%20Systems%20and%20Services/Our%20Insights/McKinsey%20on%20Healthcare%202020%20Year%20in%20Review/McKinsey-on-Healthcare-2020-Year-in-Review.pdf\",\n    },\n    {\n        date: \"November 24, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InfectionRate'],\n        url: \"https://taz.de/Studie-zu-globaler-Corona-Infektionsrate/!5730030/\",\n    },\n    {\n        date: \"November 23, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['AlumniAndStudents'],\n        url: \"https://cumming.ucalgary.ca/news/serotracker\",\n    },\n    {\n        date: \"November 10, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Webinar'],\n        url: \"http://www.himsschapter.org/event/serotracker-covid-19-journey-himss-canadian-prairies-chapter-webinar\",\n    },\n    {\n        date: \"August 17, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HomeTests'],\n        url: \"https://www.forbes.com/sites/williamhaseltine/2020/08/17/cheap-daily-home-tests-are-the-first-step-to-containing-the-pandemic/?sh=677d47d14ad4\",\n    },\n    {\n        date: \"August 3, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Lecturership'],\n        url: \"https://eng.ox.ac.uk/chi/news/adjunct-lecturership-for-rahul/\",\n    },\n    {\n        date: \"July 22, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HowMany'],\n        url: \"https://www.newscientist.com/article/mg24632873-000-how-many-of-us-are-likely-to-have-caught-the-coronavirus-so-far/\",\n    },\n    {\n        date: \"July 7, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['CovidRadar'],\n        url: \"https://m1newstv.com/subnotificacao-no-brasil-e-na-rocinha-e-a-media-mundial/\",\n    },\n    {\n        date: \"June 11, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['VeteranDoctor'],\n        url: \"https://www.marsdd.com/magazine/what-if-there-is-no-covid-19-vaccine/\",\n    },\n    {\n        date: \"June 2, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NewlyLaunched'],\n        url: \"https://publications.mcgill.ca/medenews/2020/06/16/newly-launched-serotracker-will-monitor-global-antibody-testing-efforts/\",\n    },\n    {\n        date: \"June 2, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StudentsBuild'],\n        url: \"https://uwaterloo.ca/stories/engineering-students/students-build-online-dashboard-track-covid-19-antibody\",\n    },\n    {\n        date: \"May 28, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['GlobalLaunch'],\n        url: \"https://www.covid19immunitytaskforce.ca/global-launch-of-serotracker-a-covid-19-antibody-testing-hub-in-partnership-with-canadas-covid-19-immunity-task-force/\",\n    },\n    {\n        date: \"May 24, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['KnowledgeHub'],\n        url: \"https://www.research.ox.ac.uk/Article/2020-05-28-knowledge-hub-developed-to-track-sars-cov-antibody-studies\",\n    },\n    {\n        date: \"May 23, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['UnderstandingVirus'],\n        url: \"https://www.bloomberg.com/news/articles/2020-05-06/understanding-the-virus-and-its-unanswered-questions-quicktake\",\n    }\n]\n\ninterface insightsInfoInterface {\n    media: InsightsCardProps[],\n    articles: InsightsCardProps[],\n    reports: InsightsCardProps[],\n}\n\nexport const insightsInfo: insightsInfoInterface = {\n    media: listOfMediaInsightProps,\n    articles: listOfResearchArticles,\n    reports: listOfReports\n}","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\r\nimport { InsightsCard } from \"./InsightsCard\";\r\nimport { insightsInfo } from \"./InsightsConstants\";\r\nimport './styles.scss';\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default function Insights() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page pb-6\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container\" : \"policy-container static-content\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('Insights')}\r\n        </h1>\r\n        <h3 className=\"normal\">\r\n          {Translate('ResearchArticles')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"articles\") }\r\n        <h3 className=\"normal\">\r\n          {Translate('Reports')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"reports\") }\r\n        <h3 className=\"normal\">\r\n          {Translate('Media')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"media\") }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst sliderSettings = {\r\n  dots: true,\r\n  infinite: true,\r\n  arrows: true,\r\n  speed: 500,\r\n  slidesToShow: 3,\r\n  slidesToScroll: 3,\r\n  responsive: [\r\n    {\r\n      breakpoint: 1048,\r\n      settings: {\r\n        slidesToShow: 2,\r\n        slidesToScroll: 2,\r\n        infinite: true,\r\n        dots: true\r\n      }\r\n    },\r\n    {\r\n      breakpoint: 480,\r\n      settings: {\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        infinite: true,\r\n        dots: true\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nexport type InsightsType = 'articles' | 'reports' | 'media';\r\n\r\nconst getCarouselOfInsightCards = (type: InsightsType) => {\r\n  return (\r\n    <div className=\"slider-container\">\r\n      <Slider \r\n        {...sliderSettings}\r\n      >\r\n          {\r\n            insightsInfo[type].map((insightProps, idx) => {\r\n              return <InsightsCard\r\n                date={insightProps.date}\r\n                img={insightProps.img}\r\n                titleKey1={insightProps.titleKey1}\r\n                titleKey2={insightProps.titleKey2}\r\n                url={insightProps.url} />\r\n              })\r\n          }\r\n      </Slider>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function PrivacyPolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page fill\">\r\n      <div className={isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"}>\r\n        <iframe title=\"PrivacyPolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/796fdf5d-ba75-4a21-9e54-4360f4fc9ccc\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function TermsOfUse() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page fill terms pb-2\">\r\n      <div className={isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"}>\r\n        <h1 className=\"col-12 p-0\">\r\n          {Translate('TermsOfUse')}\r\n        </h1>\r\n        <div className=\"col-12 p-0\">\r\n          <p>{Translate('WhoSerotrackAndPartnersDisclaimer1')}</p>\r\n          <p>{Translate('WhoSerotrackAndPartnersDisclaimer2')}</p>\r\n          <p>{Translate('WhoSerotrackAndPartnersDisclaimer3')}</p>\r\n        </div>\r\n\r\n        <h3 className=\"col-12 p-0\">\r\n          {Translate('DisclaimerListHeader')}\r\n        </h3>\r\n        <ol>\r\n          <li>\r\n            {Translate('DisclaimerList1')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList2')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList3')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList4')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList5')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList6')}\r\n          </li>\r\n        </ol>\r\n        <div>\r\n          {Translate('DisclaimerFooter')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { AppContext } from '../../context'\r\nimport Translate from '../../utils/translate/translateService'\r\nimport { withLocaleUrl } from '../../utils/utils'\r\nimport \"./shared.scss\"\r\n\r\nexport const CookieBanner = () => {\r\n  const [state, dispatch] = useContext(AppContext)\r\n\r\n  const acceptCookes = () => {\r\n    localStorage.setItem('acceptedCookies', 'true');\r\n    dispatch({ type: 'CLOSE_COOKIE_BANNER' })\r\n  }\r\n\r\n  if (!localStorage.getItem('acceptedCookies') && !state.showCookieBanner) {\r\n    dispatch({ type: 'OPEN_COOKIE_BANNER' })\r\n  }\r\n\r\n  return (\r\n    state.showCookieBanner ?\r\n      <div className=\"cookie-banner flex\">\r\n        <div className=\"fill flex center-item\">\r\n          <div className=\"col-md-6 p-3 flex column\">\r\n            <div>\r\n              {Translate('CookiePolicyBody', null, null, [false, true])}\r\n              <Link to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\r\n            </div>\r\n            <div className=\"flex right\">\r\n              <Button color=\"blue\" onClick={acceptCookes}>{Translate('Accept')}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : null\r\n  )\r\n}","import { faFileAlt, faGlobeAmericas, faUsers, faTable, faChartBar } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport MultiColorIcon from '../../assets/images/colored-icon.svg'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport { AppContext } from '../../context'\nimport { LanguageType } from '../../types'\nimport Translate from '../../utils/translate/translateService'\nimport { withLocaleUrl } from '../../utils/utils'\n\n\nexport const NavBar = () => {\n  const [tab, setTab] = useState(\"\");\n  const [state, dispatch] = useContext(AppContext);\n\n  const getTabClass = (tabName: string) => {\n    const style = tabName === tab ? 'bold col-auto h-100 flex center-item' : 'regular col-auto h-100 flex center-item';\n    return isMobileDeviceOrTablet ? style.concat(\" px-1\") : style;\n  }\n\n  const usePageViews = () => {\n    let location = useLocation();\n    useEffect(() => {\n      setTab(location.pathname)\n    }, [location]);\n  }\n\n  const history = useHistory();\n\n  const changeLanguages = () => {\n    let url = history.location.pathname;\n    if (state.language === LanguageType.english) {\n      url = url.replace(\"/en/\", \"/fr/\")\n    }\n    else {\n      url = url.replace(\"/fr/\", \"/en/\")\n    }\n    dispatch(\n      {\n        type: \"SELECT_LANGUAGE\",\n        payload: state.language === LanguageType.english ? LanguageType.french : LanguageType.english\n      })\n\n    history.push(url)\n  }\n\n  usePageViews()\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n  return (\n    <header className=\"App-header col-12 px-sm-2\">\n      <div className=\"App-title col-auto py-3 px-0 flex left\">\n        <Link to={withLocaleUrl(\"Explore\")} className=\"flex\">\n          <img src={MultiColorIcon} width={23} height={23} alt=\"\" />\n          {!isMobileDeviceOrTablet && (<div className=\"col-auto px-2\" >SeroTracker</div>)}\n        </Link>\n      </div>\n      <div className={`App-tabs col-auto space-evenly p-0 ${isMobileDeviceOrTablet ? 'fill' : ''}`}>\n        <div className={getTabClass('/Explore')}>\n          <Link to={withLocaleUrl(\"Explore\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faGlobeAmericas} size=\"lg\" /> :\n              Translate('Explore')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Analyze')}>\n          <Link to={withLocaleUrl(\"Analyze\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faChartBar} size=\"lg\" /> :\n              Translate('Analyze')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Data')}>\n          <Link to={withLocaleUrl(\"Data\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faTable} size=\"lg\" /> :\n              Translate('Data')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Insights')}>\n          <Link to={withLocaleUrl(\"Insights\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faFileAlt} size=\"lg\" /> :\n              Translate('Insights')}\n          </Link>\n        </div>\n        <div className={getTabClass('/About')}>\n          <Link to={withLocaleUrl(\"About\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faUsers} size=\"lg\" /> :\n              Translate('About')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Language') + \" cursor\"} onClick={() => changeLanguages()}>\n          <div>\n            {state.language === LanguageType.english ?\n              (isMobileDeviceOrTablet ? \"Fr\" : \"Français\") :\n              (isMobileDeviceOrTablet ? \"En\" : \"English\")}\n          </div>\n        </div>\n      </div>\n    </header >\n  )\n}","import React, { useContext, } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link } from 'react-router-dom'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport Translate from '../../utils/translate/translateService'\nimport { AppContext } from \"../../context\"\nimport { withLocaleUrl } from \"../../utils/utils\";\n\nexport const Footer = () => {\n  const [{updatedAt}] = useContext(AppContext);\n\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n\n  const lancetId = \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n\n  return (\n    <header className={isMobileDeviceOrTablet ? \"App-footer-mob col-12 px-2\" : \"App-footer col-12 px-2\"}>\n        <div className={isMobileDeviceOrTablet ? \"App-footer-item middle-item px-2 py-1\" : \"App-footer-item left-item px-2\"}>\n            <div>\n              <span>{Translate(\"Footer\", [\"LastUpdated\"])}: </span>\n              <span className=\"updated-date-string\">{updatedAt}</span>\n            </div>\n        </div>\n        <div className={isMobileDeviceOrTablet ? \"App-footer-item middle-item px-2 py-1\" : \"App-footer-item left-item px-2\"}>\n            <Link className=\"p-1 footer-link\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>  |\n            <Link className=\"p-1 footer-link\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>  |\n            <Link className=\"p-1 footer-link\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\n        </div>\n        <div className={isMobileDeviceOrTablet ? \"App-footer-item middle-item px-2 py-1\" : \"App-footer-item right-item px-2\"}>\n            <div>\n              <span>{Translate(\"Footer\", [\"CiteAs\"])}</span> \n              <a href={lancetId} target=\"__blank\" rel=\"noopener noreferrer\" className=\"cite-link\">\n                <span className=\"italics\">{Translate(\"Footer\", [\"LancetInfDis\"])}</span> {Translate(\"Footer\", [\"Article\"])}\n              </a> \n            </div>\n        </div>\n    </header>\n  )\n}","import React, { useContext } from \"react\";\n// @ts-ignore\n// The tableau JS API does not have good typescript support\nimport TableauReport from 'tableau-react-embed';\nimport '../pages/static.css';\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { LanguageType } from \"../../types\";\nimport { AppContext } from \"../../context\";\n\ninterface TableauEmbedProps {\n    url: { [key in LanguageType]?: string },\n    mobileOptions?: Record<string, string>,\n    desktopOptions?: Record<string, string>\n}\n\nexport default function TableauEmbed(props: TableauEmbedProps) {\n    const [{ language }, dispatch] = useContext(AppContext);\n\n    // All other vizCreate options are supported here, too\n    // They are listed here: \n    // https://onlinehelp.tableau.com/current/api/js_api/en-us/JavaScriptAPI/js_api_ref.htm#ref_head_9\n    // const options = {\n    //     width: \"100%\",\n    //     height: \"100%\"\n    // }\n\n    const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth });\n    let options = {}\n    if(isMobileDeviceOrTablet){\n        options = props.mobileOptions ? props.mobileOptions : {}\n    }\n    else{\n        options = props.desktopOptions ? props.desktopOptions : {}\n    }\n\n    return (\n        <>\n            <div className=\"col-12 page pb-5 pt-5\">\n                <TableauReport\n                    url={language in props.url ? props.url[language] : props.url[\"en\"]}\n                    options={options} \n                />\n            </div>\n        </>\n    )\n}","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport './App.css';\nimport About from './components/pages/About';\nimport NotFoundPage from './components/pages/NotFoundPage';\nimport CookiePolicy from \"./components/pages/CookiePolicy\";\nimport Explore from \"./components/pages/Dashboard/Explore\";\nimport Data from './components/pages/Data';\nimport Insights from \"./components/pages/insights/Insights\";\nimport PrivacyPolicy from './components/pages/PrivacyPolicy';\nimport TermsOfUse from \"./components/pages/TermsOfUse\";\nimport { CookieBanner } from \"./components/shared/CookieBanner\";\nimport { NavBar } from \"./components/shared/NavBar\";\nimport { Footer } from \"./components/shared/Footer\";\nimport TableauEmbed from \"./components/shared/TableauEmbed\";\nimport { AppContext } from \"./context\";\nimport httpClient from \"./httpClient\";\nimport { LanguageType, PageStateEnum } from \"./types\";\nimport { initializeData } from \"./utils/stateUpdateUtils\";\nimport { setLanguageType } from \"./utils/translate/translateService\";\nimport { ANALYZE_URLS, CANADA_URLS } from \"./constants\";\n\nfunction App() {\n  const [{ language, explore }, dispatch] = useContext(AppContext);\n  setLanguageType(language);\n\n  // General call that happens once at the start of everything.\n  useEffect(() => {\n    const api = new httpClient()\n    initializeData(dispatch, explore.filters, true, PageStateEnum.explore)\n    const allFilterOptions = async () => {\n      const { options, updatedAt, maxDate, minDate } = await api.getAllFilterOptions();\n      dispatch({\n        type: 'GET_ALL_FILTER_OPTIONS',\n        payload: options\n      })\n\n      dispatch({\n        type: \"UPDATED_AT\",\n        payload: updatedAt\n      })\n\n      dispatch({\n        type: \"MAX_MIN_DATES\",\n        payload: { maxDate, minDate }\n      })\n    }\n\n    allFilterOptions();\n    // We only want this to run once so we pass no dependencies. Do not remove this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // pulls from ISO api to get standardized country names, codes and translations\n  useEffect(() => {\n    const updateCountriesJson = async () => {\n      const api = new httpClient()\n      const countriesJson = await api.httpGet(\"https://restcountries.eu/rest/v2/\", false);\n      dispatch({\n        type: 'UPDATE_COUNTRIES_JSON',\n        payload: countriesJson\n      });\n    }\n    updateCountriesJson();\n  }, [dispatch])\n\n  // Cookie managing\n  useEffect(() => {\n    const alreadyAcceptedCookes = localStorage.getItem('acceptedCookies');\n    if (alreadyAcceptedCookes) {\n      dispatch({\n        type: 'ACCEPT_COOKIES'\n      });\n    }\n    const handleResize = () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n    window.addEventListener('resize', handleResize)\n\n    handleResize();\n  }, [dispatch])\n\n  const listenForUrlLanguage = (pathname: string) => {\n    if (pathname.includes(\"/en/\") && language !== LanguageType.english) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.english\n      })\n    }\n    else if (pathname.includes(\"/fr/\") && language !== LanguageType.french) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.french\n      })\n    }\n  }\n\n  const history = useHistory()\n  listenForUrlLanguage(history.location.pathname);\n\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <CookieBanner />\n      <Switch>\n        <Route path=\"/:language/About\">\n          <About />\n        </Route>\n        <Route path=\"/:language/Explore\">\n          <Explore />\n        </Route>\n        <Route path=\"/:language/Dashboard\">\n          <Redirect to=\"/:language/Explore\" />\n        </Route>\n        <Route path=\"/:language/Analyze\">\n          <TableauEmbed\n            url={ANALYZE_URLS}\n            key={`AnalyzeTableau${language}`}\n            desktopOptions={{\n              width: \"80vw\",\n              height: \"3200px\"\n            }}\n            mobileOptions={{\n              width: \"90vw\",\n              height: \"2900px\"\n            }}\n          />\n        </Route>\n        <Route path=\"/:language/Canada\">\n          <TableauEmbed\n            url={CANADA_URLS}\n            key={`CanadianTableau${language}`}\n            desktopOptions={{\n              width: \"80vw\",\n              height: \"4100px\"\n            }}\n            mobileOptions={{\n              width: \"90vw\",\n              height: \"2800px\"\n            }}\n          />\n        </Route>\n        <Route path=\"/:language/Data\">\n          <Data />\n        </Route>\n        <Route path=\"/:language/PrivacyPolicy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/:language/CookiePolicy\">\n          <CookiePolicy />\n        </Route>\n        <Route path=\"/:language/TermsOfUse\">\n          <TermsOfUse />\n        </Route>\n        <Route path=\"/:language/Insights\">\n          <Insights />\n        </Route>\n        <Redirect exact from=\"/\" to={`/${language}/Explore`} />\n        {language && [\"About\", \"Explore\", \"Analyze\", \"Data\", \"PrivacyPolicy\", \"CookiePolicy\", \"TermsOfUse\", \"Insights\", \"Canada\"].map(route =>\n          <Redirect from={`/${route}`} to={`${language}/${route}`}></Redirect>)}\n        <Route>\n          <NotFoundPage/>\n        </Route>\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { AppContextProvider } from './context'\nimport {Router} from 'react-router-dom';\nimport GAListener from \"./utils/analyticsUtils\";\nimport {createBrowserHistory} from 'history';\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <GAListener trackingId={process.env.REACT_APP_GA_TRACKERID}>\n        <AppContextProvider>\n          <App />\n        </AppContextProvider>\n      </GAListener>\n    </Router>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}