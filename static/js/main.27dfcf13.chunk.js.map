{"version":3,"sources":["assets/images/public-health-agency.png","assets/images/University-Of-Calgary-Logo.png","assets/icons/national_pin.png","assets/icons/regional_pin.png","assets/icons/local_pin.png","assets/images/October2020Update.png","assets/images/September2020Update.png","assets/images/MedRXIV.jpg","assets/images/IndustryUpdateJuly_2020.png","assets/images/IndustryUpdateJune_2020.png","assets/images/August2020Update.png","assets/images/IndustryUpdateMay_2020.png","assets/images/IndustryUpdatePre_2020.png","assets/images/SeroTrackerBloodBank_July_2020.png","assets/images/Prepublication.png","assets/images/LancetIDArticle.png","assets/images/colored-icon.svg","types.ts","constants.ts","utils/translate/translateService.ts","utils/analyticsUtils.tsx","components/pages/About.tsx","components/pages/CookiePolicy.tsx","context.tsx","utils/utils.tsx","httpClient.ts","components/shared/InformationIcon.tsx","components/charts/StudyDetailsModal.tsx","components/charts/ReferencesSearch.tsx","components/shared/StudiesTable.tsx","components/charts/ReferencesTable.tsx","components/charts/Charts.tsx","components/shared/InformationText.tsx","components/sidebar/left-sidebar/AnalysisMethods.tsx","components/sidebar/left-sidebar/TotalStats.tsx","utils/stateUpdateUtils.tsx","components/sidebar/right-sidebar/SectionHeader.tsx","components/sidebar/right-sidebar/datepicker/Datepicker.tsx","utils/translate/caseChanger.ts","utils/mapUtils.tsx","components/sidebar/right-sidebar/Filters.tsx","components/sidebar/right-sidebar/LastUpdated.tsx","components/mobile/AnalyzeMobile.tsx","components/shared/MaintenanceModal.tsx","components/sidebar/left-sidebar/LeftSidebar.tsx","components/sidebar/right-sidebar/RightSidebar.tsx","components/pages/Dashboard/Analyze.tsx","components/map/Legend.tsx","components/map/MapStyle.js","components/map/VectorTileLayer.js","components/map/CountriesTileLayer.js","components/map/Map.tsx","components/mobile/ExploreMobile.tsx","components/pages/Dashboard/Explore.tsx","components/pages/Data.tsx","components/pages/insights/InsightsCard.tsx","components/pages/insights/Insights.tsx","components/pages/PrivacyPolicy.tsx","components/pages/TermsOfUse.tsx","components/shared/CookieBanner.tsx","components/shared/NavBar.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","LanguageType","PageStateEnum","AggregationFactor","mapZIndex","recursiveFind","object","keys","index","nextObj","length","language","english","Translate","text","specifier","substitution","addSpaces","translationDictionary","English","French","translatedString","Object","forEach","key","value","replace","RegExp","e","sendPageView","location","ReactGA","set","page","pathname","pageview","sendAnalyticsEvent","props","GAListener","children","trackingId","history","useHistory","useEffect","initialize","titleCase","debug","process","gaOptions","cookieDomain","listen","About","isMobileDeviceOrTablet","useMediaQuery","maxWidth","selectItem","label","name","selectLink","link","renderBioBlock","description","linkedIn","email","twitter","map","line","href","onClick","target","rel","icon","faLinkedin","className","faTwitter","faEnvelope","src","alt","height","HealthAgencyLogo","UcalgaryLogo","toLowerCase","CookiePolicy","maxDeviceWidth","script","document","createElement","body","appendChild","removeChild","title","AppContext","createContext","getEmptyFilters","source_type","Set","test_type","country","population_group","sex","age","overall_risk_of_bias","isotypes_reported","specimen_type","publish_date","Date","estimate_grade","initialState","healthcheck","chartAggregationFactor","explore","filters","records","estimateGradePrevalences","metaAnalyzedRecords","isLoading","analyze","allFilterOptions","dataPageState","exploreIsOpen","showStudiesModal","routingOccurred","calendarStartDates","minDate","maxDate","updatedAt","showCookieBanner","showAnalyzePopup","countries","showEstimatePins","reducer","state","action","type","payload","pageStateEnum","newState","filterType","filterValue","AppContextProvider","useReducer","dispatch","Provider","formatDates","dates","endDate","formatISO","startDate","add","years","dateList","Array","from","getPossibleNullString","nullString","undefined","getPossibleNullDateString","format","parseISO","getPossibleNullStringArray","join","getGeography","city","httpClient","url","useAppRoute","url_full","fetch","res","status","error_msg","json","console","error","response_json","data","method","headers","JSON","stringify","this","httpGet","k","response","options","updated_at","max_date","min_date","only_explore_columns","sorting_key","reverse","reqBodyFilters","o","filter","explore_columns","all_columns","slice","date","reqBody","start_date","end_date","per_page","page_index","columns","httpPost","filtered_records","item","approving_regulator","denominator","denominator_value","first_author","lead_org","pin_latitude","pin_longitude","pin_region_type","sampling_end_date","sampling_start_date","seroprevalence","serum_pos_prevalence","source_name","isArray","study_type","formattedResponse","record","estimateSummary","seroprevalence_estimate_summary","numberOfStudies","n_estimates","testsAdministered","n_tests_administered","geographicalName","alpha3Code","country_iso3","localEstimate","maxEstimate","Local","max_estimate","minEstimate","min_estimate","numEstimates","nationalEstimate","National","regionalEstimate","Regional","sublocalEstimate","Sublocal","aggregation_variable","meta_analysis_technique","meta_analysis_transformation","formatted_response","error_percent","n","total_N","numStudies","n_studies","seroprevalence_percent","InformationIcon","color","size","tooltip","tooltipHeader","offset","position","popupSize","Popup","Math","random","onOpen","popperModifiers","preventOverflow","boundariesElement","trigger","faInfoCircle","Header","Content","StudyDetailsModal","useState","open","setOpen","publisher","summary","risk_of_bias","sampling_method","sensitivity","specificity","manufacturer","Modal","centered","closeOnEscape","closeOnDimmerClick","onClose","style","marginTop","marginLeft","marginRight","top","left","Button","padding","faTimes","Description","toUpperCase","getAuthorString","getPublishString","toFixed","loading","results","searchReducer","query","selection","Error","resultRenderer","Fragment","ReferenceSearch","source","onSearchResultChange","React","timeoutRef","useRef","handleSearchChange","useCallback","clearTimeout","current","setTimeout","re","_","escapeRegExp","searchResults","result","test","suggestedResults","Search","onResultSelect","onSearchChange","StudiesTable","activePage","setActivePage","boundaryRange","siblingRange","totalPages","setTotalPages","pageLength","setPageLength","column","setColumn","direction","setDirection","setData","setSearchResults","isMobileDevice","newData","dataRecords","splicedData","orderBy","splice","ceil","pageLengthOptions","buildHeaderCell","sortColumn","displayName","Table","HeaderCell","sorted","clickedColumn","celled","sortable","fixed","striped","Row","smallView","Body","Cell","displayAge","getPopulation","showAllStudies","Footer","Pagination","onPageChange","event","Dropdown","inline","defaultValue","onChange","faDownload","ReferencesTable","useContext","pageState","setPageState","Charts","showModal","toggleModal","yAxisOptions","a","api","postMetaAnalysis","reAggregatedRecords","sortBy","updateCharts","CustomTooltip","active","lower","upper","closeModal","MobileInfoModal","closeIcon","right","placeholder","fluid","width","layout","barGap","strokeDasharray","dataKey","interval","chartData","longestWord","getYAxisWidth","content","isAnimationActive","fill","maxBarSize","barSize","x","y","recordError","errorBarWidth","textAnchor","dominantBaseline","strokeWidth","InformationText","AnalysisMethods","TotalStats","setNumCountries","setNumStudies","setN","reduce","b","updateCountryPrevalence","updateFilters","aggregationFactor","updatedFilters","assign","Promise","all","getAirtableRecords","getEstimateGrades","resolve","initializeData","SectionHeader","header_text","tooltip_text","tooltip_header","Datepicker","filterStartDate","filterEndDate","setStartDate","setEndDate","datePickerChanged","isStart","newDates","CustomInput","Input","iconPosition","selected","customInput","onclick","closeOnScroll","withPortal","showMonthDropdown","showYearDropdown","shouldCloseOnSelect","dropdownMode","onSelect","todayButton","toPascalCase","str","upperFirst","camelCase","getLogit","percentage","decimal","log","getDecimalFromLogit","logit","exp","colors","Countries","getCountryName","optionString","code","translatedCountryName","createAltPopup","properties","regions","addRegion","r","push","lastIndex","i","isLastSection","minString","maxString","regionString","createPopupGeographySection","Filters","getFilters","filter_type","formatOptions","formatted_options","toString","jsonObjectString","alternativeString","addFilter","buildFilterDropdown","multiple","search","clearable","LastUpdated","AnalyzeMobile","showMobileFilters","setShowFilters","showSummary","setShowSummary","handleFilterToggle","showMobile","Sidebar","Pushable","as","Segment","Menu","animation","vertical","visible","fontWeight","zIndex","Pusher","faFilter","faBars","MaintenanceModal","isOpen","headerText","LeftSidebar","ExploreText","RightSidebar","to","Analyze","Loader","indeterminate","Legend","checked","NationalPinIcon","RegionalPinIcon","LocalPinIcon","background","layerStyle","Land","weight","fillColor","opacity","Ocean","DISPUTED_BORDERS","dashArray","DISPUTED_AREAS","Default","highlightStyles","fillOpacity","parseApiStyle","vectorTileLayerStyles","layers","layer","layerName","paint","VectorTileLayer","fetchApiStyle","front","useMap","mappingStyle","apiStyle","merge","L","vectorGrid","protobuf","rendererFactory","canvas","tile","attribution","addTo","bringToFront","toggleCountrySelection","highlightStyle","_overriddenStyles","CODE","setFeatureStyle","CountriesTileLayer","mapRecords","setLayer","vectorGridLayer","svg","interactive","minZoom","minNativeZoom","getFeatureId","feature","element","resetFeatureStyle","on","mouseover","pop","getPopup","openPopup","latlng","find","sourceTarget","setContent","ReactDOMServer","renderToString","mouseout","closePopup","mousemove","setLatLng","bindPopup","closeButton","autoPan","Map","setMapRecords","buckets","features","maxSeroprevalence","max","apply","roundedMax","step","logitStep","parseFloat","getBuckets","countriesData","countryEstimate","bounds","latLngBounds","maxBounds","nationalMarker","iconUrl","require","iconSize","iconAnchor","popupAnchor","regionalMarker","localMarker","MapContainer","center","getCenter","zoom","bounceAtZoomLimits","maxBoundsViscosity","TileLayer","ref","tl","tileSize","id","zoomOffset","idx","Marker","eventHandlers","click","autoClose","ExploreMobile","Explore","Data","allRecords","setAllRecords","getAllRecords","clickLink","toLocaleLowerCase","InsightsCard","identifier","img","faFile","italicize","Insights","MedRxivPub","October2020Update","September2020Update","August2020Update","July2020Update","LancetId","BloodBank","June2020Update","May2020Update","PreprintUpdate","MedRxiv","PrivacyPolicy","TermsOfUse","CookieBanner","localStorage","getItem","setItem","NavBar","tab","setTab","getTabClass","tabName","concat","useLocation","usePageViews","MultiColorIcon","faGlobeAmericas","faChartBar","faTable","faFileAlt","faUsers","App","getAllFilterOptions","countriesJson","updateCountriesJson","handleResize","vh","window","innerHeight","documentElement","setProperty","addEventListener","path","exact","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.27dfcf13.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/University-Of-Calgary-Logo.dfd2aa50.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/October2020Update.ca751a5c.png\";","module.exports = __webpack_public_path__ + \"static/media/September2020Update.dc9d0a68.png\";","module.exports = __webpack_public_path__ + \"static/media/MedRXIV.a3f4e9f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJuly_2020.53e6e269.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJune_2020.2cac3c48.png\";","module.exports = __webpack_public_path__ + \"static/media/August2020Update.b2394ac4.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateMay_2020.4021b423.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdatePre_2020.a93736ac.png\";","module.exports = __webpack_public_path__ + \"static/media/SeroTrackerBloodBank_July_2020.669b184d.png\";","module.exports = __webpack_public_path__ + \"static/media/Prepublication.0b43b193.png\";","module.exports = __webpack_public_path__ + \"static/media/LancetIDArticle.9c54a7db.png\";","module.exports = __webpack_public_path__ + \"static/media/colored-icon.ab2ccbe8.svg\";","\nexport type AirtableRecord = {\n    source_name: string | null,\n    lead_org?: string | null,\n    first_author?: string | null,\n    source_type: string | null,\n    test_type: string[] | null,\n    specimen_type: string[] | null,\n    isotypes_reported: string[] | null,\n    manufacturer?: string | null,\n    approving_regulator?: string | null,\n    sensitivity?: number | null,\n    specificity?: number | null,\n    country: string | null,\n    state?: string[] | null,\n    city?: string[] | null,\n    population_group: string | null,\n    sex: string | null,\n    age: string | null,\n    denominator: number | null,\n    seroprevalence: number | null,\n    publish_date?: string[] | string | null,\n    publisher?: string | null,\n    overall_risk_of_bias: string | null,\n    pin_latitude: number,\n    pin_longitude: number,\n    pin_region_type: string | null,\n    study_type?: string | null,\n    sampling_method?: string | null,\n    sampling_start_date?: string | null,\n    sampling_end_date?: string | null,\n    summary?: string | null,\n    url?: string | null,\n    estimate_grade: string | null\n};\n\nexport type AggregatedRecord = {\n    error: number[];\n    n: number;\n    name: string;\n    numStudies: number;\n    seroprevalence: number;\n}\n\n// Each filter will be a javascript set\n// TODO: find typing to represent sets\nexport type Filters = {\n    source_type: any,\n    test_type: any,\n    country: any,\n    population_group: any,\n    sex: any,\n    age: any,\n    overall_risk_of_bias: any,\n    isotypes_reported: any,\n    specimen_type: any\n    publish_date: any,\n    estimate_grade: any,\n};\n\nexport type FilterType = 'country' | 'population_group' | 'sex' | 'age' | 'test_type' | 'source_type' | 'overall_risk_of_bias' | 'isotypes_reported' | 'specimen_type' | 'estimate_grade';\n\nexport enum LanguageType {\n    french = 'fr',\n    english = 'en'\n}\n\nexport enum PageStateEnum {\n    analyze = \"analyze\",\n    explore = \"explore\"\n}\n\nexport type State = {\n    healthcheck: string,\n    chartAggregationFactor: AggregationFactor,\n    explore: PageState,\n    analyze: PageState,\n    allFilterOptions: Filters,\n    updatedAt: string,\n    calendarStartDates: StartDates,\n    dataPageState: DataPageState,\n    language: LanguageType,\n    showCookieBanner: boolean,\n    showAnalyzePopup: boolean,\n    countries: any\n    showEstimatePins: boolean\n};\n\nexport type StartDates = {\n    minDate: Date,\n    maxDate: Date\n}\n\nexport type PageState = {\n    filters: Filters,\n    metaAnalyzedRecords: AggregatedRecord[],\n    records: AirtableRecord[],\n    isLoading: boolean,\n    estimateGradePrevalences: EstimateGradePrevalence[]\n}\n\nexport type EstimateGradePrevalence = {\n    testsAdministered: number;\n    geographicalName: string;\n    alpha3Code: string;\n    numberOfStudies: number;\n    localEstimate?: RegionalPrevalenceEstimate,\n    nationalEstimate?: RegionalPrevalenceEstimate,\n    regionalEstimate?: RegionalPrevalenceEstimate,\n    sublocalEstimate?: RegionalPrevalenceEstimate\n}\n\nexport type RegionalPrevalenceEstimate = {\n    maxEstimate: number;\n    minEstimate: number;\n    numEstimates: number;\n}\n\nexport enum AggregationFactor {\n    country = 'country',\n    population_group = 'population_group',\n    sex = 'sex',\n    age = 'age',\n    test_type = 'test_type',\n    source_type = 'source_type',\n    overall_risk_of_bias = 'overall_risk_of_bias',\n    isotypes_reported = 'isotypes_reported',\n}\n\nexport type DataPageState = {\n    exploreIsOpen: boolean,\n    showStudiesModal: false,\n    routingOccurred: boolean\n}\n\nexport type CustomMatcherResult = {\n    pass: boolean\n    message: string\n}\n\nexport type PostRecordsBody = {\n    filters: {\n        country: String[],\n        source_type: String[],\n        source_name: String[],\n        overall_risk_of_bias: String[],\n        population_group: String[],\n        age: String[],\n        sex: String[],\n        test_type: String[],\n        isotypes_reported: String[],\n        specimen_type: String[],\n        estimate_grade: String[]\n    },\n    start_date: Date | null,\n    end_date: Date | null,\n    sorting_key: String,\n    reverse: Boolean,\n    per_page: Number,\n    page_index: Number,\n    columns: String[]\n}\n","export const mobileDeviceOrTabletWidth = 1200;\r\nexport const mobileDeviceWidth = 600;\r\nexport const isMaintenanceMode = false;\r\nexport const mapZIndex = {\r\n    CountriesTileLayer: 50,\r\n    DisputedAreasAndBorders: 70,\r\n    Labels: 800\r\n}\r\n","import { LanguageType } from \"../../types\";\nimport English from './en.json';\nimport French from './fr.json';\n\ninterface TranslateStringProps {\n  text: string;\n}\n\n// Recursive Typings for nested JSON objects\ntype JsonRecord<T> = Record<string, T | string>;\ninterface Json extends JsonRecord<Json> { };\n\nconst recursiveFind = (object: any, keys: string[], index: number): string => {\n  const key = keys[index];\n  const nextObj = object[key];\n\n  if (index + 1 === keys.length) {\n    return nextObj;\n  }\n  return recursiveFind(nextObj, keys, index + 1);\n\n}\n\nlet language: LanguageType = LanguageType.english;\n\nexport const setLanguageType = (newLanguage: LanguageType) => {\n  language = newLanguage;\n}\n\nexport default function Translate(\n  text: string,\n  specifier: string[] | null = null,\n  substitution: Record<string, string | number> | null = null,\n  addSpaces: [boolean, boolean] | null = null\n): string {\n  const translationDictionary: Json = language === LanguageType.english ?\n    English as Json : French as Json;\n\n  try {\n    let translatedString = translationDictionary[text];\n\n    if (!translatedString) {\n      return (specifier ? specifier[specifier.length - 1] : text);\n    }\n\n    if (specifier) {\n      translatedString = recursiveFind(translatedString, specifier, 0);\n    }\n\n    if (substitution) {\n      Object.keys(substitution).forEach(key => {\n        const value = substitution[key];\n        const replace = new RegExp(key, \"g\");\n        translatedString = (translatedString as string).replace(replace, `${value}`);\n      });\n    }\n\n    if (addSpaces && addSpaces[0]) {\n      translatedString = \" \" + translatedString;\n    }\n\n    if (addSpaces && addSpaces[1]) {\n      translatedString += \" \";\n    }\n    return translatedString as string;\n  }\n  catch (e) {\n    return `No translation for string ${text}`\n  }\n}","import { Location, LocationListener, UnregisterCallback } from 'history'\r\nimport { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useHistory } from 'react-router'\r\n\r\nconst sendPageView: LocationListener = (location: Location): void => {\r\n  ReactGA.set({ page: location.pathname })\r\n  ReactGA.pageview(location.pathname)\r\n}\r\ninterface eventSenderProps {\r\n  category: string,\r\n  label: string,\r\n  action: string\r\n}\r\n\r\nlet cookieAcceptance = false;\r\n\r\nexport const sendAnalyticsEvent = (props: eventSenderProps) => {\r\n  if (cookieAcceptance) {\r\n    ReactGA.event(props)\r\n  }\r\n}\r\ninterface Props {\r\n  children: JSX.Element;\r\n  trackingId: string;\r\n}\r\nconst GAListener = ({ children, trackingId }: Props): JSX.Element => {\r\n  const isDev = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory()\r\n  useEffect((): UnregisterCallback | void => {\r\n    ReactGA.initialize(trackingId,\r\n      {\r\n        titleCase: false,\r\n        debug: isDev,\r\n        gaOptions: {\r\n          cookieDomain: isDev ? 'none' : 'auto'\r\n        }\r\n      })\r\n    sendPageView(history.location, 'REPLACE')\r\n    return history.listen(sendPageView)\r\n  }, [history, isDev, trackingId])\r\n\r\n  return children\r\n}\r\n\r\nexport default GAListener","import { faLinkedin, faTwitter } from '@fortawesome/free-brands-svg-icons';\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport './static.css';\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\nimport HealthAgencyLogo from '../../assets/images/public-health-agency.png';\nimport UcalgaryLogo from '../../assets/images/University-Of-Calgary-Logo.png';\n\nexport default function About() {\n    const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth })\n\n    const selectItem = (label: string, name: string) => {\n        sendAnalyticsEvent({\n            category: 'Social Media Link',\n            action: 'click',\n            label: `${label} - ${name}`\n        })\n    }\n\n    const selectLink = (link: string) => {\n        sendAnalyticsEvent({\n            category: 'About Page Link',\n            action: 'click',\n            label: link\n        })\n    }\n\n    function renderBioBlock(name: string,\n        description: string[],\n        linkedIn: string | null = null,\n        email: string | null = null,\n        twitter: string | null = null) {\n        return (\n            <div>\n                <b>\n                    {name}\n                </b>\n                <br />\n                {description.map((line) => {\n                    return (\n                        <div key={line}>\n                            {line}\n                            <br />\n                        </div>\n                    )\n                })}\n                {linkedIn ? <a href={linkedIn} onClick={() => selectItem('LinkedIn', name)} target=\"_blank\" rel=\"noopener noreferrer\"><FontAwesomeIcon icon={faLinkedin} className=\"mr-1 linked-in\" /></a> : null}\n                {twitter ? <a href={twitter} onClick={() => selectItem('Twitter', name)} target=\"_blank\" rel=\"noopener noreferrer\"><FontAwesomeIcon icon={faTwitter} className=\"mx-1 twitter\" /></a> : null}\n                {email ? <a href={`mailto:${email}`} onClick={() => selectItem('Email', name)}><FontAwesomeIcon icon={faEnvelope} className=\"ml-1 email\" /></a> : null}\n            </div>\n        )\n    }\n    return (\n        <div className=\"page col-12\">\n            <div className={isMobileDeviceOrTablet ? \"pb-2\" : \"static-content pb-2\"}>\n                <h1>\n                    {Translate('AboutSeroTracker')}\n                </h1>\n                <p>\n                    {Translate('AboutPage', ['AboutSection', 'PartOne'])}<b>{Translate('AboutPage', ['AboutSection', 'PartTwo'], null, [true, false])}</b>\n                </p>\n                <p>\n                    <a href=\"https://www.covid19immunitytaskforce.ca/\" className=\"pr-2\" target=\"__blank\" rel=\"noopener noreferrer\">\n                        <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" alt=\"COVID-19 Immunity Task Force Logo\" height=\"45\"></img>\n                    </a>\n                    <a href=\"https://www.canada.ca/en/public-health.html/\" className=\"px-2\" target=\"__blank\" rel=\"noopener noreferrer\">\n                        <img src={HealthAgencyLogo} alt=\"Public Health Agency Logo\" height=\"45\"></img>\n                    </a>\n                    <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" className=\"px-2\" target=\"__blank\" rel=\"noopener noreferrer\">\n                        <img src={UcalgaryLogo} alt=\"Centre for Health Informatics\" height=\"40\"></img>\n                    </a>\n                </p>\n                <p> \n                    {Translate('AboutPage', ['AboutSection', 'SupportedBy'])}\n                    <a onClick={() => selectLink('Public Health Agency')} href=\"https://www.canada.ca/en/public-health.html\">{Translate('AboutPage', ['AboutSection', 'PublicHealthAgency'], null, [true, true])}</a>\n                    {Translate('AboutPage', ['AboutSection', 'ThroughThe'])}\n                    <a onClick={() => selectLink('ITF Website')} href=\"https://www.covid19immunitytaskforce.ca/\">{Translate('AboutPage', ['AboutSection', 'Covid19ImmunityTaskForce'], null, [true, true])}</a>\n                    {Translate('AboutPage', ['AboutSection', 'HostedAt'])}                    \n                    <a onClick={() => selectLink('Centre for Health Informatics')} href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\">{Translate('AboutPage', ['AboutSection', 'HealthInformatics'], null, [true, true])}</a>\n                </p>\n                <p>\n                    {Translate('AboutPage', ['AboutSection', 'MappingTheExtent'], null, [true, false])}\n                    <a onClick={() => selectLink('Serological Hub')} href=\"https://www.covid19immunitytaskforce.ca/research/global-serological-knowledge-hub/\">{Translate('AboutPage', ['AboutSection', 'GlobalSerologicalKnowledgeHub'], null, [true, false])}</a>.\n                </p>\n                <p>\n                    <a onClick={() => selectLink('Mapbox')} href=\"https://www.mapbox.com/\">Mapbox</a> {Translate('AboutPage', ['Mapbox'])}\n                </p>\n                <h2>\n                    {Translate('ContactUs')}\n                </h2>\n                <div>\n                    <p>\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointOne', 'PartOne'], null, [true, true])}\n                        <a href=\"mailto:rahul.arora@balliol.ox.ac.uk\">rahul.arora@balliol.ox.ac.uk</a>\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointOne', 'PartTwo'], null, [true, true])}\n                        <a href=\"mailto:tingting.yan@mail.utoronto.ca\">tingting.yan@mail.utoronto.ca</a>.\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointOne', 'PartThree'], null, [true, true])}\n                        <a href=\"mailto:media@covid19immunitytaskforce.ca\">media@covid19immunitytaskforce.ca</a>\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointOne', 'PartFour'], null, [true, true])}\n                        <a href=\"mailto:kelly.johnston2@ucalgary.ca\">kelly.johnston2@ucalgary.ca</a>.\n                    </p>\n                    <p>\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointFive', 'PartOne'])}\n                        <b>{Translate('AboutPage', ['ContactSection', 'BulletPointFive', 'PartTwo'], null, [true, false])}</b>\n                        {Translate('AboutPage', ['ContactSection', 'BulletPointFive', 'PartThree'], null, [true, true])}\n                        <a onClick={() => selectLink('Form Open')} rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\">{Translate('ThisForm').toLowerCase()}</a>.\n                    </p>\n                </div>\n                <h1>\n                    {Translate('OurTeam')}\n                </h1>\n                <h2 className=\"team-name-text\">\n                    {Translate('TeamLead')}\n                </h2>\n                <div className=\"bio-grid-container\">\n                    {renderBioBlock('Rahul Arora', [Translate('UniversityOf', null, { \"NAME\": \"Oxford\" }), Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], 'https://www.linkedin.com/in/rahularorayyc/', 'rahularoradfs@gmail.com')}\n                    {renderBioBlock('Tingting Yan', [Translate('UniversityOf', null, { \"NAME\": \"Toronto\" })], 'https://www.linkedin.com/in/tingting-yan/', '', 'https://twitter.com/TingtingYan_')}\n                </div>\n                <h2 className=\"team-name-text\">\n                    {Translate('ResearchTeam')}\n                </h2>\n                <div className=\"bio-grid-container\">\n                    {renderBioBlock('Niklas Bobrovitz ', [Translate('UniversityOf', null, { \"NAME\": \"Oxford\" }), Translate('UniversityOf', null, { \"NAME\": \"Toronto\" })], 'https://www.linkedin.com/in/nik-bobrovitz-19a117179/', 'niklas.bobrovitz@mail.utoronto.ca', 'https://twitter.com/nikbobrovitz')}\n                    {renderBioBlock('Emily Boucher', [Translate('SchoolName', ['Cumming']), Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], null, 'emily.boucher@ucalgary.ca')}\n                    {renderBioBlock('Hannah Rahim', [Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], 'https://www.linkedin.com/in/hannah-rahim/', 'hannahrahim2@gmail.com', 'https://twitter.com/Hannah_Rahim1')}\n                    {renderBioBlock('Christian Cao', [Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], 'https://ca.linkedin.com/in/christian-cao-275b78190', 'ccao.canada@gmail.com')}\n                    {renderBioBlock('Claire Donnici', [Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], null, 'claire.donnici@ucalgary.ca', 'https://twitter.com/ClaireDonnici')}\n                    {renderBioBlock('Natasha Ilincic', [Translate('UniversityOf', null, { \"NAME\": \"Guelph\" })], 'https://www.linkedin.com/in/natasha-ilincic/', 'natasha.ilincic@gmail.com')}\n                    {renderBioBlock('Michael Liu', [Translate('UniversityOf', null, { \"NAME\": \"Oxford\" }), Translate('BlankUniversity', null, { \"NAME\": \"Harvard\" })], 'https://www.linkedin.com/in/michael-liu-8728249a/', 'liu.michael222@gmail.com', 'https://twitter.com/mliu_canada')}\n                    {renderBioBlock('Mitchell Segal', [Translate('UniversityOf', null, { \"NAME\": \"Toronto\" })], null, 'mitchell.segal@mail.utoronto.ca')}\n                    {renderBioBlock('Lucas Penny', [Translate('UniversityOf', null, { \"NAME\": \"Toronto\" })], 'https://www.linkedin.com/in/lucaspenny/', 'lucas.penny@mail.utoronto.ca', 'https://twitter.com/lucasjpenny')}\n                    {renderBioBlock('Mairead Whelan', [Translate('UniversityOf', null, { \"NAME\": \"Oxford\" })], 'https://www.linkedin.com/in/mairead-whelan', 'mairead.whelan@ucalgary.ca', 'https://twitter.com/Mairead_GWhelan')}\n                    {renderBioBlock('Judy Chen', [Translate('BlankUniversity', null, { \"NAME\": \"McGill\" })], null, null, null)}\n                </div>\n                <h2 className=\"team-name-text\">\n                    Development Team\n                </h2>\n                <div className=\"bio-grid-container\">\n                    {renderBioBlock('Austin Atmaja', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/austinatmaja', 'atatmaja@uwaterloo.ca', 'https://twitter.com/atatmaja_')}\n                    {renderBioBlock('Abel Joseph ', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/abel-joseph/', 'abel.joseph@uwaterloo.ca')}\n                    {renderBioBlock('Ewan May', [Translate('SchoolName', ['Schulich']), Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], 'https://www.linkedin.com/in/ewan-may', 'ewan.may@ucalgary.ca')}\n                    {renderBioBlock('Brett Dziedzic', [Translate('UniversityOf', null, { \"NAME\": \"Lethbridge\" })], 'https://www.linkedin.com/in/brett-dziedzic/', 'brettdziedzic@gmail.com')}\n                    {renderBioBlock('Simona Rocco', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/simona-rocco/', 'serocco@uwaterloo.ca')}\n                    {renderBioBlock('Jordan Van Wyk', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/jordanvanwyk/', 'jordanvanwyk@outlook.com', 'https://twitter.com/jordanvw_')}\n                    {renderBioBlock('Joanna Chen', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/linkjoannachen/', 'sl5chen@uwaterloo.ca', 'https://twitter.com/thejoannachen')}\n                </div>\n                <h2 className=\"team-name-text\">\n                    {Translate('PrivateSectorMonitoringTeam')}\n                </h2>\n                <div className=\"bio-grid-container\">\n                    {renderBioBlock('Nathan Duarte', [Translate('UniversityOf', null, { \"NAME\": \"Waterloo\" })], 'https://www.linkedin.com/in/duartenathan/', 'nathanduarte1@gmail.com', 'https://twitter.com/_nathan_duarte_')}\n                    {renderBioBlock('Abhinav Pillai\t', [Translate('UniversityOf', null, { \"NAME\": \"Calgary\" })], null, 'abhinav.arunpillai@ucalgary.ca')}\n                    {renderBioBlock('Natalie Duarte', [], null, 'natalieaduarte@gmail.com')}\n                </div>\n                <h2 className=\"team-name-text\">\n                    {Translate('ScientificAdvisorsAndCollaborators')}\n                </h2>\n                <div className=\"bio-grid-container\">\n                    {renderBioBlock('Tim Evans', [Translate('Biographies', ['Tim', 'PartOne']), Translate('Biographies', ['Tim', 'PartTwo'])])}\n                    {renderBioBlock('Tyler Williamson', [Translate('Biographies', ['Tyler', 'PartOne']), Translate('Biographies', ['Tyler', 'PartTwo'])])}\n                    {renderBioBlock('Matthew Cheng', [Translate('Biographies', ['Matthew', 'PartOne']), Translate('Biographies', ['Matthew', 'PartTwo'])])}\n                    {renderBioBlock('David Naylor', [Translate('Biographies', ['DavidN', 'PartOne']), Translate('Biographies', ['DavidN', 'PartTwo'])])}\n                    {renderBioBlock('David Buckeridge', [Translate('Biographies', ['DavidB', 'PartOne']), Translate('Biographies', ['DavidB', 'PartTwo'])])}\n                    {renderBioBlock('Bruce Mazer', [Translate('Biographies', ['BruceM', 'PartOne']), Translate('Biographies', ['BruceM', 'PartTwo'])])}\n                    {renderBioBlock('Jesse Papenburg', [Translate('Biographies', ['Jesse', 'PartOne']), Translate('Biographies', ['Jesse', 'PartTwo'])])}\n                    {renderBioBlock('Jonathan Chevrier', [Translate('Biographies', ['Jonathan', 'PartOne']), Translate('Biographies', ['Jonathan', 'PartTwo'])])}\n                    {renderBioBlock('Catherine Hankins', [Translate('Biographies', ['CatherineH', 'PartOne']), Translate('Biographies', ['CatherineH', 'PartTwo'])])}\n                    {renderBioBlock('Erin O\\'Connor', [Translate('Biographies', ['ErinO', 'PartOne']), Translate('Biographies', ['ErinO', 'PartTwo'])])}\n                    {renderBioBlock('Catherine Eastwood', [Translate('Biographies', ['CatherineE', 'PartOne']), Translate('Biographies', ['CatherineE', 'PartTwo'])])}\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function CookiePolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.text = \"(function(d, s, id) { var js, tjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://app.termly.io/embed-policy.min.js'; tjs.parentNode.insertBefore(js, tjs); }(document, 'script', 'termly-jssdk'));\"\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 page\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('CookiePolicy')}\r\n        </h1>\r\n        <iframe title=\"CookiePolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/4cfb8f90-983a-40b4-bea2-2cdd373f14b5\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { createContext, Dispatch, useReducer } from \"react\";\nimport { AggregationFactor, Filters, FilterType, LanguageType, PageState, State } from \"./types\";\nimport Translate from \"./utils/translate/translateService\";\n\nexport const AppContext = createContext({} as [State, Dispatch<Record<string, any>>]);\n\nexport function getEmptyFilters(): Filters {\n  return {\n    source_type: new Set(),\n    test_type: new Set(),\n    country: new Set(),\n    population_group: new Set(),\n    sex: new Set(),\n    age: new Set(),\n    overall_risk_of_bias: new Set(),\n    isotypes_reported: new Set(),\n    specimen_type: new Set(),\n    publish_date: new Set([new Date(2019, 1, 1, 1), new Date()]),\n    estimate_grade: new Set()\n  }\n}\n\nexport function getDefaultFilters(): Filters {\n  return {\n    source_type: new Set([\n      Translate('SourceTypeOptions', ['Preprint']),\n      Translate('SourceTypeOptions', ['Publication']),\n      Translate('SourceTypeOptions', ['InstitutionalReport'])\n    ]),\n    test_type: new Set(),\n    country: new Set(),\n    population_group: new Set([\n      Translate('PopulationGroupOptions', ['GeneralPopulation']),\n      Translate('PopulationGroupOptions', ['BloodDonors']),\n      Translate('PopulationGroupOptions', ['ResidualSera']),\n    ]),\n    sex: new Set(),\n    age: new Set(),\n    overall_risk_of_bias: new Set(),\n    isotypes_reported: new Set(),\n    specimen_type: new Set(),\n    publish_date: new Set([new Date(2019, 1, 1, 1), new Date()]),\n    estimate_grade: new Set([\n      Translate('EstimateGradeOptions', ['National']),\n      Translate('EstimateGradeOptions', ['Regional']),\n    ])\n  }\n}\n\n// Note: filters = elements that user has chosen to filter by\n// filter_options = all the elements that users could filter by\nconst initialState: State = {\n  healthcheck: '',\n  chartAggregationFactor: AggregationFactor.country,\n  explore: {\n    filters: getEmptyFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    metaAnalyzedRecords: [],\n    isLoading: false\n  },\n  analyze: {\n    filters: getDefaultFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    metaAnalyzedRecords: [],\n    isLoading: false\n  },\n  allFilterOptions: getEmptyFilters(),\n  dataPageState: {\n    exploreIsOpen: true,\n    showStudiesModal: false,\n    routingOccurred: false\n  },\n  calendarStartDates: {\n    // Important, the fact that we use an hour here tells us that we are using a default value\n    minDate: new Date(2019, 1, 1, 1),\n    maxDate: new Date()\n  },\n  language: LanguageType.english,\n  updatedAt: '',\n  showCookieBanner: false,\n  showAnalyzePopup: true,\n  countries : [],\n  showEstimatePins: true\n};\n\nconst reducer = (state: State, action: Record<string, any>): State => {\n  switch (action.type) {\n    case \"TOGGLE_ESTIMATE_PINS\":\n      return {\n        ...state,\n        showEstimatePins: !state.showEstimatePins\n      };\n    case \"CLOSE_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: false\n      };\n    case \"OPEN_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: true\n      };\n    case \"OPEN_ANALYZE_POPUP\":\n      return {\n        ...state,\n        showAnalyzePopup: true\n      };\n    case \"CLOSE_ANALYZE_POPUP\":\n      return {\n        ...state,\n        showAnalyzePopup: false\n      };\n    case \"UPDATE_ESTIMATE_PREVALENCES\": {\n      const { pageStateEnum, estimateGradePrevalences } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.estimateGradePrevalences = estimateGradePrevalences;\n      return newState;\n    };\n    case \"UPDATE_COUNTRIES_JSON\":\n      return {\n        ...state,\n        countries: action.payload\n      };\n    case \"SELECT_LANGUAGE\":\n      return {\n        ...state,\n        language: action.payload\n      };\n    case \"GET_ALL_FILTER_OPTIONS\":\n      return {\n        ...state,\n        allFilterOptions: action.payload\n      };\n    case \"GET_AIRTABLE_RECORDS\": {\n      const { pageStateEnum, records } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.records = records;\n      return newState;\n    };\n    case \"UPDATED_AT\":\n      return {\n        ...state,\n        updatedAt: action.payload\n      };\n    case \"UPDATE_FILTER\": {\n      const { pageStateEnum, filterType, filterValue } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters[filterType as FilterType] = new Set(filterValue);\n      return newState;\n    };\n    case \"UPDATE_META_ANALYSIS\": {\n      const { pageStateEnum, metaAnalyzedRecords } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.metaAnalyzedRecords = metaAnalyzedRecords;\n      return newState;\n    };\n    case \"MAX_MIN_DATES\":\n      const { minDate, maxDate } = action.payload;\n      return {\n        ...state,\n        calendarStartDates: {\n          minDate,\n          maxDate\n        },\n      };\n    case \"CHANGE_LOADING\": {\n      const { pageStateEnum, isLoading } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.isLoading = isLoading;\n      return newState;\n    };\n    case \"UPDATE_AGGREGATION_FACTOR\":\n      return { ...state, chartAggregationFactor: action.payload }\n    case \"UPDATE_EXPLORE_IS_OPEN\":\n      return { ...state, dataPageState: { ...state.dataPageState, exploreIsOpen: action.payload } }\n    default:\n      return state\n  };\n};\n\nexport const AppContextProvider = (props: Record<string, any>) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider\n      value={[state, dispatch]}>\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n","import { format, parseISO, formatISO, add } from \"date-fns\";\r\n\r\nexport const formatDates = (dates: Array<Date> | null) => {\r\n  \r\n  let endDate = formatISO(new Date());\r\n  let startDate = formatISO(add(new Date(endDate), { years: -2 }));\r\n  if (dates) {\r\n    const dateList = Array.from(dates);\r\n    endDate = dateList[1] ? formatISO(dateList[1] as Date) : endDate;\r\n    startDate = dateList[0] ? formatISO(dateList[0] as Date) : startDate;\r\n  }\r\n  return [startDate, endDate]\r\n}\r\n\r\n\r\nexport const getPossibleNullString = (nullString: string | number | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return \"Not Reported\"\r\n  }\r\n  return nullString\r\n}\r\n\r\nexport const getPossibleNullDateString = (nullString: string | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return \"Not Reported\"\r\n  }\r\n  return format(parseISO(nullString), \"dd-MM-yyyy\")\r\n}\r\n\r\nexport const getPossibleNullStringArray = (nullString: string[] | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return \"Not Reported\"\r\n  }\r\n  return nullString.join(\", \")\r\n}\r\n    \r\nexport const getGeography = (city: string[] | null | undefined, state: string[] | null | undefined, country: string | null) => {\r\n  if (!country) {\r\n    return \"Not Reported\";\r\n  }\r\n  return `${city && city.length > 0 ? `${city.join(\", \")}, ` : \"\"}${state && state.length > 0 ? `${state.join(\", \")}, ` : \"\"}${country}`;\r\n}\r\n","import { AggregatedRecord, AggregationFactor, AirtableRecord, Filters, FilterType } from \"./types\";\nimport { formatDates } from \"./utils/utils\";\nimport {parseISO, format } from \"date-fns\";\n\nexport default class httpClient {\n\n    async httpGet(url: string, useAppRoute: boolean) {\n        let url_full = url;\n        if (useAppRoute && process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async httpPost(url: string, data: Record<string, any>) {\n        let url_full = url;\n        if (process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getAllFilterOptions() {\n        const response = await this.httpGet('/data_provider/filter_options', true);\n        const options: Record<string, any> = {}\n        for(let k in response){\n            // Currently no need for max and min date options\n            if(k !== \"max_date\" && k !== \"min_date\"){\n                // For all the other options, use a Set instead of list\n                // Because that's the data model our filters are used to\n                // TODO: refactor so we can keep filter options in a list\n                options[k] = new Set(response[k]);\n            }\n        }\n        // We know that only these 3 isotypes will ever be reported, thus we can hardcode\n        options.isotypes_reported = new Set([\"IgG\", \"IgA\", \"IgM\"]);\n        const updatedAt = format(parseISO(response.updated_at), \"dd-MM-yyyy\");\n        const maxDate = parseISO(response.max_date);     \n        const minDate = parseISO(response.min_date);\n        return { options, updatedAt, maxDate, minDate };\n    }\n    \n    async getAirtableRecords(filters: Filters,\n        only_explore_columns: Boolean =false,\n        sorting_key = \"denominator_value\",\n        reverse= false) {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            if (o !== 'publish_date') {\n                reqBodyFilters[o] = filter as string[]\n            }\n        });\n\n        // TODO: Clean up these columns, probably with a column interface with a field indicating\n        // whether or not it should be on the explore page \n        const all_columns = [\"state\", \"city\", \"country\", \"age\", \"serum_pos_prevalence\", \"denominator_value\", \"population_group\", \n        \"overall_risk_of_bias\", \"source_name\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\", \"pin_region_type\", \n        \"sampling_start_date\", \"sampling_end_date\", \"first_author\", \"source_type\", \"study_type\", \"test_type\", \"specimen_type\",\n        \"isotypes_reported\", \"approving_regulator\", \"population_group\", \"lead_organization\", \"url\"];\n\n        const explore_columns = all_columns.slice(0, 15);\n\n        const date = filters['publish_date'] as Array<Date>\n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            filters: reqBodyFilters,\n            start_date: startDate,\n            end_date: endDate,\n            sorting_key: sorting_key,\n            reverse: reverse,\n            per_page: null,\n            page_index: null,\n            columns: only_explore_columns ? explore_columns : all_columns,\n        }\n        const response = await this.httpPost('/data_provider/records', reqBody)\n        if (!response) {\n            return [];\n        }\n        const filtered_records = response.map((item: Record<string, any>) => {\n            // Convert response to AirtableRecord type\n            const record: AirtableRecord = {\n                age: item.age,\n                approving_regulator: item.approving_regulator,\n                city: item.city,\n                country: item.country,\n                denominator: item.denominator_value,\n                estimate_grade: item.estimate_grade,\n                first_author: item.first_author,\n                isotypes_reported: item.isotypes_reported,\n                lead_org: item.lead_org,\n                overall_risk_of_bias: item.overall_risk_of_bias,\n                pin_latitude: item.pin_latitude,\n                pin_longitude: item.pin_longitude,\n                pin_region_type: item.pin_region_type,\n                population_group: item.population_group,\n                sampling_end_date: item.sampling_end_date,\n                sampling_start_date: item.sampling_start_date,\n                seroprevalence: item.serum_pos_prevalence,\n                sex: item.sex,\n                source_name: item.source_name,\n                source_type: item.source_type,\n                specimen_type: Array.isArray(item.specimen_type) ? item.specimen_type : [item.specimen_type],\n                state: item.state,\n                study_type: item.study_type,\n                test_type: item.study_type,\n                url: item.url\n            };\n\n            return record;\n        });\n        // Remove timestamp from updated at string\n\n        return filtered_records;\n    }\n\n    async getEstimateGrades(filters: Filters) {\n        const reqBodyFilters: Record<string, string[]> = {}\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        })\n        delete reqBodyFilters['publish_date']\n        const date = filters['publish_date']        \n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            start_date: startDate,\n            end_date: endDate,\n            filters: reqBodyFilters\n        }\n\n        const response = await this.httpPost('/data_provider/country_seroprev_summary', reqBody);\n        if (!response) {\n            return [];\n        }\n        const formattedResponse = response.map((record: Record<string, any>) => {\n            // Convert response to AlternateAggregatedRecord type         \n            const estimateSummary = record.seroprevalence_estimate_summary;\n            return {\n                numberOfStudies: record.n_estimates,\n                testsAdministered: record.n_tests_administered,\n                geographicalName: record.country,          \n                alpha3Code: record.country_iso3,\n                localEstimate: {\n                    maxEstimate: estimateSummary.Local.max_estimate,\n                    minEstimate: estimateSummary.Local.min_estimate,\n                    numEstimates: estimateSummary.Local.n_estimates,\n                },\n                nationalEstimate: {\n                    maxEstimate: estimateSummary.National.max_estimate,\n                    minEstimate: estimateSummary.National.min_estimate,\n                    numEstimates: estimateSummary.National.n_estimates,\n                },\n                regionalEstimate: {\n                    maxEstimate: estimateSummary.Regional.max_estimate,\n                    minEstimate: estimateSummary.Regional.min_estimate,\n                    numEstimates: estimateSummary.Regional.n_estimates,\n                },\n                sublocalEstimate: {\n                    maxEstimate: estimateSummary.Sublocal.max_estimate,\n                    minEstimate: estimateSummary.Sublocal.min_estimate,\n                    numEstimates: estimateSummary.Sublocal.n_estimates,\n                }\n            }\n        });\n\n        return formattedResponse;\n    }\n\n    async postMetaAnalysis(filters: Filters,\n        aggregation_variable: AggregationFactor,\n        meta_analysis_technique: string = 'fixed',\n        meta_analysis_transformation: string = 'double_arcsin_precise') {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        const date = filters['publish_date'];\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        });\n\n        // TODO: Rename publish_date to sampling_end_date\n        delete reqBodyFilters['publish_date'];\n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            start_date: startDate,\n            end_date: endDate,\n            filters: reqBodyFilters,\n            aggregation_variable,\n            meta_analysis_technique,\n            meta_analysis_transformation\n        };\n\n        const response = await this.httpPost('/meta_analysis/records', reqBody);\n        if (response) {\n            // Convert response to aggregatedRecord object\n            const formatted_response: AggregatedRecord[] = Object.keys(response).filter((key: string) => response[key] !== null).map((key: string) => {\n                return {\n                    error: response[key].error_percent,\n                    n: response[key].total_N,\n                    name: key,\n                    numStudies: response[key].n_studies,\n                    seroprevalence: response[key].seroprevalence_percent,\n                }\n            });\n            return formatted_response;\n        }\n        return [];\n    }\n}\n","import { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Popup } from \"semantic-ui-react\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\ninterface InformationIconProps {\r\n  color: string;\r\n  size: \"xs\" | \"lg\" | \"sm\" | \"1x\" | \"2x\" | \"3x\" | \"4x\" | \"5x\" | \"6x\" | \"7x\" | \"8x\" | \"9x\" | \"10x\" | undefined,\r\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\r\n  tooltip: string | React.ReactNode;\r\n  tooltipHeader?: string;\r\n  offset: string | number;\r\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\r\n}\r\n\r\nexport default function InformationIcon(props: InformationIconProps) {\r\n  const { color, size, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\r\n  return (\r\n    <div className=\"px-2\">\r\n      <Popup\r\n        key={Math.random()}\r\n        offset={offset}\r\n        position={position}\r\n        size={popupSize}\r\n        onOpen={() => {\r\n          sendAnalyticsEvent({\r\n            /** Typically the object that was interacted with (e.g. 'Video') */\r\n            category: 'Tooltip',\r\n            /** The type of interaction (e.g. 'play') */\r\n            action: 'opening',\r\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n            label: tooltipHeader || \"Unknown tooltip\"\r\n            /** A numeric value associated with the event (e.g. 42) */\r\n          })\r\n        }}\r\n        //fix for janky popup positioning due to overflow styling\r\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\r\n        trigger={\r\n          <FontAwesomeIcon\r\n            icon={faInfoCircle}\r\n            color={color}\r\n            size={size} />}>\r\n        {tooltipHeader && (\r\n\r\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\r\n        )}\r\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  getPossibleNullString,\r\n  getPossibleNullDateString,\r\n  getPossibleNullStringArray\r\n} from \"../../utils/utils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Modal } from \"semantic-ui-react\";\r\nimport { AirtableRecord } from \"../../types\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport \"./StudyDetailsModal.css\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\n// TODO: Extract this into a modal service \r\n\r\ninterface StudyDetailsModalProps {\r\n  record: AirtableRecord\r\n}\r\nexport default function StudyDetailsModal(props: StudyDetailsModalProps) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const inlineStyle = {\r\n    modal: {\r\n      marginTop: '0px !important',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      top: 'auto',\r\n      left: 'auto',\r\n      height: 'auto'\r\n    }\r\n  };\r\n\r\n  const getAuthorString = (first_author: string | undefined | null, lead_org: string | null | undefined) => {\r\n    if (lead_org && first_author) {\r\n      return Translate('StudyDetailsAuthorString', ['LeadOrg'], { 'FIRST_AUTHOR': first_author, 'LEAD_ORG': lead_org })\r\n    }\r\n    else if (first_author) {\r\n      return Translate('StudyDetailsAuthorString', ['NoLeadOrg'], { 'FIRST_AUTHOR': first_author })\r\n    }\r\n    return Translate('AuthorAndLeadOrganizationNotReported')\r\n  }\r\n\r\n  const getPublishString = (publish_date: string | string[] | undefined | null, publisher: string | null | undefined) => {\r\n    const date = publish_date instanceof Array ? publish_date[0] : publish_date;\r\n    if (date && publisher) {\r\n      return Translate('StudyDetailsPublishString', ['PublisherAndDate'], { 'PUBLISH_DATE': date, 'PUBLISHER': publisher })\r\n    }\r\n    else if (date) {\r\n      return Translate('StudyDetailsPublishString', ['NoPublisher'], { 'PUBLISH_DATE': date })\r\n    }\r\n    else if (publisher) {\r\n      return Translate('StudyDetailsPublishString', ['NoPublishDate'], { 'PUBLISHER': publisher })\r\n    }\r\n    return null\r\n  }\r\n\r\n  const {\r\n    source_name, first_author, lead_org, publish_date, publisher, url,\r\n    summary, study_type,\r\n    population_group, age, city, state, country, sex,\r\n    seroprevalence, overall_risk_of_bias: risk_of_bias, denominator,\r\n    sampling_method, sampling_end_date, sampling_start_date,\r\n    test_type, sensitivity, specificity, isotypes_reported, manufacturer, approving_regulator\r\n  } = props.record\r\n  return (\r\n    <Modal\r\n      centered={true}\r\n      size=\"large\"\r\n      closeOnEscape={true}\r\n      closeOnDimmerClick={true}\r\n      onClose={() => { setOpen(false) }}\r\n      onOpen={() => {\r\n        sendAnalyticsEvent({\r\n          category: 'Study Details Modal',\r\n          action: 'opening',\r\n          label: props.record.source_name || \"Unknown\"\r\n        })\r\n      }}\r\n      open={open}\r\n      style={inlineStyle.modal}\r\n      trigger={\r\n        <Button onClick={() => setOpen(true)} style={{ padding: '8px' }}>\r\n          {Translate('Details')}\r\n        </Button>}>\r\n      <Modal.Header>{Translate('PrevalenceEstimateDetails')}\r\n        <FontAwesomeIcon onClick={() => setOpen(false)} icon={faTimes} size={\"sm\"} className=\"float-right cursor\" />\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n          <div className=\"col-12 p-0 flex\">\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Source').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 section-container modal-text-container\">\r\n                <a href={url || \"\"} target=\"_blank\" rel=\"noopener noreferrer\" className=\"col-12 p-0 name-text\">\r\n                  {source_name}\r\n                </a>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  {getAuthorString(first_author, lead_org)}\r\n                </div>\r\n                <div className=\"col-12 p-0 tertiary-text\">\r\n                  {getPublishString(publish_date, publisher)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Study').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('Summary')}: </span>\r\n                    {getPossibleNullString(summary)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('StudyType')}: </span>{getPossibleNullString(study_type)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Demographics').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Population')}: </span>{getPossibleNullString(population_group)}\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('AgeGroup')}: </span>{getPossibleNullString(age)}\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span>\r\n                    <span className=\"secondary-title\">{Translate('Location')}: </span>{city ? `${city.join(\", \")}, ` : \"\"}{state ? `${state.join(\", \")}, ` : \"\"}{country ? country : \"\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Sex')}: </span>{getPossibleNullString(sex)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-6 pl-0 pr-2 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Prevalence').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Estimate')}: </span>{seroprevalence ? (seroprevalence * 100).toFixed(2) : \"Not Reported\"}%\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('StudySize')}: </span>{getPossibleNullString(denominator)}\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('RiskOfBias')}: </span>{getPossibleNullString(risk_of_bias)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-6 pl-2 pr-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Sampling').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('SamplingMethod')}: </span>{getPossibleNullString(sampling_method)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('StartDate')}: </span>{getPossibleNullDateString(sampling_start_date)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('EndDate')}: </span>{getPossibleNullDateString(sampling_end_date)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('TestDetails').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-6 p-0\">\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Manufacturer')}: </span>{getPossibleNullString(manufacturer)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('TestUsed')}: </span>{getPossibleNullStringArray(test_type)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Isotypes')}: </span>{getPossibleNullStringArray(isotypes_reported)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 p-0\">\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Specificity')}: </span>{specificity ? `${(specificity * 100).toFixed(2)}%` : \"Not Reported\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Sensitivity')}: </span>{sensitivity ? `${(sensitivity * 100).toFixed(2)}%` : \"Not Reported\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-126 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('RegulatoryApproval')}: </span>{getPossibleNullString(approving_regulator)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n    </Modal >\r\n  )\r\n} ","import _ from 'lodash'\nimport React from 'react'\nimport { Search } from 'semantic-ui-react'\nimport { AirtableRecord } from '../../types';\nimport Translate from \"../../utils/translate/translateService\";\n                                                        \nconst initialState = {\n  loading: false,\n  results: [],\n  value: '',\n}\n\ninterface state {\n  loading: boolean,\n  results: AirtableRecord[] | undefined,\n  value: string\n}\n\nconst MAX_SUGGESTIONS = 5\n\nfunction searchReducer(state : state, action : any) {\n  switch (action.type) {\n    case 'CLEAN_QUERY':\n      return initialState\n    case 'START_SEARCH':\n      return { ...state, loading: true, value: action.query }\n    case 'FINISH_SEARCH':\n      return { ...state, loading: false, results: action.results }\n    case 'UPDATE_SELECTION':\n      return { ...state, value: action.selection }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst resultRenderer = ({ source_name, publish_date } : any) => {\n  return (<React.Fragment>\n            <div>{source_name}</div>\n            <span className=\"text-muted\">{Translate('Published')}: {publish_date}</span>\n          </React.Fragment>)\n}\n\nfunction ReferenceSearch(props : any) {\n  const { source, onSearchResultChange } = props;\n  const [state, dispatch] = React.useReducer(searchReducer, initialState)\n  const { loading, results, value } = state\n\n  const timeoutRef : any = React.useRef()\n\n  const handleSearchChange = React.useCallback((e, data) => {\n    clearTimeout(timeoutRef.current)\n    dispatch({ type: 'START_SEARCH', query: data.value })\n\n    timeoutRef.current = setTimeout(() => {\n      \n      if (data.value.length === 0) {\n        onSearchResultChange(undefined)\n        dispatch({ type: 'CLEAN_QUERY' })\n        return\n      }\n\n      const re = new RegExp(_.escapeRegExp(data.value), 'i');\n      const searchResults : AirtableRecord[] = _.filter(source, (result : any) => re.test(result.source_name))\n\n      onSearchResultChange(searchResults)\n      dispatch({ type: 'FINISH_SEARCH', results: searchResults})\n    }, 800)\n  }, [onSearchResultChange, source])\n\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current)\n    }\n  }, [])\n\n  // Limit suggested results to avoid massive query result rendered\n  const suggestedResults = results.slice(0, ((results.length < MAX_SUGGESTIONS) ? results.length : MAX_SUGGESTIONS))\n\n  return (\n    <Search\n        loading={loading}\n        onResultSelect={(e, data) => dispatch({ type: 'UPDATE_SELECTION', selection: data.result.source_name })}\n        onSearchChange={handleSearchChange}\n        resultRenderer={resultRenderer}\n        results={suggestedResults}\n        value={value}\n    />\n  )\n}\n\nexport default ReferenceSearch","import _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Dropdown, DropdownProps, Pagination, Table } from \"semantic-ui-react\";\nimport { mobileDeviceWidth } from \"../../constants\";\nimport { AirtableRecord } from \"../../types\";\nimport Translate from \"../../utils/translate/translateService\";\nimport { getGeography } from \"../../utils/utils\";\nimport StudyDetailsModal from \"../charts/StudyDetailsModal\";\nimport ReferenceSearch from '../charts/ReferencesSearch';\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\n\ninterface StudiesTableProps {\n    showAllStudies: boolean,\n    dataRecords: AirtableRecord[],\n    smallView?: boolean\n}\n\nexport default function StudiesTable(props: StudiesTableProps) {\n    const [activePage, setActivePage] = useState(1);\n    const [boundaryRange] = useState(0);\n    const [siblingRange] = useState(0);\n    const [totalPages, setTotalPages] = useState(10);\n    const [pageLength, setPageLength] = useState(5);\n    const [column, setColumn] = useState('denominator');\n    const [direction, setDirection] = useState('descending');\n    const initialState: AirtableRecord[] = [];\n    const [data, setData] = useState(initialState);\n    const [searchResults, setSearchResults] = useState<AirtableRecord[] | undefined>(undefined);\n    const isMobileDevice = useMediaQuery({ maxWidth: mobileDeviceWidth });\n    useEffect(() => {\n        let newData = searchResults || props.dataRecords || [];\n\n        if (direction === 'descending') {\n            newData = _.orderBy(newData,\n                [(o: any) => {\n                    return o[column] || '';\n                }], ['desc']);\n        }\n        else {\n            newData = _.orderBy(newData, [column], ['asc']);\n        }\n\n        const splicedData = newData.splice((activePage - 1) * pageLength, pageLength);\n        setData(splicedData);\n\n        if (isMobileDevice) {\n            setPageLength(Math.ceil(newData.length));\n        }\n        else {\n            setTotalPages(Math.ceil(newData.length / pageLength));\n        }\n    }, [activePage, column, direction, isMobileDevice, pageLength, props.dataRecords, searchResults])\n\n    const getPopulation = (sex: string | null, age: string | null, population_group: string | null) => {\n        // TODO: Check if we still need to accommodate for these edge cases.\n        if (!population_group) {\n            return \"Not Reported\";\n        }\n        const displaySex = sex && sex !== \"All\" && sex !== \"Unspecified\";\n        const displayAge = age && age !== \"Multiple groups\" && age !== \"Unspecified\";\n        return `${displaySex ? `${sex}, ` : \"\"}${displayAge ? `${age}, ` : \"\"}${population_group}`;\n    }\n\n    const pageLengthOptions = [\n        { text: 5, value: 5 }, { text: 10, value: 10 }, { text: 25, value: 25 }, { text: 50, value: 50 }, { text: 100, value: 100 }\n    ]\n\n    const handleSort = (clickedColumn: string) => () => {\n        if (column !== clickedColumn) {\n\n            setActivePage(1);\n            setColumn(clickedColumn);\n            setDirection('ascending');\n            return\n        }\n        else {\n            setDirection(direction === 'ascending' ? 'descending' : 'ascending');\n        }\n    }\n\n    const handlePaginationChange = (e: any, event: any) => {\n        const { activePage } = event;\n        setActivePage(activePage)\n    }\n\n    const handlePageLengthChange = (e: any, event: DropdownProps) => {\n        setPageLength(event.value as number);\n        setActivePage(1);\n    }\n\n    const handleSearchChange = (results: any) => {\n        setSearchResults(results as AirtableRecord[])\n        setActivePage(1);\n      }\n\n    const buildHeaderCell = (sortColumn: string, displayName: string, className: string) => {\n        return (\n            <Table.HeaderCell\n                className={className}\n                sorted={column === sortColumn ? direction as any : null}\n                onClick={handleSort(sortColumn)}\n            >\n                {displayName}\n            </Table.HeaderCell>)\n    }\n\n    return (\n        <div className=\"col-12\">\n            <div >\n                <div className=\"row\">\n                <div className=\"col\">\n                    <div className=\"py-3 w-100 section-title align-middle text-uppercase\">\n                    {Translate('References')}\n                    </div>\n                </div>\n                <div className=\"col-auto\">\n                    <ReferenceSearch source={props.dataRecords} onSearchResultChange={handleSearchChange} />\n                </div>\n                </div>\n            </div>\n            <Table celled sortable fixed striped className=\"table mb-3 mt-0\">\n                <Table.Header className=\"flex col-12 p-0\">\n                    <Table.Row className=\"flex col-12 p-0\">\n                        {buildHeaderCell('title', Translate('Name'), props.smallView ? 'flex col-12 p-1' : 'col-sm-12 col-lg-3 p-1')}\n                        {buildHeaderCell('country', Translate('Geography'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                        {buildHeaderCell('populations', Translate('Populations'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                        {buildHeaderCell('denominator', Translate('N'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                        {buildHeaderCell('seroprevalence', Translate('Prevalence'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                        {buildHeaderCell('risk_of_bias', Translate('RiskOfBias'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                        {buildHeaderCell('', Translate('Details'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body className=\"col-12 p-0\">\n                    {_.map(data,\n                        (record) => {\n                            const {\n                                source_name, source_type, url,\n                                country, state, city,\n                                denominator,\n                                sex, age, population_group,\n                                seroprevalence,\n                                overall_risk_of_bias: risk_of_bias,\n                            } = record\n                            return (\n                                <Table.Row className=\"flex col-12 p-0\" key={Math.random()}>\n                                    <Table.Cell className={props.smallView ? \"flex col-12 p-1\" : \"col-sm-12 col-lg-3 p-1\"}>\n                                        <a href={url ? url : '#'} target=\"_blank\" rel=\"noopener noreferrer\">{source_name}</a>\n                                        <i className=\"px-1\">({source_type})</i>\n                                    </Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-2 p-1\"}>{getGeography(city, state, country)}</Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-2 p-1\"}>{getPopulation(sex, age, population_group)}</Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-1 p-1\"}>{denominator ? denominator : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-1 p-1\"}>{seroprevalence ? `${(seroprevalence * 100).toFixed(2)}%` : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-2 p-1\"}>{risk_of_bias ? risk_of_bias : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={props.smallView ? \"flex col-6 p-1\" : \"flex col-sm-12 col-lg-1 p-0 center-item\"}><StudyDetailsModal record={record} /></Table.Cell>\n                                </Table.Row>\n                            )\n                        })}\n                </Table.Body>\n                {\n                    !isMobileDevice && !props.showAllStudies ?\n                        <Table.Footer className=\"flex space-between\">\n                            <tr className=\"flex space-between\">\n                                <Pagination\n                                    activePage={activePage}\n                                    boundaryRange={boundaryRange}\n                                    onPageChange={handlePaginationChange}\n                                    size='mini'\n                                    siblingRange={siblingRange}\n                                    totalPages={totalPages}\n                                />\n                                <>\n                                    <div className=\"p-2 flex\" >\n                                        <Dropdown inline\n                                            options={pageLengthOptions}\n                                            defaultValue={pageLengthOptions[0].value}\n                                            onChange={handlePageLengthChange} />\n                                        <div className=\"px-2\">\n                                            {Translate('StudiesPerPage')}\n                                        </div>\n                                    </div>\n                                </>\n                            </tr>\n                        </Table.Footer> :\n                        null\n                }\n            </Table>\n            <div className=\"d-flex justify-content-end\">\n                <a target=\"_blank\" rel=\"noopener noreferrer\" onClick={() => sendAnalyticsEvent({category: 'Data Link Click', action: 'click', label: 'DownloadCsv'})} \n                href=\"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\">\n                <FontAwesomeIcon\n                icon={faDownload}\n                className={'icon'}\n                color={'#455a64'}\n                size={\"1x\"} />\n                <span>{Translate('DownloadCsv')}</span>\n                </a>\n            </div>\n        </div>\n    )\n}\n\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../context\";\r\nimport { State, PageState } from \"../../types\";\r\nimport StudiesTable from '../shared/StudiesTable';\r\nimport './Charts.css';\r\n\r\ninterface ReferencesTableProps {\r\n  page: string\r\n}\r\n\r\nexport default function ReferencesTable({page}: ReferencesTableProps) {\r\n  const [state, ] = useContext(AppContext);  \r\n  const [pageState, setPageState] = useState(state[page as keyof State] as PageState);\r\n  useEffect(() => {\r\n    setPageState(state[page as keyof State] as PageState)\r\n  }, [page, state])\r\n  return (\r\n    <div className=\"top references\">\r\n       <StudiesTable dataRecords={pageState.records} showAllStudies={false}></StudiesTable>\r\n    </div>\r\n  );\r\n}\r\n","import _ from \"lodash\";\r\nimport React, { SyntheticEvent, useContext, useEffect, useState } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Bar, BarChart, CartesianGrid, ErrorBar, LabelList, Legend, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\r\nimport { Dropdown, DropdownProps, Modal } from \"semantic-ui-react\";\r\nimport { mobileDeviceOrTabletWidth, isMaintenanceMode } from \"../../constants\";\r\nimport { AppContext } from \"../../context\";\r\nimport httpClient from \"../../httpClient\";\r\nimport { AggregationFactor, PageStateEnum } from \"../../types\";\r\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport InformationIcon from \"../shared/InformationIcon\";\r\nimport './Charts.css';\r\nimport ReferencesTable from \"./ReferencesTable\";\r\n\r\nexport default function Charts() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth })\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const { showAnalyzePopup } = state;\r\n  const [showModal, toggleModal] = useState(true);\r\n  const records = state.analyze.metaAnalyzedRecords;\r\n\r\n  const yAxisOptions = [\r\n    { key: 'Geographies', text: Translate('Geographies'), value: AggregationFactor.country },\r\n    { key: 'Population', text: Translate('Population'), value: AggregationFactor.population_group },\r\n    { key: 'Sex', text: Translate('Sex'), value: AggregationFactor.sex },\r\n    { key: 'Age', text: Translate('Age'), value: AggregationFactor.age },\r\n    { key: 'Test Type', text: Translate('TestType'), value: AggregationFactor.test_type },\r\n    { key: 'Source Type', text: Translate('SourceType'), value: AggregationFactor.source_type },\r\n    { key: 'Overall Risk Of Bias', text: Translate('RiskOfBias'), value: AggregationFactor.overall_risk_of_bias },\r\n    { key: 'Isotypes Reported', text: Translate('IsotypesReported'), value: AggregationFactor.isotypes_reported },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const updateCharts = async () => {\r\n      const api = new httpClient();\r\n      // TODO: Cache these results so we're not making this call every time we switch pages\r\n      const reAggregatedRecords = await api.postMetaAnalysis(state.analyze.filters, state.chartAggregationFactor);\r\n      const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n      dispatch({\r\n        type: \"UPDATE_META_ANALYSIS\",\r\n        payload: {\r\n          pageStateEnum: PageStateEnum.analyze, \r\n          metaAnalyzedRecords\r\n        }\r\n      })\r\n    }\r\n    updateCharts();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [state.chartAggregationFactor])\r\n\r\n  const handleChange = (event: SyntheticEvent<HTMLElement, Event>, data: DropdownProps) => {\r\n    dispatch({\r\n      type: \"UPDATE_AGGREGATION_FACTOR\",\r\n      payload: data.value as AggregationFactor\r\n    })\r\n    sendAnalyticsEvent({\r\n      category: 'Independent Variable',\r\n      action: 'selection',\r\n      label: data.text || \"Unknown\"\r\n    })\r\n  }\r\n\r\n  const CustomTooltip = (e: any) => {\r\n    const { active, payload } = e\r\n    if (active && payload) {\r\n      const { error, n, name, numStudies, seroprevalence } = payload[0].payload;\r\n      const lower = (seroprevalence - error[0]).toFixed(2);\r\n      const upper = (seroprevalence + error[1]).toFixed(2);\r\n      return (\r\n        <div className=\"col flex popup\">\r\n          <div className=\"col-12 p-0 popup-header\">{name}</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate(\"Seroprevalence\")}: {seroprevalence.toFixed(2)}%</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate(\"95%ConfidenceInterval\")}: {lower}%-{upper}%</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate('TotalTests')}: {n}</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate('TotalEstimates')}: {numStudies}</div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderCustomizedLabel = (props: any) => {\r\n    const { x, y, width, height, value, index } = props;\r\n    let recordError = records[index].error;\r\n    const ratio = width / value;\r\n    const error = Array.isArray(recordError) ? recordError[1] : recordError;\r\n    const errorBarWidth = ratio * error;\r\n    return (\r\n      <g>\r\n        <text x={x + width + 10 + (errorBarWidth as number)} y={y + height / 2 + 5} fill=\"#000\" textAnchor=\"right\" dominantBaseline=\"right\">\r\n          {value.toFixed(2)}\r\n        </text>\r\n      </g>\r\n    );\r\n  };\r\n\r\n  const getYAxisWidth = (chartData: Record<string, string | number | number[]>[]) => {\r\n    let longestWord = 0;\r\n    chartData.filter(o => o.name)\r\n      .forEach(o => {\r\n        const country = o.name as string;\r\n        longestWord = country.length > longestWord ? country.length : longestWord;\r\n      })\r\n    return longestWord;\r\n  }\r\n  const closeModal = () => {\r\n    toggleModal(false);\r\n    dispatch({ type: 'CLOSE_ANALYZE_POPUP' })\r\n  }\r\n\r\n  const MobileInfoModal = () => (\r\n    <Modal className=\"modal\" open={showModal} onClose={closeModal} closeIcon={{ style: { top: '1.0535rem', right: '1rem' }, color: 'black', name: 'close' }}>\r\n      <Modal.Content className=\"modal-content\">\r\n        <div className={isMobileDeviceOrTablet ? \"modal-text-mobile\" : \"modal-text\"}>\r\n          <p>{Translate('InitInfoModalText', ['PartOne'])}</p>\r\n          <p>{Translate('InitInfoModalText', ['PartTwo'])}</p>\r\n          <p>{Translate('InitInfoModalText', ['PartThree'])}</p>\r\n        </div>\r\n      </Modal.Content>\r\n    </Modal>\r\n  )\r\n\r\n  return (\r\n    <div className=\"charts-page\">\r\n      {(showAnalyzePopup && !isMaintenanceMode) ? <MobileInfoModal /> : null}\r\n      <div className={isMobileDeviceOrTablet ? \"mobile-charts container col-11 center-item flex my-3\" : \"charts container col-11 center-item flex my-3\"}>\r\n        <div className=\"col-12 p-0 flex\">\r\n          <div className=\"col-sm-1 col-lg-3\">\r\n          </div>\r\n          <div className=\"charts-title flex p-0 mt-2 p-lg-0 col-sm-8 col-lg-6\">\r\n            <div className=\"col-auto flex center-item\">\r\n              {Translate('SeroprevalenceBy')}\r\n            </div>\r\n            <Dropdown\r\n              placeholder={Translate('Geographies')}\r\n              fluid selection\r\n              className=\"col large-dropdown\"\r\n              onChange={handleChange}\r\n              options={yAxisOptions}\r\n            >\r\n            </Dropdown>\r\n          </div>\r\n          <div className=\"col-sm-6 col-lg-3 flex top right\">\r\n            95% CI\r\n            <InformationIcon\r\n              offset=\"10px\"\r\n              position=\"bottom right\"\r\n              color=\"#455a64\"\r\n              size=\"sm\"\r\n              tooltip={Translate(\"95%ConfidenceIntervalTooltip\")}\r\n              tooltipHeader={Translate(\"95%ConfidenceInterval\")} />\r\n          </div>\r\n        </div>\r\n        <ResponsiveContainer width=\"100%\" height=\"80%\">\r\n          <BarChart data={records} layout='vertical' barGap={10}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis type=\"number\" name={`${Translate(\"Seroprevalence\")} (%)`} padding={{ left: 0, right: 30 }} />\r\n            <YAxis dataKey=\"name\" type=\"category\" interval={0} width={getYAxisWidth(records) * 7} />\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <Legend />\r\n            <Bar isAnimationActive={false} dataKey=\"seroprevalence\" name={`${Translate('Seroprevalence')} (%)`} fill=\"#55A6BA\" maxBarSize={60} barSize={20}>\r\n              <LabelList dataKey=\"seroprevalence\" position=\"right\" content={renderCustomizedLabel} />\r\n              <ErrorBar dataKey=\"error\" width={4} strokeWidth={2} />\r\n            </Bar>\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n      <div className=\"container col-11 my-3 references\">\r\n        <ReferencesTable page={PageStateEnum.analyze} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Popup } from \"semantic-ui-react\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport './shared.scss';\n\ninterface InformationTextProps {\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\n  tooltip: string | React.ReactNode;\n  tooltipHeader?: string;\n  offset: string | number;\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\n  text: string;\n}\n\nexport default function InformationText(props: InformationTextProps) {\n  const { text, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\n  return (\n      <Popup\n        key={Math.random()}\n        offset={offset}\n        position={position}\n        size={popupSize}\n        onOpen={() => {\n          sendAnalyticsEvent({\n            /** Typically the object that was interacted with (e.g. 'Video') */\n            category: 'Tooltip',\n            /** The type of interaction (e.g. 'play') */\n            action: 'opening',\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\n            label: tooltipHeader || \"Unknown tooltip\"\n            /** A numeric value associated with the event (e.g. 42) */\n          })\n        }}\n        //fix for janky popup positioning due to overflow styling\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\n        trigger={<span className=\"info-text\">{text}</span>}>\n        {tooltipHeader && (\n\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\n        )}\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\n      </Popup>\n  );\n}","import React from \"react\";\nimport InformationText from \"../../shared/InformationText\";\nimport './AnalysisMethods.css';\n\nconst MIN_DENOMINATOR = 100\nexport default function AnalysisMethods() {\n  return (\n    <div className=\"analysis-methods\">\n        <div className=\"section-title py-2 center\">\n            ANALYSIS METHODS\n        </div>\n        <div>\n            <div>\n                {'The seroprevalence shown for each country or factor is calculated by '}\n                    <InformationText \n                        tooltip={\n                            <div>\n                            <p>\n                                The aggregation technique used is fixed-effects, inverse-variance-weighted meta-analysis of prevalence, with the Freeman-Tukey double arcsin transform used to stabilize variance. Records over sample size {MIN_DENOMINATOR} considered.\n                            </p>\n                        </div>\n                        }\n                        text=\"aggregating\"\n                        offset={-12}\n                    /> \n                {' all seroprevalence estimates that match the filters you specify.'}\n            </div>\n        </div>\n        <p>\n            Default filters: national and regional estimates, in the general population and blood donors. \n        </p>\n        <p>\n            These aggregated estimates should be interpreted with caution, especially if the studies that were aggregated did not include representative samples or were at high risk of bias. \n        </p>\n    </div>\n  )\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { State, PageState } from \"../../../types\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport './TotalStats.css';\r\n\r\ninterface TotalStatsProps {\r\n  page: string\r\n}\r\n\r\nexport default function TotalStats({ page }: TotalStatsProps) {\r\n  const [state] = useContext(AppContext);\r\n  const [countries, setNumCountries] = useState(0);\r\n  const [numStudies, setNumStudies] = useState(0);\r\n  const [n, setN] = useState(0);\r\n  const pageState= state[page as keyof State] as PageState;\r\n\r\n  useEffect(() => {\r\n    const updateCountryPrevalence = async () => {\r\n      setNumCountries(pageState.estimateGradePrevalences.length);\r\n      setN(pageState.estimateGradePrevalences.map((o: Record<string, any>) => o.testsAdministered).reduce((a: number, b: number) => a + b, 0));\r\n      setNumStudies(pageState.estimateGradePrevalences.map((o: Record<string, any>) => o.numberOfStudies).reduce((a: number, b: number) => a + b, 0));\r\n    }\r\n    updateCountryPrevalence();\r\n  }, [pageState.estimateGradePrevalences])\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 stats-container\">\r\n      <div className=\"col-12 pb-2 pt-4 section-title center\">{Translate('SummaryStatistics').toUpperCase()}</div>\r\n      {/* <div className=\"col-12 p-0 flex\">\r\n        <div className=\"main-statistic-title col-12 p-0 center-item flex\">\r\n          {Translate('Seroprevalence')}\r\n          <InformationIcon\r\n            color=\"#468ac1\"\r\n            offset={-12}\r\n            tooltip={\r\n              <div>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['FirstParagraph'])}\r\n                </p>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['SecondParagraph'])}\r\n                </p>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['ThirdParagraph'], { \"MIN_DENOMINATOR\": MIN_DENOMINATOR })}\r\n                </p>\r\n              </div>\r\n            }\r\n            size=\"xs\"\r\n            tooltipHeader={Translate(\"AggregatedPrevalence\")} /></div>\r\n        <div className=\"main-statistic col-12 p-0 center\">{seroprevalence ? `${seroprevalence!.toFixed(2)}%` : Translate(\"NoData\")}</div>\r\n      </div> */}\r\n      <div className=\"col-12 flex middle pb-2\">\r\n        <div className=\"secondary-statistic-title center p-0 col-12\">{Translate(\"TestsAdministered\")}</div>\r\n        <div className=\"secondary-statistic col-12 p-0 center\">{n}</div>\r\n      </div>\r\n      <div className=\"col-12 flex middle py-2\">\r\n        <div className=\"secondary-statistic-title center p-0\">{Translate(\"NumSeroprevalenceEstimates\")}</div>\r\n        <div className=\"secondary-statistic px-1 center\">{numStudies}</div>\r\n      </div>\r\n      <div className=\"col-12 flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">{Translate(\"CountriesIncluded\")}</div>\r\n        <div className=\"secondary-statistic px-1 center\">{countries}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import _ from 'lodash';\r\nimport httpClient from '../httpClient'\r\nimport { AggregationFactor, Filters, FilterType } from '../types'\r\n\r\nexport const updateFilters = async (\r\n  dispatch: any,\r\n  filters: Filters,\r\n  filterType: FilterType,\r\n  filterValue: any[],\r\n  exploreIsOpen: Boolean,\r\n  page: string,\r\n  aggregationFactor: AggregationFactor) => {\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n\r\n  dispatch({\r\n    type: 'UPDATE_FILTER',\r\n    payload: {\r\n      filterType,\r\n      filterValue,\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  const updatedFilters: Filters = Object.assign({}, filters);\r\n  updatedFilters[filterType] = new Set(filterValue);\r\n\r\n  const api = new httpClient()\r\n  // Update current records when called\r\n  const [records,\r\n    estimateGradePrevalences, reAggregatedRecords] = await\r\n      Promise.all([\r\n        api.getAirtableRecords(updatedFilters, exploreIsOpen),\r\n        api.getEstimateGrades(updatedFilters),\r\n        page === \"analyze\" ? api.postMetaAnalysis(updatedFilters, aggregationFactor) : Promise.resolve()\r\n      ]);\r\n \r\n  const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  if (page === \"analyze\") {\r\n    dispatch({\r\n      type: \"UPDATE_META_ANALYSIS\",\r\n      payload: {\r\n        pageStateEnum: page,\r\n        metaAnalyzedRecords\r\n      }\r\n    })\r\n  }\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}\r\n\r\nexport const initializeData = async (dispatch: any, filters: Filters, exploreIsOpen: Boolean, page: string) => {\r\n\r\n  const api = new httpClient()\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n  \r\n  const [records,\r\n    reAggregatedRecords,\r\n    estimateGradePrevalences] = await Promise\r\n      .all([api.getAirtableRecords(filters, exploreIsOpen),\r\n      api.postMetaAnalysis(filters, AggregationFactor.country),\r\n      api.getEstimateGrades(filters)]);\r\n\r\n\r\n  const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"UPDATE_META_ANALYSIS\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      metaAnalyzedRecords\r\n    }\r\n  })\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InformationIcon from \"../../shared/InformationIcon\";\n\ninterface SectionHeaderProps {\n    header_text: string,\n    tooltip_text?: string | React.ReactNode,\n    tooltip_header?: string\n}\n\nexport default function SectionHeader({header_text, tooltip_text, tooltip_header}: SectionHeaderProps){\n    return (\n        <div className=\"pb-2 flex\">\n        <div className=\"filter-section-header\">{header_text}</div>\n        {tooltip_text && (\n            <div className=\"tooltip-vert-adj\">\n            <InformationIcon\n                offset={10}\n                position=\"bottom right\"\n                color=\"#455a64\"\n                tooltipHeader={tooltip_header ? tooltip_header : header_text}\n                popupSize=\"small\"\n                size=\"sm\"\n                tooltip={tooltip_text} />\n            </div>\n        )}\n        </div>\n    )\n}","import React, { useContext, useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Input } from \"semantic-ui-react\";\r\nimport { AppContext } from \"../../../../context\";\r\nimport { FilterType, PageState, State } from '../../../../types';\r\nimport { updateFilters } from \"../../../../utils/stateUpdateUtils\";\r\nimport Translate from \"../../../../utils/translate/translateService\";\r\nimport SectionHeader from \"../SectionHeader\";\r\n\r\ninterface DatepickerProps {\r\n  page: string\r\n}\r\n\r\nexport default function Datepicker({ page }: DatepickerProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n  const [filterStartDate, filterEndDate] = Array.from(pageState.filters.publish_date);\r\n  const [startDate, setStartDate] = useState(filterStartDate);\r\n  const [endDate, setEndDate] = useState(filterEndDate);\r\n\r\n  const datePickerChanged = async (isStart: Boolean, date: Date) => {\r\n    const newDates = [startDate, endDate];\r\n    newDates[0] = isStart ? date : startDate;\r\n    newDates[1] = !isStart ? date : endDate;\r\n\r\n    if (isStart) {\r\n      setStartDate(date);\r\n    }\r\n    else {\r\n      setEndDate(date);\r\n    }\r\n    await updateFilters(dispatch,\r\n      pageState.filters,\r\n      \"publish_date\" as FilterType,\r\n      newDates,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const CustomInput = ({ value, onClick, text }: any) => (\r\n    <div className=\"col-12 p-0 flex column\">\r\n      <div>\r\n        {text}\r\n      </div>\r\n      <Input className=\"col-12 p-0 cursor\"\r\n        value={value}\r\n        iconPosition=\"left\"\r\n        icon=\"calendar\"\r\n        fluid={true}\r\n        type=\"text\"\r\n        placeholder='Select date..'\r\n        onClick={onClick} />\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('DateRange')} tooltip_text={Translate('DateRangeTooltip')}/>\r\n            </div>\r\n            <div>\r\n              <DatePicker\r\n                selected={startDate}\r\n                minDate={state.calendarStartDates.minDate}\r\n                maxDate={endDate}\r\n                customInput={<CustomInput value={startDate} text={Translate(\"StartDate\")} onClick={onclick} />}\r\n                closeOnScroll={true}\r\n                onChange={() => { }}\r\n                withPortal\r\n                showMonthDropdown\r\n                showYearDropdown\r\n                shouldCloseOnSelect={false}\r\n                dropdownMode=\"select\"\r\n                onSelect={(date: Date) => datePickerChanged(true, date)} \r\n              />\r\n            </div>\r\n            <div>\r\n              <DatePicker\r\n                className=\"col-12 p-0 date-picker\"\r\n                selected={endDate}\r\n                onSelect={(date: Date) => datePickerChanged(false, date)}\r\n                customInput={<CustomInput value={startDate} text={Translate(\"EndDate\")} onClick={onclick} />}\r\n                minDate={startDate}\r\n                maxDate={state.calendarStartDates.maxDate}\r\n                onChange={() => { }}\r\n                withPortal\r\n                showMonthDropdown\r\n                closeOnScroll={true}\r\n                shouldCloseOnSelect={false}\r\n                showYearDropdown\r\n                todayButton=\"Today\"\r\n                dropdownMode=\"select\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\"></div>\r\n        </div>\r\n    </div>\r\n  )\r\n}","import _ from \"lodash\";\r\n\r\nexport const toPascalCase = (str: string) => _.upperFirst(_.camelCase(str));","\r\nimport * as Countries from 'i18n-iso-countries';\r\nimport English from \"i18n-iso-countries/langs/en.json\";\r\nimport French from \"i18n-iso-countries/langs/fr.json\";\r\nimport { LeafletMouseEvent } from 'leaflet';\r\nimport React from 'react';\r\nimport { LanguageType, AggregatedRecord, EstimateGradePrevalence, RegionalPrevalenceEstimate } from \"../types\";\r\nimport { toPascalCase } from './translate/caseChanger';\r\nimport Translate from './translate/translateService';\r\n\r\nexport const getBuckets = (features: any) => {\r\n  if (!features)\r\n  {\r\n    return [0];\r\n  }\r\n  // This is some javascript voodoo to get maxSeroprevalence\r\n  const maxSeroprevalence = Math.max.apply(Math, features.filter((o : any) => o.properties?.seroprevalence).map((o : any) => o?.properties?.seroprevalence));\r\n  const roundedMax = Math.ceil(maxSeroprevalence);\r\n  const maxLogit = getLogit(roundedMax);\r\n\r\n  // This is an arbitrary value that I chose because on the logit scale\r\n  // as you decrease in size you approach infinity, not 0\r\n  const lowerEnd = -7;\r\n  const differenceScale = maxLogit - lowerEnd\r\n  const bucketSegments = 6\r\n  const step = differenceScale / bucketSegments;\r\n  const buckets = [0];\r\n  for (let x = 1; x <= 6; x++) {\r\n    const logitStep = parseFloat(getDecimalFromLogit(-7 + step * x).toFixed(1));\r\n    buckets.push(logitStep);\r\n  }\r\n  return buckets;\r\n}\r\n\r\nconst getLogit = (percentage: number) => {\r\n  const decimal = percentage / 100;\r\n  return Math.log(decimal) - Math.log(1 - decimal);\r\n}\r\n\r\nconst getDecimalFromLogit = (logit: number) => {\r\n  return Math.exp(logit) / (Math.exp(logit) + 1) * 100\r\n}\r\n\r\n\r\nexport const getMapUrl = (language: LanguageType) => {\r\n  return language === LanguageType.english ? 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token='\r\n    : 'https://api.mapbox.com/styles/v1/serotracker/ckis9oc3k0qg51anfziiqixam/tiles/512/{z}/{x}/{y}?access_token='\r\n}\r\n\r\nexport const colors = ['#76E57F', '#62CA7C', '#4FB079', '#3B9577', '#277A74', '#146071', '#00456E', \"#EEEEEE\"]\r\n\r\nexport const getColor = (d: number | null, buckets: number[]) => {\r\n  if (d === null) return colors[7];\r\n\r\n  return d < buckets[1] ? colors[0] :\r\n    d < buckets[2] ? colors[1] :\r\n      d < buckets[3] ? colors[2] :\r\n        d < buckets[4] ? colors[3] :\r\n          d < buckets[5] ? colors[4] :\r\n            d < buckets[6] ? colors[5] :\r\n              colors[6]\r\n}\r\n\r\nCountries.registerLocale(English);\r\nCountries.registerLocale(French);\r\n\r\nexport const getCountryName = (country: string, language: LanguageType, optionString: string) => {\r\n  const code = Countries.getAlpha2Code(country, 'en'); //TODO: Review our strategy for country name language localization\r\n  const translatedCountryName = Countries.getName(code, language);\r\n  const displayText = translatedCountryName ? translatedCountryName : (Translate(optionString, [toPascalCase(country)]) || country);\r\n  return displayText;\r\n}\r\n\r\n// This refers to the old map that displayed seroprevalences directly\r\nexport const style = (feature: GeoJSON.Feature<GeoJSON.Geometry, any> | undefined, buckets: number[]) => {\r\n  return {\r\n    fillColor: getColor(feature?.properties?.seroprevalence, buckets),\r\n    weight: 1,\r\n    opacity: 0,\r\n    color: 'white',\r\n    dashArray: '0',\r\n    fillOpacity: 0.7,\r\n    //zIndex: 0\r\n  }\r\n}\r\n\r\nexport const altStyle = (feature: GeoJSON.Feature<GeoJSON.Geometry, any> | undefined, buckets: number[]) => {\r\n  return {\r\n    fillColor: feature?.properties?.geographicalName ? colors[6] : colors[7],\r\n    weight: 1,\r\n    opacity: 0,\r\n    color: 'white',\r\n    dashArray: '0',\r\n    fillOpacity: 0,\r\n    //zIndex: 0\r\n  }\r\n}\r\n\r\nexport const highlightFeature = (e: LeafletMouseEvent) => {\r\n  const layer = e.target;\r\n  layer.setStyle({\r\n    weight: 5,\r\n    color: '#666',\r\n    dashArray: '',\r\n    fillOpacity: 0,\r\n    //zIndex: 200\r\n  });\r\n  layer.bringToBack();\r\n}\r\n\r\nexport const resetHighlightVectorFeature = (e: LeafletMouseEvent) => e.target.resetFeatureStyle(e.layer.properties.CODE);\r\n\r\nexport const resetHighlight = (e: LeafletMouseEvent) => {\r\n  const layer = e.target;\r\n  layer.setStyle({\r\n    weight: 2,\r\n    opacity: 1,\r\n    color: 'white',\r\n    dashArray: '',\r\n    fillOpacity: 0.7\r\n  });\r\n};\r\n\r\nconst createPopupGeographySection = (regionalEstimate: RegionalPrevalenceEstimate, title: string, isLastSection?: boolean) => {\r\n  const minString = `${(regionalEstimate.minEstimate * 100).toFixed(2)}%`\r\n  const maxString = `${(regionalEstimate.maxEstimate * 100).toFixed(2)}%`\r\n  const regionString = minString === maxString ? minString : `${minString} - ${maxString}`;\r\n\r\n  return (\r\n      <div key={Math.random()} className={\"flex fit column \" + (!isLastSection ? 'popup-heading ' : '')}>\r\n        <div key={Math.random()} className=\"popup-heading pt-1\">{title}</div>\r\n        <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('EstimateRange')}: <b>{regionString}</b></div>\r\n        <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('NumberEstimates')}: <b>{regionalEstimate.numEstimates}</b></div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport const createAltPopup = (country: any, language: LanguageType) => {\r\n\r\n  const properties = country?.properties\r\n\r\n  if (properties.testsAdministered) {\r\n    var regions: Array<any> = []\r\n    let addRegion = (r: RegionalPrevalenceEstimate, name: string) => {return (r !== undefined && r.numEstimates !== 0 ? regions.push([r,name]) : null)}\r\n    addRegion(properties.nationalEstimate,Translate('NationalEstimates'));\r\n    addRegion(properties.regionalEstimate,Translate('RegionalEstimates'));\r\n    addRegion(properties.localEstimate,Translate('LocalEstimates'));\r\n    addRegion(properties.sublocalEstimate,Translate('SublocalEstimates'));\r\n    var lastIndex = regions.length -1;\r\n\r\n    return (\r\n      <div className=\"col-12 p-0 flex column\">\r\n        <div className=\"fit popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\r\n        <div className=\"flex column fit popup-heading\">\r\n          <div className=\"fit popup-text\">{Translate(\"TestsAdministered\")}: <b>{properties?.testsAdministered}</b></div>\r\n          <div className=\"fit popup-text\">{Translate('NumSeroprevalenceEstimates')}: <b>{properties?.numberOfStudies}</b></div>\r\n        </div>\r\n        {regions.map((o,i) => createPopupGeographySection(o[0],o[1],i===lastIndex))}\r\n      </div>)\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 flex\">\r\n    <div className=\"col-12 p-0 popup-title\">{country.name}</div>\r\n    <div className=\"col-12 p-0 flex popup-text\">{Translate('NoData')}</div>\r\n    </div>)\r\n}\r\n\r\n\r\nexport const zoomToFeature = (e: LeafletMouseEvent, mapRef: any\r\n) => {\r\n  const map = mapRef?.current?.leafletElement\r\n  map?.fitBounds(e.target.getBounds());\r\n};\r\n\r\nexport const mapDataToFeatures = (features: GeoJSON.Feature[], prevalences: AggregatedRecord[]) => {\r\n  const prevalenceCountryDict: Record<string, AggregatedRecord> = prevalences.reduce((a: any, x: AggregatedRecord) => ({ ...a, [x.name]: x }), {});\r\n  return features.map(feature => {\r\n    const country = prevalenceCountryDict![feature?.properties?.name];\r\n    if (country && country.seroprevalence) {\r\n      const { seroprevalence, error, n, numStudies: num_studies } = country;\r\n      return { ...feature, properties: { ...feature.properties, seroprevalence, error, n, num_studies } }\r\n    }\r\n    return { ...feature, properties: { ...feature.properties, seroprevalence: null, error: null, n: null, num_studies: null } }\r\n  })\r\n}\r\n\r\nexport const mapAltDataToFeatures = (features: GeoJSON.Feature[], prevalences: EstimateGradePrevalence[]) => {\r\n  const prevalenceCountryDict: Record<string, EstimateGradePrevalence> = prevalences.reduce((a: any, x: EstimateGradePrevalence) => ({ ...a, [x.geographicalName]: x }), {});\r\n  return features.map(feature => {\r\n    const country: EstimateGradePrevalence = prevalenceCountryDict![feature?.properties?.name];\r\n    if (country && country.testsAdministered) {\r\n      const { testsAdministered, geographicalName, numberOfStudies, localEstimate, nationalEstimate, regionalEstimate, sublocalEstimate } = country;\r\n      return { ...feature, properties: { ...feature.properties, testsAdministered, geographicalName, numberOfStudies, localEstimate, nationalEstimate, regionalEstimate, sublocalEstimate } }\r\n    }\r\n    return { ...feature, properties: { ...feature.properties, testsAdministered: null, geographicalName: null, numberOfStudies: null, localEstimate: null, nationalEstimate: null, regionalEstimate: null, sublocalEstimate: null } }\r\n  })\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { AppContext } from \"../../../context\";\r\nimport { FilterType, PageState, State } from '../../../types';\r\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\r\nimport { getCountryName } from \"../../../utils/mapUtils\";\r\nimport { updateFilters } from \"../../../utils/stateUpdateUtils\";\r\nimport { toPascalCase } from \"../../../utils/translate/caseChanger\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport InformationIcon from \"../../shared/InformationIcon\";\r\nimport SectionHeader from \"./SectionHeader\";\r\n\r\ninterface FilterProps {\r\n  page: string\r\n}\r\n\r\nexport default function Filters({ page }: FilterProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  const getFilters = (filter_type: FilterType): string[] => {\r\n    return Array.from(pageState.filters[filter_type]) as string[]\r\n  }\r\n\r\n  const formatOptions = (options: any, filter_type: FilterType) => {\r\n    if (!options) {\r\n      return\r\n    }\r\n    const formatted_options: Record<string, string>[] = [];\r\n    const optionString = toPascalCase(filter_type.toString());\r\n    const jsonObjectString = `${optionString}Options`;\r\n    switch (filter_type) {\r\n      case 'country':\r\n        options.forEach((o: string) => {\r\n          formatted_options.push({\r\n            key: o,\r\n            text: getCountryName(o, state.language, jsonObjectString),\r\n            value: o\r\n          })\r\n        });\r\n        break;\r\n      default:\r\n        options.forEach((o: string) => {\r\n          const translatedString = Translate(jsonObjectString, [toPascalCase(o)]);\r\n          const alternativeString = Translate(jsonObjectString, [o.replace(/ /g, '')]);\r\n          let text = !alternativeString && !translatedString ? o + \"*\" : (translatedString ? translatedString : alternativeString);\r\n          formatted_options.push({\r\n            key: o,\r\n            text: text,\r\n            value: o\r\n          })\r\n        });\r\n    };\r\n    return formatted_options;\r\n  }\r\n\r\n  const addFilter = async (data: any, filterType: FilterType) => {\r\n    dispatch({\r\n      type: 'UPDATE_FILTER',\r\n      payload: {\r\n        filterType,\r\n        filterValue: data.value,\r\n        pageStateEnum: page\r\n      }\r\n    });\r\n    await updateFilters(\r\n      dispatch,\r\n      pageState.filters,\r\n      filterType,\r\n      data.value,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const buildFilterDropdown = (filter_type: FilterType, placeholder: string) => {\r\n    return (\r\n      <div className=\"pb-3\">\r\n        <Dropdown\r\n          text={placeholder}\r\n          fluid\r\n          multiple\r\n          search\r\n          clearable\r\n          selection\r\n          options={formatOptions(state.allFilterOptions[filter_type], filter_type)}\r\n          onChange={async (e: any, data: any) => {\r\n            await addFilter(data, filter_type)\r\n            sendAnalyticsEvent({\r\n              /** Typically the object that was interacted with (e.g. 'Video') */\r\n              category: 'Filter',\r\n              /** The type of interaction (e.g. 'play') */\r\n              action: 'selection',\r\n              /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n              label: `${filter_type.toString()} - ${data.value}`\r\n              /** A numeric value associated with the event (e.g. 42) */\r\n            })\r\n          }}\r\n          defaultValue={getFilters(filter_type)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0\">\r\n      <div className=\"py-3 center flex\">\r\n        <div className=\"section-title\">\r\n          {Translate(\"Filter\").toUpperCase()}\r\n        </div>\r\n        <div className=\"tooltip-vert-adj\">\r\n          <InformationIcon\r\n            offset={10}\r\n            position=\"bottom right\"\r\n            color=\"#455a64\"\r\n            tooltipHeader={Translate(\"Filter\")}\r\n            popupSize=\"small\"\r\n            size=\"sm\"\r\n            tooltip={Translate('FilterTooltip')} />\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Geography')} tooltip_text={Translate('GeographyTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('country', Translate('Country'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('estimate_grade', Translate('EstimateGrade'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              {\r\n                <SectionHeader \r\n                  header_text={Translate('StudyInformation')} \r\n                  tooltip_text={\r\n                  <div>\r\n                    <p>{Translate('StudyInformationTooltip', ['FirstParagraph'])}</p>\r\n                    <p>{Translate('StudyInformationTooltip', ['SecondParagraph'])}</p>\r\n                  </div>\r\n                  }\r\n                />\r\n              }\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('source_type', Translate('SourceType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('overall_risk_of_bias', Translate('OverallRiskOfBias'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Demographics')} tooltip_text={Translate('DemographicsTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('population_group', Translate('PopulationGroup'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('sex', Translate('Sex'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('age', Translate('Age'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('TestInformation')} tooltip_text={Translate('TestInformationTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('test_type', Translate('TestType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('isotypes_reported', Translate('IsotypesReported'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('specimen_type', Translate('SpecimenType'))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport './RightSidebar.css';\r\n\r\nexport default function LastUpdated() {\r\n  const [state] = useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"col-12 pb-2\">\r\n      <div className='col-12 p-0 center-item flex'>\r\n        <div className=\"section-title center last-refreshed-title\">\r\n        {Translate(\"DatabaseUptoDateTo\").toUpperCase()}\r\n        </div>\r\n      </div>\r\n      <div className=\"py-2 center\">\r\n        {state.updatedAt}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { faBars, faFilter, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../types\";\nimport Charts from \"../charts/Charts\";\nimport AnalysisMethods from \"../sidebar/left-sidebar/AnalysisMethods\";\nimport TotalStats from \"../sidebar/left-sidebar/TotalStats\";\nimport Datepicker from \"../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../sidebar/right-sidebar/Filters\";\nimport LastUpdated from \"../sidebar/right-sidebar/LastUpdated\";\n\nexport default function AnalyzeMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n\n  const handleFilterToggle = (showMobile: boolean, showSummary: boolean) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n  }\n\n  return (\n    <div className=\"fill flex\">\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        {/* Filters */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n          <Filters page={PageStateEnum.analyze}/>\n          <Datepicker page={PageStateEnum.analyze}/>\n          <LastUpdated />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        {/* Left Sidebar */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <TotalStats page={PageStateEnum.analyze}/>\n          <AnalysisMethods />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <Charts />\n          {/* Icons */}\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 15 }}>\n            <FontAwesomeIcon\n              icon={faFilter}\n              onClick={() => handleFilterToggle(!showMobileFilters, false)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 58 }}>\n            <FontAwesomeIcon\n              icon={faBars}\n              onClick={() => handleFilterToggle(false, !showSummary)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport './shared.scss';\nimport Translate from \"../../utils/translate/translateService\";\n\ninterface MaintenanceModalProps {\n    isOpen: boolean,\n    headerText: string // specifies if analysis or explore page\n  }\n\nexport default function MaintenanceModal(props: MaintenanceModalProps) {\n\n    const { isOpen, headerText } = props;\n\n    return (\n        <Modal\n          className=\"maintenance-modal\"\n          closeOnEscape={false}\n          closeOnDimmerClick={false}\n          open={isOpen}\n        >\n          <Modal.Header>{Translate(headerText)} {Translate('TemporaryMaintenance')}</Modal.Header>\n          <Modal.Content>\n            <p>{Translate('TemporaryMaintenanceDescription')}</p>\n          </Modal.Content>\n        </Modal>\n    );\n}\n","import React from \"react\";\r\nimport \"../sidebar.css\";\r\nimport AnalysisMethods from \"./AnalysisMethods\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport TotalStats from \"./TotalStats\";\r\nimport HealthAgencyLogo from '../../../assets/images/public-health-agency.png';\r\nimport UcalgaryLogo from '../../../assets/images/University-Of-Calgary-Logo.png';\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function LeftSidebar({ page }: SideBarProps) {\r\n\r\n  const ExploreText = () => (\r\n    <div className=\"analysis-methods\">\r\n      <div className=\"section-title py-2 center\">\r\n          {Translate('Welcome').toUpperCase()}\r\n      </div>\r\n      <p>\r\n          {Translate('ExploreBlurb', ['FirstParagraph'])}\r\n      </p>\r\n      <p>\r\n          {Translate('ExploreBlurb', ['SecondParagraph'])}\r\n      </p>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"sidebar-container flex\">\r\n      <TotalStats page={page}/>\r\n      {page === \"explore\" ? (\r\n        <ExploreText/>\r\n      ) : (\r\n        <AnalysisMethods />\r\n      )\r\n      }\r\n      <div className=\"m-3\">\r\n        <a href=\"https://www.covid19immunitytaskforce.ca/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" className=\"d-block mx-auto\" alt=\"COVID-19 Immunity Task Force Logo\" height=\"25\"></img>\r\n        </a>\r\n        <a href=\"https://www.canada.ca/en/public-health.html/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={HealthAgencyLogo} className=\"d-block mx-auto\" alt=\"Public Health Agency Logo\" height=\"25\"></img>\r\n        </a>\r\n        <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={UcalgaryLogo} className=\"d-block mx-auto\" alt=\"Centre for Health Informatics\" height=\"22\"></img>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport \"../sidebar.css\";\r\nimport Datepicker from \"./datepicker/Datepicker\";\r\nimport Filters from \"./Filters\";\r\nimport LastUpdated from \"./LastUpdated\";\r\nimport \"./RightSidebar.css\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function RightSidebar({page}: SideBarProps) {\r\n  return (\r\n    <div className=\"justify-content-between fill sidebar-container\">\r\n      <div className=\"filters-container mb-3\">\r\n        <Filters page={page}/>\r\n        <Datepicker page={page}/>\r\n      </div>\r\n      <div className=\"fill\">\r\n        <LastUpdated />\r\n        <div className=\"fill center-item flex\">\r\n          <Link className=\"p-1\" to=\"/PrivacyPolicy\">{Translate('PrivacyPolicy')}</Link>\r\n          <Link className=\"p-1\" to=\"/CookiePolicy\">{Translate('CookiePolicy')}</Link>\r\n          <Link className=\"p-1\" to=\"/TermsOfUse\">{Translate('TermsOfUse')}</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Loader } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { AppContext } from \"../../../context\";\nimport { PageStateEnum } from \"../../../types\";\nimport Charts from \"../../charts/Charts\";\nimport AnalyzeMobile from '../../mobile/AnalyzeMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport RightSidebar from \"../../sidebar/right-sidebar/RightSidebar\";\n\n\nexport default function Analyze() {\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n  const [state] = useContext(AppContext)\n\n  return (\n    <>\n      <div className=\"fill flex dashboard\">\n        {!isMobileDeviceOrTablet ?\n          (<div className=\"fill flex\">\n            <div className=\"col-2 p-0 flex\">\n              <LeftSidebar page={PageStateEnum.analyze} />\n            </div>\n            <div className=\"col-8 p-0 flex\">\n              <Loader indeterminate active={state.analyze.isLoading}></Loader>\n              <Charts />\n            </div>\n            <div className=\"col-2 p-0 flex\">\n              <RightSidebar page={PageStateEnum.analyze} />\n            </div>\n          </div>) :\n          (\n            <div className=\"fill flex\">\n              <AnalyzeMobile />\n            </div>\n          )}\n      </div >\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Analyze\"} />\n    </>\n  )\n}\n","import React, { useContext } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport { colors } from \"../../utils/mapUtils\";\r\nimport { AppContext } from \"../../context\";\r\nimport \"./Legend.css\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\n\r\nimport NationalPinIcon from \"../../assets/icons/national_pin.png\";\r\nimport RegionalPinIcon from \"../../assets/icons/regional_pin.png\";\r\nimport LocalPinIcon from \"../../assets/icons/local_pin.png\";\r\n\r\ninterface LegendProps {\r\n  buckets: number[]\r\n}\r\n\r\nexport default function Legend(props: LegendProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth })\r\n\r\n  // const labels = buckets.map((value, index) => {\r\n  //   if (index !== buckets.length) {\r\n  //     const from = value;\r\n  //     const to = buckets[index + 1]\r\n  //     // TODO: Check into passing in an array of colours instead of the getColor function\r\n  //     return (\r\n  //       <div className=\"bin flex\" key={Math.random()}>\r\n  //         <div className={isMobileDeviceOrTablet ? \"col-12 mobile-text p-0\" : \"col-12 p-0\"}>\r\n  //           {isMobileDeviceOrTablet ? `${from}%${to ? '' : \"+\"}` : `${from}%${to ? `- ${to}%` : \"+\"}`}</div>\r\n  //         <i className=\"col-12 p-0\" style={{ background: getColor(from, buckets) }}></i>\r\n  //       </div>\r\n  //     )\r\n  //   }\r\n  //   return null;\r\n  // })\r\n\r\n  const clickEstimatePinsCheckbox = (e: React.MouseEvent<HTMLElement>) => {\r\n    dispatch({ type: 'TOGGLE_ESTIMATE_PINS' })\r\n  }\r\n\r\n  return (\r\n    <div className={isMobileDeviceOrTablet ? \"info flex legend-mobile center-item\" : \"info flex legend center-item\"}>\r\n      <div className=\"flex legend-container\" key={Math.random()}>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\"><input type=\"checkbox\" checked={state.showEstimatePins} onClick={clickEstimatePinsCheckbox} /></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>Study pins</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\"><img src={NationalPinIcon} alt=\"national pin icon\" style={{ width: \"14px\", height: \"20px\"}}/></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"NationalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\"><img src={RegionalPinIcon} alt=\"regional pin icon\" style={{ width: \"14px\", height: \"20px\"}}/></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"RegionalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\"><img src={LocalPinIcon} alt=\"local pin icon\" style={{ width: \"14px\", height: \"20px\"}}/></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"LocalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\" style={{ background: colors[6] }}></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"CountryEstimatesExist\")}</p>\r\n        </div>\r\n      </div>\r\n      {/* {labels} */}\r\n      {/* <h4 className=\"legend-title p-0 middle\">{Translate('Seroprevalence')}\r\n        <span className=\"popup\">\r\n          <div className=\"popup-header\">{Translate(\"SeroprevalenceScale\")}</div>\r\n          <div className=\"popup-content\">{Translate(\"SeroprevalenceScaleTooltip\")}</div>\r\n        </span>\r\n      </h4> */}\r\n    </div>\r\n  )\r\n}\r\n","export const layerStyle = {\n    Land: {\n        weight: 0,\n        color: \"#ECEEEE\",\n        fillColor: \"#ECEEEE\",\n        opacity: 1\n    },\n    Ocean: {\n        weight: 1,\n        color: \"#d3dedc\",\n        fillColor: \"#d3dedc\",\n        opacity: 1\n    },\n    Countries: {\n        weight: 0,\n        color: \"#ECEEEE\",\n        fill: false\n    },\n    DISPUTED_BORDERS: {\n        dashArray: '4, 4',\n        color: \"#8d9996\"\n    },\n    DISPUTED_AREAS: {\n        fillColor: \"#DDDDDD\"\n    },\n    Default: {\n        color: \"#C1C1C1\",\n    },\n};\n\nexport const highlightStyles = {\n    default: {\n        weight: 1,\n        color: '#00456E',\n        fillOpacity: 0.7,\n        fill: true,\n    },\n    hovering: {\n        weight: 1.5,\n        color: '#00456E',\n        fillOpacity: 0.4,\n        fill: true,\n    },\n}","import { useEffect } from \"react\";\nimport { useMap } from \"react-leaflet\";\nimport L from 'leaflet';\nimport { layerStyle } from './MapStyle';\nimport httpClient from \"../../httpClient\";\nimport _ from \"lodash\";\n// eslint-disable-next-line no-unused-vars\nimport VectorGrid from \"leaflet.vectorgrid\";\n\n// Parser for Esri ArcGis styles for leaflet.\n// ArcGIS Vector labels do not work in the current version\nconst parseApiStyle = async (url) => {\n  const api = new httpClient()\n\n  // object to store layer descriptions\n  const vectorTileLayerStyles = {};\n\n  // get the actual JSON style file from the ArcGIS REST endpoint\n  const data = await api.httpGet(`${url}/resources/styles/root.json`, false);\n\n  // loop over the layers property specifically for the JSON style\n  data.layers.forEach(layer => {\n    \n    const layerName = layer[\"source-layer\"];\n    if (layer.type === \"line\") {\n      vectorTileLayerStyles[layerName] = {\n        weight: 1 ,\n        color: layer.paint[\"line-color\"],\n        fillColor: layer.paint[\"fill-color\"] || layerStyle.Default.color,\n        dashArray: layer.paint[\"line-dasharray\"]?.join() || undefined,\n        opacity: 1\n      };\n    } else if (layer.type === \"fill\") {\n      vectorTileLayerStyles[layerName] = {\n        weight: 0,\n        fillColor: layer.paint[\"fill-color\"] || layerStyle.Default.color,\n        fillOpacity: 1,\n        fill: true \n      };\n    } else if (layer.type === \"symbol\") {\n      vectorTileLayerStyles[layerName] = {\n        weight: 1,\n        color: layer.paint[\"text-color\"],\n      };\n    } else {\n      // if the layer type is not a line, make the layer transparent\n      vectorTileLayerStyles[layerName] = {\n        opacity: 0\n      };\n    }\n  });\n\n  return vectorTileLayerStyles\n};\n\nexport default function VectorTileLayer(props) {\n\n  const { url, fetchApiStyle, front, zIndex, style } = props;\n  const map = useMap();\n  \n  useEffect(() => {\n      (async function buildVectorTileLayer() {\n\n        let mappingStyle = style;\n        \n        if (fetchApiStyle)\n        {\n          const apiStyle = await parseApiStyle(url);\n\n          if (apiStyle)\n            mappingStyle = _.merge(apiStyle, style); // use styles from API but overwrite if found in mappingStyle\n        }\n        \n        const layer = L.vectorGrid.protobuf(`${url}/tile/{z}/{y}/{x}.pbf`, {\n          rendererFactory: L.canvas.tile,\n          attribution: '',\n          vectorTileLayerStyles: mappingStyle,\n          zIndex: zIndex\n        }\n        ).addTo(map);\n\n        if(front) \n        {\n          layer.bringToFront();\n        }\n\n        return; \n      })();\n  },[map])\n\n  return null;\n}\n","import { useEffect, useState } from \"react\";\nimport { useMap } from \"react-leaflet\";\nimport L from 'leaflet';\nimport { layerStyle, highlightStyles } from './MapStyle';\nimport { createAltPopup } from \"../../utils/mapUtils\"\nimport ReactDOMServer from 'react-dom/server';\n// eslint-disable-next-line no-unused-vars\nimport VectorGrid from \"leaflet.vectorgrid\";\n\nconst toggleCountrySelection = (e, layer, highlightStyle) => {\n  // only change selection style on countries that have seroprev data\n  const layerStyle = layer._overriddenStyles[e.layer.properties.CODE]; //TODO: refactor this kinda ugly\n\n  if (layerStyle)\n    layer.setFeatureStyle(e.layer.properties.CODE, highlightStyle);\n}\n\nexport default function CountriesTileLayer(props) {\n\n  const { url, mapRecords, zIndex } = props;\n  const map = useMap();\n  const [layer, setLayer] = useState(undefined);\n\n  useEffect(() => {\n    const vectorGridLayer = L.vectorGrid.protobuf(`${url}/tile/{z}/{y}/{x}.pbf`, {\n      rendererFactory: L.svg.tile,\n      attribution: '',\n      interactive: true,\n      vectorTileLayerStyles: layerStyle,\n      minZoom: 1,\n      minNativeZoom: 3,\n      getFeatureId: (feature) => feature.properties.CODE,\n      zIndex: zIndex\n    }\n    ).addTo(map);\n\n    setLayer(vectorGridLayer);\n  },[map, url, zIndex])\n\n  useEffect(() => {\n    if (layer)\n    {\n      mapRecords.forEach(element => {\n        if (element.properties.testsAdministered != null)\n        {\n          layer.setFeatureStyle(element.alpha3Code, {\n            weight: 1,\n            color: '#00456E',\n            dashArray: '',\n            fillOpacity: 0.7,\n            fill: true ,\n            zIndex: 200\n          });\n        }\n        else\n        {\n          layer.resetFeatureStyle(element.alpha3Code);\n        }\n      });\n\n      layer.on({\n        mouseover: (e) => {\n          const pop = layer.getPopup()\n          if(pop)\n          {\n            layer.openPopup(e.latlng);\n            const country = mapRecords.find(x => x.alpha3Code === e.sourceTarget.properties.CODE)\n            if (country) {\n              pop.setContent(ReactDOMServer.renderToString(createAltPopup(country,'en')));\n            }\n          }\n\n          toggleCountrySelection(e, e.target, highlightStyles.hovering)\n        },\n        mouseout: (e) => {\n          if(layer.getPopup())\n          {\n            layer.closePopup();\n          }\n\n          toggleCountrySelection(e, e.target, highlightStyles.default)\n        },\n        mousemove: (e) => {\n          const pop = layer.getPopup()\n          if(pop && e.latlng)\n          {\n            pop.setLatLng(e.latlng)\n          }\n        },\n        })\n\n        layer.bindPopup(ReactDOMServer.renderToString(null), { closeButton: false, autoPan: false });\n    }\n  },[mapRecords, layer])\n\n  return null;\n}\n","import { latLngBounds, icon } from \"leaflet\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Marker, Popup, MapContainer, TileLayer } from \"react-leaflet\";\nimport { AppContext } from \"../../context\";\nimport { getBuckets, getMapUrl } from \"../../utils/mapUtils\";\nimport Legend from \"./Legend\";\nimport './Map.css';\nimport VectorTileLayer from './VectorTileLayer.js';\nimport CountriesTileLayer from \"./CountriesTileLayer\"\nimport { layerStyle } from './MapStyle';\nimport { mapZIndex } from './../../constants'\nimport Translate from \"../../utils/translate/translateService\";\nimport { getGeography, getPossibleNullDateString } from \"../../utils/utils\";\n\nexport default function Map() {\n  const [state] = useContext(AppContext);\n  const [mapRecords, setMapRecords] = useState(state.countries as any);\n  const buckets = getBuckets(mapRecords);\n\n  useEffect(() => {\n    if(state.explore.estimateGradePrevalences.length > 0){\n      const countriesData = state.countries.map( (country : any) => {\n        const countryEstimate = state.explore.estimateGradePrevalences.find(element => element.alpha3Code === country.alpha3Code);\n\n        if (countryEstimate && countryEstimate.testsAdministered) {\n          const { testsAdministered, geographicalName, numberOfStudies, localEstimate, nationalEstimate, regionalEstimate, sublocalEstimate } = countryEstimate;\n          return { ...country, properties: { testsAdministered, geographicalName, numberOfStudies, localEstimate, nationalEstimate, regionalEstimate, sublocalEstimate }}\n        }\n        return { ...country, properties: { testsAdministered: null, geographicalName: null, numberOfStudies: null, localEstimate: null, nationalEstimate: null, regionalEstimate: null, sublocalEstimate: null } }\n      })\n      setMapRecords(countriesData);\n    }\n  }, [state.explore.estimateGradePrevalences, state.countries])\n\n  const bounds = latLngBounds([-90, -200], [90, 180]);\n  const maxBounds = latLngBounds([-90, -200], [90, 200]);\n\n  const mapboxAccessToken = process.env.REACT_APP_MAPBOX_API_KEY;\n\n  // Definitions of the marker fields: \n  //  iconSize: size of the icon\n  //  iconAnchor: point of the icon which will correspond to marker's location\n  //  popupAnchor: point from which the popup should open relative to the iconAnchor\n  const nationalMarker = icon({ \n    iconUrl: require('../../assets/icons/national_pin.png'), \n    iconSize: [28, 40],\n    iconAnchor: [14, 40],\n    popupAnchor: [0, -30]\n  })\n\n  const regionalMarker = icon({ \n    iconUrl: require('../../assets/icons/regional_pin.png'), \n    iconSize: [21, 30],\n    iconAnchor: [10.5, 30],\n    popupAnchor: [0, -20]\n  })\n\n  const localMarker = icon({ \n    iconUrl: require('../../assets/icons/local_pin.png'), \n    iconSize: [14, 20],\n    iconAnchor: [7, 20],\n    popupAnchor: [0, -10]\n  })\n\n  return (\n    <MapContainer\n      center={bounds.getCenter()}\n      zoom={3}\n      className=\"map w-100\"\n      bounceAtZoomLimits={true}\n      bounds={bounds}\n      minZoom={3}\n      maxBounds={maxBounds}\n      maxBoundsViscosity={1}\n    >\n\n      <CountriesTileLayer\n        url=\"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/Countries/VectorTileServer\"\n        mapRecords={mapRecords}\n        zIndex={mapZIndex.CountriesTileLayer}\n      />\n\n      <VectorTileLayer \n        url=\"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_no_labels/VectorTileServer\"\n        style={layerStyle}\n        fetchApiStyle\n      />\n\n      <VectorTileLayer \n        url=\"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_Disputed_Areas_and_Borders_VTP/VectorTileServer\"\n        zIndex={mapZIndex.DisputedAreasAndBorders}\n        fetchApiStyle\n        style={layerStyle}\n        front\n      />\n\n      <Legend buckets={buckets} />\n\n      <TileLayer\n        ref={(tl : any) => tl?.bringToFront()}\n        url={getMapUrl(state.language) + mapboxAccessToken}\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        tileSize={512}\n        id={'serotracker/ckis9n3mt0qkg19o0q03wkg84'}\n        zoomOffset={-1}\n        zIndex={mapZIndex.Labels}\n      />\n      {state.showEstimatePins && state.explore.records.map((record, idx) => \n        {\n          if(record.pin_latitude && record.pin_longitude){\n            return (\n              <Marker \n                eventHandlers={{\n                  click: (e) => {\n                    (e.target as any).openPopup();\n                  },\n                }}\n                icon={record.estimate_grade === \"National\" ? nationalMarker : (record.estimate_grade === \"Regional\" ? regionalMarker : localMarker)}\n                key={`marker-${idx}`} \n                position={[record.pin_latitude, record.pin_longitude]}\n              >\n                <Popup autoClose={false} className=\"pin-popup\">\n                  <div className=\"popup-title\">\n                    {`${record.estimate_grade} study details`}\n                  </div>\n                  <div className=\"popup-heading\">\n                    Study name\n                  </div>\n                  <div className=\"popup-text\">\n                    {`${record.source_name}`}\n                  </div>\n                  <div className=\"popup-heading\">\n                    Location\n                  </div>\n                  <div className=\"popup-text\">\n                    { getGeography(record.city, record.state, record.country) }\n                  </div>\n                  { (record.sampling_start_date && record.sampling_end_date) &&\n                    <React.Fragment>\n                      <div className=\"popup-heading\">\n                        Sampling dates\n                      </div>\n                      <div className=\"popup-text\">\n                        { `${getPossibleNullDateString(record.sampling_start_date)}  ${getPossibleNullDateString(record.sampling_end_date)}` }\n                      </div>\n                    </React.Fragment>\n                  }\n                  <div className=\"popup-heading\">\n                    Best seroprevalence (SP) estimate\n                  </div>\n                  <div className=\"popup-text\">\n                    {record.seroprevalence ? `${(record.seroprevalence * 100).toFixed(1)}%` : \"N/A\"}\n                  </div>\n                  <div className=\"popup-heading\">\n                    N\n                  </div>\n                  <div className=\"popup-text\">\n                    {`${record.denominator}`}\n                  </div>\n                  <div className=\"popup-heading\">\n                    Population group\n                  </div>\n                  <div className=\"popup-text\">\n                    {record.population_group ? `${record.population_group}` : Translate(\"NotReported\")}\n                  </div>\n                  <div className=\"popup-heading\">\n                    Risk of Bias\n                  </div>\n                  <div className=\"popup-text\">\n                    {`${record.overall_risk_of_bias}`}\n                  </div>\n                </Popup>\n              </Marker>\n            )\n          }\n        }\n      )}\n    </MapContainer>\n  );\n}\n","import { faBars, faFilter, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {  useState } from \"react\";\nimport { Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../types\";\nimport Map from '../map/Map';\nimport AnalysisMethods from \"../sidebar/left-sidebar/AnalysisMethods\";\nimport TotalStats from \"../sidebar/left-sidebar/TotalStats\";\nimport Datepicker from \"../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../sidebar/right-sidebar/Filters\";\nimport LastUpdated from \"../sidebar/right-sidebar/LastUpdated\";\n\n\nexport default function ExploreMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n  const handleFilterToggle = (showMobile: boolean, showSummary: boolean) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n  }\n\n  return (\n    <div className=\"fill flex\">\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        {/* Filters */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n        <Filters page={PageStateEnum.explore}/>\n        <Datepicker page={PageStateEnum.explore}/>\n          <LastUpdated />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        {/* Left Sidebar */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <TotalStats page={PageStateEnum.explore}/>\n          <AnalysisMethods />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <Map />\n          {/* Icons */}\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 15 }}>\n            <FontAwesomeIcon\n              icon={faFilter}\n              onClick={() => handleFilterToggle(!showMobileFilters, false)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 58 }}>\n            <FontAwesomeIcon\n              icon={faBars}\n              onClick={() => handleFilterToggle(false, !showSummary)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React , { useContext, useEffect } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Loader } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { AppContext } from \"../../../context\";\nimport { PageStateEnum } from \"../../../types\";\nimport Map from '../../map/Map';\nimport MobileComponents from '../../mobile/ExploreMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport RightSidebar from \"../../sidebar/right-sidebar/RightSidebar\";\n\nexport default function Explore() {\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n  const [state, dispatch] = useContext(AppContext)\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_EXPLORE_IS_OPEN\",\n      payload: true\n    })\n    return () => {\n      dispatch({\n        type: \"UPDATE_EXPLORE_IS_OPEN\",\n        payload: false\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <div className=\"fill flex dashboard\">\n        {!isMobileDeviceOrTablet ?\n          (<div className=\"fill flex\">\n            <div className=\"col-2 p-0 flex\">\n              <LeftSidebar page={PageStateEnum.explore} />\n            </div>\n            <div className=\"col-8 p-0 flex\">\n              <Loader indeterminate active={state.explore.isLoading}></Loader>\n              <Map />\n            </div>\n            <div className=\"col-2 p-0 flex\">\n              <RightSidebar page={PageStateEnum.explore} />\n            </div>\n          </div>) :\n          (\n            <div className=\"fill flex\">\n              <MobileComponents />\n            </div>\n          )}\n      </div >\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Explore\"} />\n    </>\n  )\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { getEmptyFilters } from \"../../context\";\nimport httpClient from \"../../httpClient\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport Translate from \"../../utils/translate/translateService\";\nimport StudiesTable from \"../shared/StudiesTable\";\nimport './static.css';\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\n\nexport default function Data() {\n    const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n    const [allRecords, setAllRecords] = useState([])\n\n    useEffect(() => {\n        getAllRecords()\n    }, [])\n\n    const clickLink = (link: string) => {\n        sendAnalyticsEvent({\n            category: 'Data Link Click',\n            action: 'click',\n            label: link\n        })\n    }\n\n    const getAllRecords = async () => {\n        const api = new httpClient()\n        // TODO: Figure out a better place to put this so we don't keep updating this either \n        const res = await api.getAirtableRecords(getEmptyFilters());\n        setAllRecords(res)\n    }\n\n    return (\n        <>\n            <div className=\"col-12 page\">\n                <div className={isMobileDeviceOrTablet ? \"pb-5\" : \"static-content pb-5\"}>\n                    <h1>\n                        {Translate('Methods')}\n                    </h1>\n                    <p>\n                        {Translate('MethodsText', ['FirstParagraph'])}\n                    </p>\n                    <p>\n                        {Translate('MethodsText', ['SecondParagraphPartOne'])}\n                        <a target=\"_blank\" onClick={() => clickLink('Methods')} rel=\"noopener noreferrer\" href=\"https://docs.google.com/document/d/1NYpszkr-u__aZspFDFa_fa4VBzjAAAAxNxM1rZ1txWU/edit?usp=sharing\">{Translate('Here', null, null, [true, false]).toLocaleLowerCase()}.</a>\n                        {Translate('MethodsText', ['SecondParagraphPartTwo'], null, [true, false])}\n                        <a rel=\"noopener noreferrer\" onClick={() => clickLink('Study Submission')} target=\"_blank\" href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\">{Translate('ThisForm', null, null, [true, false]).toLowerCase()}</a>.\n                    </p>\n                    <h1>\n                        {Translate('ManuscriptAndPreprint')}\n                    </h1>\n                    <p>\n                        {Translate('PaperText', null, null, [false, true])}<a target=\"_blank\" onClick={() => clickLink('MedRXIV')} rel=\"noopener noreferrer\" href=\"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\">medRxiv</a>.\n                    </p>\n                    <p>\n                        {Translate('PaperTextTwo', null, null, [false, true])}<a target=\"_blank\" onClick={() => clickLink('LancetID')} rel=\"noopener noreferrer\" href=\"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"><i>{Translate('LancetID')}</i></a>.\n                    </p>\n                    <h1>\n                        {Translate('OurData')}\n                    </h1>\n                    <p>\n                        {Translate('OurDataText', ['Text'])}\n                    </p>\n\n                    <StudiesTable dataRecords={allRecords} showAllStudies={false}></StudiesTable>\n\n                    <div className=\"d-flex d-flex justify-content-center\">\n                        <span>{Translate('UseOfData', null, null, [false, true])}</span>\n                        <Link className=\"px-1\" to=\"/TermsOfUse\">{Translate('TermsOfUse')}</Link>\n                    </div>\n                </div>\n            </div>\n            <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Data\"} />\n        </>\n    )\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\n\r\ninterface InsightsCardProps {\r\n  identifier: string,\r\n  date: string,\r\n  title: string,\r\n  img: string,\r\n  url: string,\r\n  italicize?: string\r\n}\r\n\r\n\r\nexport default function InsightsCard(props: InsightsCardProps) {\r\n  return (\r\n    <div className=\"flex card column insights-card\">\r\n      <div className=\"flex space-between pb-1\">\r\n        <div className=\"section-title insights-card-identifier\">\r\n          {props.identifier.toUpperCase()}\r\n        </div>\r\n        <div className=\"insights-card-date\">\r\n          {props.date}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex center-item insights-card-image\">\r\n        <img src={props.img} alt=\"\" className=\"fit insights-card-image\"></img>\r\n        <a href={props.url}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"overlay flex\">\r\n          <div className=\"insights-card-image-overlay flex fill center-item column\">\r\n            <div>{Translate('ViewFile')}</div>\r\n            <div className=\"flex center-item\">\r\n              <FontAwesomeIcon\r\n                icon={faFile}\r\n                className={'icon'}\r\n                color={'white'}\r\n                size={\"lg\"} />\r\n\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>\r\n      <div className=\"fit insights-card-title\">\r\n        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"\">\r\n          {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{props.title}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\r\nimport InsightsCard from \"./InsightsCard\";\r\nimport './styles.scss';\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport October2020Update from '../../../assets/images/October2020Update.png';\r\nimport September2020Update from '../../../assets/images/September2020Update.png'\r\nimport MedRxivPub from '../../../assets/images/MedRXIV.jpg'\r\nimport July2020Update from '../../../assets/images/IndustryUpdateJuly_2020.png'\r\nimport June2020Update from '../../../assets/images/IndustryUpdateJune_2020.png'\r\nimport August2020Update from '../../../assets/images/August2020Update.png'\r\nimport May2020Update from '../../../assets/images/IndustryUpdateMay_2020.png'\r\nimport PreprintUpdate from '../../../assets/images/IndustryUpdatePre_2020.png'\r\nimport BloodBank from '../../../assets/images/SeroTrackerBloodBank_July_2020.png'\r\nimport MedRxiv from '../../../assets/images/Prepublication.png'\r\nimport LancetId from '../../../assets/images/LancetIDArticle.png'\r\n\r\nexport default function Insights() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container\" : \"policy-container static-content\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('Insights')}\r\n        </h1>\r\n        <h3 className=\"normal\">\r\n          {Translate('ReportsAndArticles').toUpperCase()}\r\n        </h3>\r\n        <div className=\"flex insights-article-container\">\r\n        <div className=\"col-sm-12 col-lg-6 py-2\">\r\n          <InsightsCard\r\n            identifier={Translate(\"ResearchArticle\")}\r\n            date={\"November 18, 2020\"}\r\n            img={MedRxivPub}\r\n            title={Translate('IndustryReportTitles', ['MedRxivPub'])}\r\n            url=\"https://www.medrxiv.org/content/10.1101/2020.11.17.20233460v2.full\"/>\r\n        </div>\r\n        <div className=\"col-sm-12 col-lg-6 py-2\">\r\n          <InsightsCard\r\n            identifier={Translate(\"Report\")}\r\n            date={\"November 13, 2020\"}\r\n            img={October2020Update}\r\n            title={Translate('IndustryReportTitles', ['OctoberReport'])}\r\n            url=\"https://drive.google.com/file/d/1aCgxzxv9J5Zvh4EVyI5REmSVgWLQ_Ip3/view?usp=sharing\" />\r\n        </div>\r\n        <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"October 12, 2020\"}\r\n              img={September2020Update}\r\n              title={Translate('IndustryReportTitles', ['SeptemberReport'])}\r\n              url=\"https://drive.google.com/file/d/1CjMcs7UZzu4_E_QFJVYZdv0QhyfoNMAe/view?usp=sharing\"/>\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"September 9, 2020\"}\r\n              img={August2020Update}\r\n              title={Translate('IndustryReportTitles', ['AugustReport'])}\r\n              url=\"https://drive.google.com/file/d/1m7BlfUKCYs32_D1jnFUEQHPr3Qjg5Eyt/view?usp=sharing\"/>\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"August 7, 2020\"}\r\n              img={July2020Update}\r\n              title={Translate('IndustryReportTitles', ['JulyReport'])}\r\n              url=\"https://drive.google.com/file/d/1Rx3i_Sy01suu-ZZYV7LRpo2KEclbXCNN/view?usp=sharing\"/>\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"ResearchArticle\")}\r\n              date={\"August 4, 2020\"}\r\n              img={LancetId}\r\n              italicize=\"Lancet ID\"\r\n              title={Translate('IndustryReportTitles', ['LancetID'])}\r\n              url=\"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\" />\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"July 22, 2020\"}\r\n              img={BloodBank}\r\n              title=\"SeroTracker Blood Bank Seroprevalence Preliminary Report\"\r\n              url=\"https://drive.google.com/file/d/1It2CzAwEfTcQ1zIC6z2fO7i7XEfmWfom/view?usp=sharing\" />\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"July 12, 2020\"}\r\n              img={June2020Update}\r\n              title={Translate('IndustryReportTitles', ['JuneReport'])}\r\n              url=\"https://drive.google.com/file/d/1h8QSrnyA3LfBbwWpqMHNgXsoMyngAw13/view\" />\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"June 10, 2020\"}\r\n              img={May2020Update}\r\n              title={Translate('IndustryReportTitles', ['MayReport'])}\r\n              url=\"https://drive.google.com/file/d/16pCR-zh1UiWjQFhTDxW_2adSGuq0pCgz/view?usp=sharing\" />\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"Report\")}\r\n              date={\"May 19, 2020\"}\r\n              img={PreprintUpdate}\r\n              title={Translate('IndustryReportTitles', ['PreliminaryReport'])}\r\n              url=\"https://drive.google.com/file/d/1I1gY1lZndwp4_eUqoZviU8L2_izmkmQP/view?usp=sharing\" />\r\n          </div>\r\n          <div className=\"col-sm-12 col-lg-6 py-2\">\r\n            <InsightsCard\r\n              identifier={Translate(\"ResearchArticle\")}\r\n              date={\"May 14, 2020\"}\r\n              img={MedRxiv}\r\n              title={Translate('IndustryReportTitles', ['PrePrint'])}\r\n              url=\"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function PrivacyPolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page \">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('PrivacyPolicy')}\r\n        </h1>\r\n        <iframe title=\"PrivacyPolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/796fdf5d-ba75-4a21-9e54-4360f4fc9ccc\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function TermsOfUse() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('TermsOfUse')}\r\n        </h1>\r\n        <div className=\"col-12 p-0 fit\">\r\n          {Translate('DisclaimerBody')}\r\n        </div>\r\n\r\n        <h3 className=\"col-12 p-0 fit\">\r\n          {Translate('DisclaimerListHeader')}\r\n        </h3>\r\n        <ol>\r\n          <li>\r\n            {Translate('DisclaimerList1')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList2')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList3')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList4')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList5')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList6')}\r\n          </li>\r\n        </ol>\r\n        <div>\r\n          {Translate('DisclaimerFooter')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { AppContext } from '../../context'\r\nimport Translate from '../../utils/translate/translateService'\r\nimport \"./shared.scss\"\r\n\r\nexport const CookieBanner = () => {\r\n  const [state, dispatch] = useContext(AppContext)\r\n\r\n  const acceptCookes = () => {\r\n    localStorage.setItem('acceptedCookies', 'true');\r\n    dispatch({ type: 'CLOSE_COOKIE_BANNER' })\r\n  }\r\n\r\n  if (!localStorage.getItem('acceptedCookies') && !state.showCookieBanner) {\r\n    dispatch({ type: 'OPEN_COOKIE_BANNER' })\r\n  }\r\n\r\n  return (\r\n    state.showCookieBanner ?\r\n      <div className=\"cookie-banner flex\">\r\n        <div className=\"fill flex center-item\">\r\n          <div className=\"col-md-6 p-3 flex column\">\r\n            <div>\r\n              {Translate('CookiePolicyBody', null, null, [false, true])}\r\n              <Link to=\"/CookiePolicy\">{Translate('CookiePolicy')}</Link>\r\n            </div>\r\n            <div className=\"flex right\">\r\n              <Button color=\"blue\" onClick={acceptCookes}>{Translate('Accept')}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : null\r\n  )\r\n}","import { faFileAlt, faGlobeAmericas, faUsers, faTable, faChartBar} from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport React, { useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link, useLocation } from 'react-router-dom'\nimport MultiColorIcon from '../../assets/images/colored-icon.svg'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport Translate from '../../utils/translate/translateService'\n\n\nexport const NavBar = () => {\n  const [tab, setTab] = useState(\"\");\n\n  const getTabClass = (tabName: string) => {\n    const style = tabName === tab ? 'bold col-auto h-100 flex center-item' : 'regular col-auto h-100 flex center-item';\n    return isMobileDeviceOrTablet ? style.concat(\" px-1\") : style;\n  }\n\n  const usePageViews = () => {\n    let location = useLocation();\n    useEffect(() => {\n      setTab(location.pathname)\n    }, [location]);\n  }\n\n  usePageViews()\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n  return (\n    <header className=\"App-header col-12 px-sm-2\">\n      <div className=\"App-title col-auto py-3 px-0 flex left\">\n        <Link to=\"/\" className=\"flex\">\n          <img src={MultiColorIcon} width={23} height={23} alt=\"\" />\n          <div className=\"col-auto px-2\" >SeroTracker</div>\n        </Link>\n      </div>\n      <div className=\"App-tabs h-100 p-0 col-auto space-evenly\">\n        <div className={getTabClass('/Explore')}>\n          <Link to=\"/Explore\">\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faGlobeAmericas} size=\"lg\" /> :\n              Translate('Explore')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Analyze')}>\n          <Link to=\"/Analyze\">\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faChartBar} size=\"lg\" /> :\n              Translate('Analyze')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Data')}>\n          <Link to=\"/Data\">\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faTable} size=\"lg\" /> :\n              Translate('Data')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Insights')}>\n          <Link to=\"/Insights\">\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faFileAlt} size=\"lg\" /> :\n              Translate('Insights')}\n          </Link>\n        </div>\n        <div className={getTabClass('/About')}>\n          <Link to=\"/About\">\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faUsers} size=\"lg\" /> :\n              Translate('About')}\n          </Link>\n        </div>\n        {/* <div className={getTabClass('')}>\n          <Settings />\n        </div> */}\n      </div>\n    </header >\n  )\n}","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport About from './components/pages/About';\nimport CookiePolicy from \"./components/pages/CookiePolicy\";\nimport Analyze from \"./components/pages/Dashboard/Analyze\";\nimport Explore from \"./components/pages/Dashboard/Explore\";\nimport Data from './components/pages/Data';\nimport Insights from \"./components/pages/insights/Insights\";\nimport PrivacyPolicy from './components/pages/PrivacyPolicy';\nimport TermsOfUse from \"./components/pages/TermsOfUse\";\nimport { CookieBanner } from \"./components/shared/CookieBanner\";\nimport { NavBar } from \"./components/shared/NavBar\";\nimport { AppContext } from \"./context\";\nimport httpClient from \"./httpClient\";\nimport { PageStateEnum } from \"./types\";\nimport { initializeData } from \"./utils/stateUpdateUtils\";\nimport { setLanguageType } from \"./utils/translate/translateService\";\n\nfunction App() {\n  const [{ language, explore, analyze }, dispatch] = useContext(AppContext);\n  setLanguageType(language);\n\n  useEffect(() => {\n    const api = new httpClient()\n    initializeData(dispatch, explore.filters,true, PageStateEnum.explore)\n    initializeData(dispatch, analyze.filters,false, PageStateEnum.analyze)\n    const allFilterOptions = async () => {\n      const { options, updatedAt, maxDate, minDate } = await api.getAllFilterOptions();\n      dispatch({\n        type: 'GET_ALL_FILTER_OPTIONS',\n        payload: options\n      })\n\n      dispatch({\n        type: \"UPDATED_AT\",\n        payload: updatedAt\n      })\n\n      dispatch({\n        type: \"MAX_MIN_DATES\",\n        payload: { maxDate, minDate }\n      })\n    }\n    \n    allFilterOptions();\n    // We only want this to run once so we pass no dependencies. Do not remove this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // pulls from ISO api to get standardized country names, codes and translations\n  useEffect(() => {    \n    const updateCountriesJson = async () => {\n      const api = new httpClient()\n      const countriesJson = await api.httpGet(\"https://restcountries.eu/rest/v2/\", false);\n      dispatch({\n        type: 'UPDATE_COUNTRIES_JSON',\n        payload: countriesJson\n      });\n    }\n    updateCountriesJson();\n  }, [dispatch])\n\n  useEffect(() => {\n    const alreadyAcceptedCookes = localStorage.getItem('acceptedCookies');\n    if (alreadyAcceptedCookes) {\n      dispatch({\n        type: 'ACCEPT_COOKIES'\n      });\n    }\n    const handleResize = () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n    window.addEventListener('resize', handleResize)\n\n    handleResize();\n  }, [dispatch])\n\n  // ROUTING TABS\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <CookieBanner />\n      <Switch >\n        <Route path=\"/About\">\n          <About />\n        </Route>\n        <Route path=\"/Explore\">\n          <Explore />\n        </Route>\n        <Route path=\"/Dashboard\">\n          <Redirect to=\"/Explore\" />\n        </Route>\n        <Route path=\"/Analyze\">\n          <Analyze />\n        </Route>\n        <Route path=\"/Data\">\n          <Data />\n        </Route>\n        <Route path=\"/PrivacyPolicy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/CookiePolicy\">\n          <CookiePolicy />\n        </Route>\n        <Route path=\"/TermsOfUse\">\n          <TermsOfUse />\n        </Route>\n        <Route path=\"/Insights\">\n          <Insights />\n        </Route>\n        <Redirect exact from=\"/\" to=\"/Explore\" />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from './App';\nimport { AppContextProvider } from './context';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport GAListener from './utils/analyticsUtils';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <AppContextProvider>\n        <GAListener trackingId={process.env.REACT_APP_GA_TRACKERID}>\n          <App />\n        </GAListener>\n      </AppContextProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}