{"version":3,"sources":["assets/images/public-health-agency.png","assets/images/University-Of-Calgary-Logo.png","assets/images/YearInReview2020.png","assets/images/October2020Update.png","assets/images/September2020Update.png","assets/images/MedRXIV.jpg","assets/images/IndustryUpdateJuly_2020.png","assets/images/IndustryUpdateJune_2020.png","assets/images/August2020Update.png","assets/images/IndustryUpdateMay_2020.png","assets/images/IndustryUpdatePre_2020.png","assets/images/SeroTrackerBloodBank_July_2020.png","assets/images/Prepublication.png","assets/images/LancetIDArticle.png","assets/images/colored-icon.svg","types.ts","utils/translate/caseChanger.ts","utils/utils.tsx","utils/translate/translateService.ts","utils/analyticsUtils.tsx","components/pages/About.tsx","constants.ts","components/pages/CookiePolicy.tsx","context.tsx","httpClient.ts","components/shared/InformationIcon.tsx","components/charts/StudyDetailsModal.tsx","components/charts/ReferencesSearch.tsx","components/shared/StudiesTable.tsx","components/charts/ReferencesTable.tsx","components/charts/Charts.tsx","components/shared/InformationText.tsx","components/sidebar/left-sidebar/AnalysisMethods.tsx","components/sidebar/left-sidebar/TotalStats.tsx","utils/stateUpdateUtils.tsx","components/sidebar/right-sidebar/SectionHeader.tsx","components/sidebar/right-sidebar/datepicker/Datepicker.tsx","components/sidebar/right-sidebar/Filters.tsx","components/sidebar/right-sidebar/LastUpdated.tsx","components/mobile/AnalyzeMobile.tsx","components/shared/MaintenanceModal.tsx","components/sidebar/left-sidebar/LeftSidebar.tsx","components/sidebar/right-sidebar/RightSidebar.tsx","components/pages/Dashboard/Analyze.tsx","components/map/MapConfig.ts","utils/EsriMappingUtil.tsx","components/map/Legend.tsx","components/map/Popups/CountryPopup.tsx","components/map/Layers/Countries.tsx","utils/GeoJsonGenerator.tsx","components/map/Layers/StudyPins.tsx","components/map/Popups/StudyPopup.tsx","components/map/MapboxMap.tsx","components/mobile/ExploreMobile.tsx","components/pages/Dashboard/Explore.tsx","components/pages/Data.tsx","components/pages/insights/InsightsCard.tsx","components/pages/insights/InsightsConstants.ts","components/pages/insights/Insights.tsx","components/pages/PrivacyPolicy.tsx","components/pages/TermsOfUse.tsx","components/shared/CookieBanner.tsx","components/shared/NavBar.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","LanguageType","PageStateEnum","AggregationFactor","toPascalCase","str","_","upperFirst","camelCase","language","english","formatDates","dates","endDate","formatISO","Date","startDate","add","years","dateList","Array","from","getPossibleNullString","nullString","undefined","Translate","getPossibleNullDateString","format","parseISO","getPossibleNullStringArray","join","getGeography","city","state","country","renderOutGeography","geo","length","filter","Boolean","map","Fragment","withLocaleUrl","path","Countries","EnglishCountries","FrenchCountries","getCountryName","optionString","code","translatedCountryName","recursiveFind","object","keys","index","nextObj","setLanguageType","newLanguage","setLanguage","text","specifier","substitution","addSpaces","translationDictionary","English","French","translatedString","Object","forEach","key","value","replace","RegExp","e","sendPageView","location","ReactGA","set","page","pathname","pageview","sendAnalyticsEvent","props","GAListener","children","trackingId","history","useHistory","useEffect","initialize","titleCase","debug","process","gaOptions","cookieDomain","listen","About","isMobileDeviceOrTablet","useMediaQuery","maxWidth","selectItem","label","name","selectLink","link","renderBioBlock","description","linkedIn","email","twitter","line","href","onClick","target","rel","icon","faLinkedin","className","faTwitter","faEnvelope","src","alt","height","HealthAgencyLogo","UcalgaryLogo","toLowerCase","NAME","CookiePolicy","maxDeviceWidth","script","document","createElement","body","appendChild","removeChild","title","AppContext","createContext","getEmptyFilters","source_type","Set","test_type","population_group","sex","age","overall_risk_of_bias","isotypes_reported","specimen_type","publish_date","estimate_grade","initialState","healthcheck","chartAggregationFactor","explore","filters","records","estimateGradePrevalences","metaAnalyzedRecords","isLoading","analyze","allFilterOptions","dataPageState","exploreIsOpen","showStudiesModal","routingOccurred","calendarStartDates","minDate","maxDate","updatedAt","showCookieBanner","showAnalyzePopup","countries","showEstimatePins","reducer","action","type","payload","pageStateEnum","newState","filterType","filterValue","AppContextProvider","useReducer","dispatch","Provider","httpClient","url","useAppRoute","url_full","fetch","res","status","error_msg","json","console","error","response_json","data","method","headers","JSON","stringify","source_id","this","httpGet","response","record","approving_regulator","denominator","denominator_value","first_author","lead_org","pin_latitude","pin_longitude","pin_region_type","sampling_end_date","sampling_start_date","seroprevalence","serum_pos_prevalence","source_name","isArray","study_type","k","options","updated_at","max_date","min_date","only_explore_columns","sorting_key","reverse","reqBodyFilters","o","all_columns","explore_columns","date","reqBody","start_date","end_date","per_page","page_index","columns","httpPost","filtered_records","item","formattedResponse","estimateSummary","seroprevalence_estimate_summary","numberOfStudies","n_estimates","testsAdministered","n_tests_administered","geographicalName","alpha3Code","country_iso3","localEstimate","maxEstimate","Local","max_estimate","minEstimate","min_estimate","numEstimates","nationalEstimate","National","regionalEstimate","Regional","sublocalEstimate","Sublocal","aggregation_variable","meta_analysis_technique","meta_analysis_transformation","formatted_response","error_percent","n","total_N","numStudies","n_studies","seroprevalence_percent","InformationIcon","color","size","tooltip","tooltipHeader","offset","position","popupSize","Popup","Math","random","onOpen","popperModifiers","preventOverflow","boundariesElement","trigger","faInfoCircle","Header","Content","StudyDetailsModal","useState","open","setOpen","publisher","summary","risk_of_bias","sampling_method","sensitivity","specificity","manufacturer","Modal","centered","closeOnEscape","closeOnDimmerClick","onClose","style","marginTop","marginLeft","marginRight","top","left","Button","padding","faTimes","Description","toUpperCase","getAuthorString","getPublishString","toFixed","loading","results","searchReducer","query","selection","Error","resultRenderer","ReferenceSearch","source","onSearchResultChange","React","timeoutRef","useRef","handleSearchChange","useCallback","clearTimeout","current","setTimeout","re","escapeRegExp","searchResults","result","test","suggestedResults","slice","Search","onResultSelect","onSearchChange","StudiesTable","activePage","setActivePage","boundaryRange","siblingRange","totalPages","setTotalPages","pageLength","setPageLength","column","setColumn","direction","setDirection","setData","setSearchResults","isMobileDevice","letDownload","setLetDownload","hoverKey","setHoverKey","localStorage","getItem","newData","dataRecords","orderBy","startingPos","slicedData","ceil","pageLengthOptions","buildHeaderCell","sortColumn","displayName","Table","HeaderCell","sorted","clickedColumn","celled","sortable","fixed","striped","Row","smallView","Body","onMouseEnter","onMouseLeave","Cell","displayAge","getPopulation","showAllStudies","Footer","Pagination","onPageChange","event","ellipsisItem","Dropdown","inline","defaultValue","onChange","a","setItem","Promise","resolve","faDownload","ReferencesTable","useContext","pageState","setPageState","Charts","showModal","toggleModal","yAxisOptions","api","postMetaAnalysis","reAggregatedRecords","sortBy","updateCharts","CustomTooltip","active","lower","upper","closeModal","MobileInfoModal","closeIcon","right","placeholder","fluid","width","layout","barGap","strokeDasharray","dataKey","interval","chartData","longestWord","getYAxisWidth","tickFormatter","content","isAnimationActive","fill","maxBarSize","barSize","x","y","recordError","errorBarWidth","textAnchor","dominantBaseline","strokeWidth","InformationText","AnalysisMethods","TotalStats","setNumCountries","setNumStudies","setN","reduce","b","updateCountryPrevalence","updateFilters","aggregationFactor","updatedFilters","assign","all","getAirtableRecords","getEstimateGrades","initializeData","SectionHeader","header_text","tooltip_text","tooltip_header","Datepicker","filterStartDate","filterEndDate","setStartDate","setEndDate","registerLocale","enUS","fr","datePickerChanged","isStart","newDates","CustomInput","Input","iconPosition","dateFormat","selected","customInput","onclick","closeOnScroll","locale","withPortal","showMonthDropdown","showYearDropdown","shouldCloseOnSelect","dropdownMode","onSelect","todayButton","Filters","getFilters","filter_type","formatOptions","formatted_options","toString","jsonObjectString","push","alternativeString","addFilter","buildFilterDropdown","multiple","search","clearable","LastUpdated","AnalyzeMobile","showMobileFilters","setShowFilters","showSummary","setShowSummary","handleFilterToggle","showMobile","Sidebar","Pushable","as","Segment","Menu","animation","vertical","visible","fontWeight","zIndex","Pusher","faFilter","faBars","MaintenanceModal","isOpen","headerText","LeftSidebar","ExploreText","RightSidebar","to","Analyze","Loader","indeterminate","MapSymbology","Color","Size","Default","HasData","Opacity","MapUrlResource","MapConfig","Studies","prepare","styleUrl","getStyles","fetchedStyle","sprite","glyphs","sources","esri","tiles","maxzoom","getEsriVectorSourceStyle","l","layers","id","promoteId","paint","Legend","checked","background","CountryPopup","properties","regions","addRegion","r","Region","Name","minString","maxString","regionString","createPopupGeographySection","SetCountryEstimates","setFeatureState","sourceLayer","hasData","popup","setPopup","getSource","on","sourceId","isSourceLoaded","onlyIso3","c","getLayer","setFilter","FilterCountryEstimates","countryPop","mapboxgl","closeButton","features","setMaxWidth","setHTML","ReactDOMServer","renderToString","setLngLat","lngLat","addTo","remove","recordsToGeoJsonFeatures","flatMap","geometry","coordinates","StudyPins","generateSourceFromRecords","addSource","addLayer","setLayoutProperty","onlyGuid","getRecordDetails","then","StudyPopup","getCanvas","cursor","mapOnLoad","sourceLayerId","layer","addEsriLayersFromVectorSourceStyle","styleJson","getStyle","moveLayer","workerClass","require","default","accessToken","MapboxGLMap","mapContainerRef","setMap","baseMapStyle","m","Map","container","center","zoom","ref","el","ExploreMobile","Explore","Data","allRecords","setAllRecords","setIsLoading","getAllRecords","clickLink","toLocaleLowerCase","InsightsCard","Card","img","faFile","italicize","titleKey1","titleKey2","listOfReports","YearInReview2020","October2020Update","September2020Update","August2020Update","July2020Update","BloodBank","June2020Update","May2020Update","PreprintUpdate","insightsInfo","media","articles","MedRxivPub","LancetId","MedRxiv","reports","Insights","getCarouselOfInsightCards","sliderSettings","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","responsive","breakpoint","settings","insightProps","idx","PrivacyPolicy","TermsOfUse","CookieBanner","NavBar","tab","setTab","getTabClass","tabName","concat","useLocation","usePageViews","MultiColorIcon","faGlobeAmericas","faChartBar","faTable","faFileAlt","faUsers","french","changeLanguages","App","getAllFilterOptions","countriesJson","updateCountriesJson","handleResize","vh","window","innerHeight","documentElement","setProperty","addEventListener","includes","exact","route","hostname","match","createBrowserHistory","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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BACZve,IAAK,uFAiJAkf,GAAsC,CAC/CC,MAtHiD,CACjD,CACInc,KAAM,mBACNsb,UAAW,sBACXC,UAAW,CAAC,iBACZve,IAAK,yGAET,CACIgD,KAAM,mBACNsb,UAAW,sBACXC,UAAW,CAAC,WACZve,IAAK,wHAET,CACIgD,KAAM,mBACNsb,UAAW,sBACXC,UAAW,CAAC,mBACZve,IAAK,oDAET,CACIgD,KAAM,mBACNsb,UAAW,sBACXC,UAAW,CAAC,mBACZve,IAAK,4GAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,sBACZve,IAAK,mNAET,CACIgD,KAAM,oBACNsb,UAAW,sBACXC,UAAW,CAAC,iBACZve,IAAK,qEAET,CACIgD,KAAM,oBACNsb,UAAW,sBACXC,UAAW,CAAC,qBACZve,IAAK,gDAET,CACIgD,KAAM,oBACNsb,UAAW,sBACXC,UAAW,CAAC,WACZve,IAAK,0GAET,CACIgD,KAAM,kBACNsb,UAAW,sBACXC,UAAW,CAAC,aACZve,IAAK,kJAET,CACIgD,KAAM,iBACNsb,UAAW,sBACXC,UAAW,CAAC,gBACZve,IAAK,iEAET,CACIgD,KAAM,gBACNsb,UAAW,sBACXC,UAAW,CAAC,WACZve,IAAK,wHAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,cACZve,IAAK,iFAET,CACIgD,KAAM,gBACNsb,UAAW,sBACXC,UAAW,CAAC,iBACZve,IAAK,yEAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,iBACZve,IAAK,+HAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,iBACZve,IAAK,6GAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,gBACZve,IAAK,kKAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,gBACZve,IAAK,+GAET,CACIgD,KAAM,eACNsb,UAAW,sBACXC,UAAW,CAAC,sBACZve,IAAK,sHAYTof,SA/IgD,CAChD,CACIpc,KAAM,oBACNmb,IAAKkB,KACLf,UAAW,wBACXC,UAAW,CA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","file":"static/js/main.4687c963.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/University-Of-Calgary-Logo.dfd2aa50.png\";","module.exports = __webpack_public_path__ + \"static/media/YearInReview2020.fd7fe07a.png\";","module.exports = __webpack_public_path__ + \"static/media/October2020Update.ca751a5c.png\";","module.exports = __webpack_public_path__ + \"static/media/September2020Update.dc9d0a68.png\";","module.exports = __webpack_public_path__ + \"static/media/MedRXIV.a3f4e9f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJuly_2020.53e6e269.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateJune_2020.2cac3c48.png\";","module.exports = __webpack_public_path__ + \"static/media/August2020Update.b2394ac4.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdateMay_2020.4021b423.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdatePre_2020.a93736ac.png\";","module.exports = __webpack_public_path__ + \"static/media/SeroTrackerBloodBank_July_2020.669b184d.png\";","module.exports = __webpack_public_path__ + \"static/media/Prepublication.0b43b193.png\";","module.exports = __webpack_public_path__ + \"static/media/LancetIDArticle.9c54a7db.png\";","module.exports = __webpack_public_path__ + \"static/media/colored-icon.ab2ccbe8.svg\";","\nexport type AirtableRecord = {\n    source_id: string | null,\n    source_name: string | null,\n    lead_org?: string | null,\n    first_author?: string | null,\n    source_type: string | null,\n    test_type: string[] | null,\n    specimen_type: string[] | null,\n    isotypes_reported: string[] | null,\n    manufacturer?: string | null,\n    approving_regulator?: string | null,\n    sensitivity?: number | null,\n    specificity?: number | null,\n    country: string | null,\n    state?: string[] | null,\n    city?: string[] | null,\n    population_group: string | null,\n    sex: string | null,\n    age: string | null,\n    denominator: number | null,\n    seroprevalence: number | null,\n    publish_date?: string[] | string | null,\n    publisher?: string | null,\n    overall_risk_of_bias: string | null,\n    pin_latitude: number,\n    pin_longitude: number,\n    pin_region_type: string | null,\n    study_type?: string | null,\n    sampling_method?: string | null,\n    sampling_start_date?: string | null,\n    sampling_end_date?: string | null,\n    summary?: string | null,\n    url?: string | null,\n    estimate_grade: string | null\n};\n\nexport type AggregatedRecord = {\n    error: number[];\n    n: number;\n    name: string;\n    numStudies: number;\n    seroprevalence: number;\n}\n\n// Each filter will be a javascript set\n// TODO: find typing to represent sets\nexport type Filters = {\n    source_type: any,\n    test_type: any,\n    country: any,\n    population_group: any,\n    sex: any,\n    age: any,\n    overall_risk_of_bias: any,\n    isotypes_reported: any,\n    specimen_type: any\n    publish_date: any,\n    estimate_grade: any,\n};\n\nexport type FilterType = 'country' | 'population_group' | 'sex' | 'age' | 'test_type' | 'source_type' | 'overall_risk_of_bias' | 'isotypes_reported' | 'specimen_type' | 'estimate_grade';\n\nexport enum LanguageType {\n    french = 'fr',\n    english = 'en'\n}\n\nexport enum PageStateEnum {\n    analyze = \"analyze\",\n    explore = \"explore\"\n}\n\nexport type State = {\n    healthcheck: string,\n    chartAggregationFactor: AggregationFactor,\n    explore: PageState,\n    analyze: PageState,\n    allFilterOptions: Filters,\n    updatedAt: string,\n    calendarStartDates: StartDates,\n    dataPageState: DataPageState,\n    language: LanguageType,\n    showCookieBanner: boolean,\n    showAnalyzePopup: boolean,\n    countries: any,\n    showEstimatePins: boolean\n};\n\nexport type StartDates = {\n    minDate: Date,\n    maxDate: Date\n}\n\nexport type PageState = {\n    filters: Filters,\n    metaAnalyzedRecords: AggregatedRecord[],\n    records: AirtableRecord[],\n    isLoading: boolean,\n    estimateGradePrevalences: EstimateGradePrevalence[]\n}\n\nexport type EstimateGradePrevalence = {\n    testsAdministered: number;\n    geographicalName: string;\n    alpha3Code: string;\n    numberOfStudies: number;\n    localEstimate?: RegionalPrevalenceEstimate,\n    nationalEstimate?: RegionalPrevalenceEstimate,\n    regionalEstimate?: RegionalPrevalenceEstimate,\n    sublocalEstimate?: RegionalPrevalenceEstimate\n}\n\nexport type RegionalPrevalenceEstimate = {\n    maxEstimate: number;\n    minEstimate: number;\n    numEstimates: number;\n}\n\nexport enum AggregationFactor {\n    country = 'country',\n    population_group = 'population_group',\n    sex = 'sex',\n    age = 'age',\n    test_type = 'test_type',\n    source_type = 'source_type',\n    overall_risk_of_bias = 'overall_risk_of_bias',\n    isotypes_reported = 'isotypes_reported',\n}\n\nexport type DataPageState = {\n    exploreIsOpen: boolean,\n    showStudiesModal: false,\n    routingOccurred: boolean\n}\n\nexport type CustomMatcherResult = {\n    pass: boolean\n    message: string\n}\n\nexport type PostRecordsBody = {\n    filters: {\n        country: String[],\n        source_type: String[],\n        source_name: String[],\n        overall_risk_of_bias: String[],\n        population_group: String[],\n        age: String[],\n        sex: String[],\n        test_type: String[],\n        isotypes_reported: String[],\n        specimen_type: String[],\n        estimate_grade: String[]\n    },\n    start_date: Date | null,\n    end_date: Date | null,\n    sorting_key: String,\n    reverse: Boolean,\n    per_page: Number,\n    page_index: Number,\n    columns: String[]\n}\n","import _ from \"lodash\";\r\n\r\nexport const toPascalCase = (str: string) => _.upperFirst(_.camelCase(str));","import React from \"react\";\r\nimport { format, parseISO, formatISO, add } from \"date-fns\";\r\nimport Translate from 'utils/translate/translateService';\r\nimport { LanguageType } from \"../types\";\r\n\r\nlet language = LanguageType.english;\r\n\r\nexport const setLanguage = (newLanguage: LanguageType) => {\r\n  language = newLanguage;\r\n}\r\n\r\nexport const formatDates = (dates: Array<Date> | null) => {\r\n\r\n  let endDate = formatISO(new Date());\r\n  let startDate = formatISO(add(new Date(endDate), { years: -2 }));\r\n  if (dates) {\r\n    const dateList = Array.from(dates);\r\n    endDate = dateList[1] ? formatISO(dateList[1] as Date) : endDate;\r\n    startDate = dateList[0] ? formatISO(dateList[0] as Date) : startDate;\r\n  }\r\n  return [startDate, endDate]\r\n}\r\n\r\n\r\nexport const getPossibleNullString = (nullString: string | number | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return nullString\r\n}\r\n\r\nexport const getPossibleNullDateString = (nullString: string | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return format(parseISO(nullString), \"yyyy/MM/dd\")\r\n}\r\n\r\nexport const getPossibleNullStringArray = (nullString: string[] | null | undefined) => {\r\n  if (nullString === null || nullString === undefined) {\r\n    return Translate(\"Not Reported\")\r\n  }\r\n  return nullString.join(\", \")\r\n}\r\n\r\nexport const getGeography = (city: string[] | null | undefined, state: string[] | null | undefined, country: string | null) => {\r\n  if (!country) {\r\n    return Translate(\"Not Reported\");\r\n  }\r\n\r\n  function renderOutGeography(geo: string[] | null | undefined) {\r\n    if (!geo || geo.length === 0) {\r\n      return undefined\r\n    }\r\n    else if (geo.length > 1 && typeof geo !== \"string\") {\r\n      return geo?.join(\", \");\r\n    }\r\n    return geo\r\n  }\r\n\r\n  return  [renderOutGeography(city), renderOutGeography(state), country].filter(Boolean).map((str)=>{return (<React.Fragment>{str}<br/></React.Fragment>)})\r\n}\r\n\r\nexport const withLocaleUrl = (path: string) => {\r\n  return `/${language}/${path}`;\r\n}","import { LanguageType } from \"../../types\";\n\nimport * as Countries from 'i18n-iso-countries';\nimport EnglishCountries from \"i18n-iso-countries/langs/en.json\";\nimport FrenchCountries from \"i18n-iso-countries/langs/fr.json\";\n\nimport English from './en.json';\nimport French from './fr.json';\nimport { toPascalCase } from \"./caseChanger\";\nimport { setLanguage } from \"../utils\";\n\ninterface TranslateStringProps {\n  text: string;\n}\n\n// Recursive Typings for nested JSON objects\ntype JsonRecord<T> = Record<string, T | string>;\ninterface Json extends JsonRecord<Json> { };\n\nCountries.registerLocale(EnglishCountries);\nCountries.registerLocale(FrenchCountries);\n\nexport const getCountryName = (country: string, language: LanguageType, optionString: string) => {\n  const code = Countries.getAlpha2Code(country, 'en'); //TODO: Review our strategy for country name language localization\n  const translatedCountryName = Countries.getName(code, language);\n  const displayText = translatedCountryName ? translatedCountryName : (Translate(optionString, [toPascalCase(country)]) || country);\n  return displayText;\n}\n\nconst recursiveFind = (object: any, keys: string[], index: number): string => {\n  const key = keys[index];\n  const nextObj = object[key];\n\n  if (index + 1 === keys.length) {\n    return nextObj;\n  }\n  return recursiveFind(nextObj, keys, index + 1);\n\n}\n\nlet language: LanguageType = LanguageType.english;\n\nexport const setLanguageType = (newLanguage: LanguageType) => {\n  setLanguage(newLanguage);\n  language = newLanguage;\n}\n\nexport default function Translate(\n  text: string,\n  specifier: string[] | null = null,\n  substitution: Record<string, string | number> | null = null,\n  addSpaces: [boolean, boolean] | null = null\n): string {\n  const translationDictionary: Json = language === LanguageType.english ?\n    English as Json : French as Json;\n\n  try {\n    let translatedString = translationDictionary[text];\n\n    if (!translatedString) {\n      return (specifier ? specifier[specifier.length - 1] : text);\n    }\n\n    if (specifier) {\n      translatedString = recursiveFind(translatedString, specifier, 0);\n    }\n\n    if (substitution) {\n      Object.keys(substitution).forEach(key => {\n        const value = substitution[key];\n        const replace = new RegExp(key, \"g\");\n        translatedString = (translatedString as string).replace(replace, `${value}`);\n      });\n    }\n\n    if (addSpaces && addSpaces[0]) {\n      translatedString = \" \" + translatedString;\n    }\n\n    if (addSpaces && addSpaces[1]) {\n      translatedString += \" \";\n    }\n    return translatedString as string;\n  }\n  catch (e) {\n    return `No translation for string ${text}`\n  }\n}","import { Location, LocationListener, UnregisterCallback } from 'history'\r\nimport { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst sendPageView: LocationListener = (location: Location): void => {\r\n  ReactGA.set({ page: location.pathname })\r\n  ReactGA.pageview(location.pathname)\r\n}\r\ninterface eventSenderProps {\r\n  category: string,\r\n  label: string,\r\n  action: string\r\n}\r\n\r\nlet cookieAcceptance = false;\r\n\r\nexport const sendAnalyticsEvent = (props: eventSenderProps) => {\r\n  if (cookieAcceptance) {\r\n    ReactGA.event(props)\r\n  }\r\n}\r\ninterface Props {\r\n  children: JSX.Element;\r\n  trackingId: string;\r\n}\r\nconst GAListener = ({ children, trackingId }: Props): JSX.Element => {\r\n  const isDev = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory()\r\n  useEffect((): UnregisterCallback | void => {\r\n    ReactGA.initialize(trackingId,\r\n      {\r\n        titleCase: false,\r\n        debug: isDev,\r\n        gaOptions: {\r\n          cookieDomain: isDev ? 'none' : 'auto'\r\n        }\r\n      })\r\n    sendPageView(history.location, 'REPLACE')\r\n    return history.listen(sendPageView)\r\n  }, [history, isDev, trackingId])\r\n\r\n  return children\r\n}\r\n\r\nexport default GAListener","import { faLinkedin, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport HealthAgencyLogo from \"../../assets/images/public-health-agency.png\";\nimport UcalgaryLogo from \"../../assets/images/University-Of-Calgary-Logo.png\";\n\nexport default function About() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const selectItem = (label: string, name: string) => {\n    sendAnalyticsEvent({\n      category: \"Social Media Link\",\n      action: \"click\",\n      label: `${label} - ${name}`,\n    });\n  };\n\n  const selectLink = (link: string) => {\n    sendAnalyticsEvent({\n      category: \"About Page Link\",\n      action: \"click\",\n      label: link,\n    });\n  };\n\n  function renderBioBlock(\n    name: string,\n    description: string[],\n    linkedIn: string | null = null,\n    email: string | null = null,\n    twitter: string | null = null\n  ) {\n    return (\n      <div>\n        <b>{name}</b>\n        <br />\n        {description.map((line) => {\n          return (\n            <div key={line}>\n              {line}\n              <br />\n            </div>\n          );\n        })}\n        {linkedIn ? (\n          <a\n            href={linkedIn}\n            onClick={() => selectItem(\"LinkedIn\", name)}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <FontAwesomeIcon icon={faLinkedin} className=\"mr-2 linked-in\" />\n          </a>\n        ) : null}\n        {twitter ? (\n          <a\n            href={twitter}\n            onClick={() => selectItem(\"Twitter\", name)}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <FontAwesomeIcon icon={faTwitter} className=\"mr-2 twitter\" />\n          </a>\n        ) : null}\n        {email ? (\n          <a href={`mailto:${email}`} onClick={() => selectItem(\"Email\", name)}>\n            <FontAwesomeIcon icon={faEnvelope} className=\"mr-2 email\" />\n          </a>\n        ) : null}\n      </div>\n    );\n  }\n  return (\n    <div className=\"page col-12\">\n      <div className={isMobileDeviceOrTablet ? \"pb-2\" : \"static-content pb-2\"}>\n        <h1>{Translate(\"AboutSeroTracker\")}</h1>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"PartOne\"])}\n          <b>\n            {Translate(\"AboutPage\", [\"AboutSection\", \"PartTwo\"], null, [\n              true,\n              false,\n            ])}\n          </b>\n        </p>\n        <p>\n          <a\n            href=\"https://www.covid19immunitytaskforce.ca/\"\n            className=\"pr-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\"\n              alt=\"COVID-19 Immunity Task Force Logo\"\n              height=\"45\"\n            ></img>\n          </a>\n          <a\n            href=\"https://www.canada.ca/en/public-health.html/\"\n            className=\"px-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src={HealthAgencyLogo}\n              alt=\"Public Health Agency Logo\"\n              height=\"45\"\n            ></img>\n          </a>\n          <a\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n            className=\"px-2\"\n            target=\"__blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img\n              src={UcalgaryLogo}\n              alt=\"Centre for Health Informatics\"\n              height=\"40\"\n            ></img>\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"SupportedBy\"])}\n          <a\n            onClick={() => selectLink(\"Public Health Agency\")}\n            href=\"https://www.canada.ca/en/public-health.html\"\n          >\n            {Translate(\n              \"AboutPage\",\n              [\"AboutSection\", \"PublicHealthAgency\"],\n              null,\n              [true, true]\n            )}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"ThroughThe\"])}\n          <a\n            onClick={() => selectLink(\"ITF Website\")}\n            href=\"https://www.covid19immunitytaskforce.ca/\"\n          >\n            {Translate(\n              \"AboutPage\",\n              [\"AboutSection\", \"Covid19ImmunityTaskForce\"],\n              null,\n              [true, true]\n            )}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"HostedAt\"])}\n          <a\n            onClick={() => selectLink(\"Centre for Health Informatics\")}\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n          >\n            {Translate(\n              \"AboutPage\",\n              [\"AboutSection\", \"HealthInformatics\"],\n              null,\n              [true, true]\n            )}\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"MappingTheExtent\"], null, [\n            true,\n            false,\n          ])}\n          <a\n            onClick={() => selectLink(\"Serological Hub\")}\n            href=\"https://www.covid19immunitytaskforce.ca/research/global-serological-knowledge-hub/\"\n          >\n            {Translate(\n              \"AboutPage\",\n              [\"AboutSection\", \"GlobalSerologicalKnowledgeHub\"],\n              null,\n              [true, false]\n            )}\n          </a>\n          .\n        </p>\n        <p>\n          <a\n            onClick={() => selectLink(\"Mapbox\")}\n            href=\"https://www.mapbox.com/\"\n          >\n            Mapbox\n          </a>{\" \"}\n          {Translate(\"AboutPage\", [\"Mapbox\"])}\n        </p>\n        <h2>{Translate(\"ContactUs\")}</h2>\n        <div>\n          <p>\n            {Translate(\n              \"AboutPage\",\n              [\"ContactSection\", \"BulletPointOne\", \"PartOne\"],\n              null,\n              [true, true]\n            )}\n            <a href=\"mailto:rahul.arora@balliol.ox.ac.uk\">\n              rahul.arora@balliol.ox.ac.uk\n            </a>\n            {Translate(\n              \"AboutPage\",\n              [\"ContactSection\", \"BulletPointOne\", \"PartTwo\"],\n              null,\n              [true, true]\n            )}\n            <a href=\"mailto:tingting.yan@mail.utoronto.ca\">\n              tingting.yan@mail.utoronto.ca\n            </a>\n            .\n            {Translate(\n              \"AboutPage\",\n              [\"ContactSection\", \"BulletPointOne\", \"PartThree\"],\n              null,\n              [true, true]\n            )}\n            <a href=\"mailto:media@covid19immunitytaskforce.ca\">\n              media@covid19immunitytaskforce.ca\n            </a>\n            {Translate(\n              \"AboutPage\",\n              [\"ContactSection\", \"BulletPointOne\", \"PartFour\"],\n              null,\n              [true, true]\n            )}\n            <a href=\"mailto:kelly.johnston2@ucalgary.ca\">\n              kelly.johnston2@ucalgary.ca\n            </a>\n            .\n          </p>\n          <p>\n            {Translate(\"AboutPage\", [\n              \"ContactSection\",\n              \"BulletPointFive\",\n              \"PartOne\",\n            ])}\n            <b>\n              {Translate(\n                \"AboutPage\",\n                [\"ContactSection\", \"BulletPointFive\", \"PartTwo\"],\n                null,\n                [true, false]\n              )}\n            </b>\n            {Translate(\n              \"AboutPage\",\n              [\"ContactSection\", \"BulletPointFive\", \"PartThree\"],\n              null,\n              [true, true]\n            )}\n            <a\n              onClick={() => selectLink(\"Form Open\")}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\"\n            >\n              {Translate(\"ThisForm\").toLowerCase()}\n            </a>\n            .\n          </p>\n        </div>\n        <h1>{Translate(\"OurTeam\")}</h1>\n        <h2 className=\"team-name-text\">{Translate(\"TeamLead\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Rahul Arora\",\n            [\n              Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n              Translate(\"UniversityOf\", null, { NAME: \"Calgary\" }),\n            ],\n            \"https://www.linkedin.com/in/rahularorayyc/\",\n            \"rahularoradfs@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Tingting Yan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/tingting-yan/\",\n            \"\",\n            \"https://twitter.com/TingtingYan_\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"ResearchTeam\")}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Niklas Bobrovitz \",\n            [\n              Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n              Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }),\n            ],\n            \"https://www.linkedin.com/in/nik-bobrovitz-19a117179/\",\n            \"niklas.bobrovitz@mail.utoronto.ca\",\n            \"https://twitter.com/nikbobrovitz\"\n          )}\n          {renderBioBlock(\n            \"Emily Boucher\",\n            [\n              Translate(\"SchoolName\", [\"Cumming\"]),\n              Translate(\"UniversityOf\", null, { NAME: \"Calgary\" }),\n            ],\n            null,\n            \"emily.boucher@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n            \"Hannah Rahim\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/hannah-rahim/\",\n            \"hannahrahim2@gmail.com\",\n            \"https://twitter.com/Hannah_Rahim1\"\n          )}\n          {renderBioBlock(\n            \"Christian Cao\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://ca.linkedin.com/in/christian-cao-275b78190\",\n            \"ccao.canada@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Claire Donnici\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"claire.donnici@ucalgary.ca\",\n            \"https://twitter.com/ClaireDonnici\"\n          )}\n          {renderBioBlock(\n            \"Natasha Ilincic\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Guelph\" })],\n            \"https://www.linkedin.com/in/natasha-ilincic/\",\n            \"natasha.ilincic@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Michael Liu\",\n            [\n              Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n              Translate(\"BlankUniversity\", null, { NAME: \"Harvard\" }),\n            ],\n            \"https://www.linkedin.com/in/michael-liu-8728249a/\",\n            \"liu.michael222@gmail.com\",\n            \"https://twitter.com/mliu_canada\"\n          )}\n          {renderBioBlock(\n            \"Mitchell Segal\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            null,\n            \"mitchell.segal@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n            \"Lucas Penny\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/lucaspenny/\",\n            \"lucas.penny@mail.utoronto.ca\",\n            \"https://twitter.com/lucasjpenny\"\n          )}\n          {renderBioBlock(\n            \"Mairead Whelan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" })],\n            \"https://www.linkedin.com/in/mairead-whelan\",\n            \"mairead.whelan@ucalgary.ca\",\n            \"https://twitter.com/Mairead_GWhelan\"\n          )}\n          {renderBioBlock(\n            \"Judy Chen\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            null,\n            \"judy.chen@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n            \"Mercedes Yanes\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            \"https://www.linkedin.com/in/mercedes-yanes-lane-64b25a19b\",\n            \"mercedes.yaneslane@mcgill.ca\",\n            null\n          )}\n          {renderBioBlock(\n            \"Sara Perlman-Arrow\",\n            [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n            \"https://www.linkedin.com/in/sara-perlman-arrow-5075421b6/\",\n            \"sara.perlman8@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Lucia Otera Varela\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/lucia-ov/\",\n            \"lucia.oterovarela@ucalgary.ca\",\n            \"https://twitter.com/loterovarela\"\n          )}\n          {renderBioBlock(\n            \"Divine Tanyingoh\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"dtanyin@ucalgary.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">Development Team</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Austin Atmaja\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/austinatmaja\",\n            \"atatmaja@uwaterloo.ca\",\n            \"https://twitter.com/atatmaja_\"\n          )}\n          {renderBioBlock(\n            \"Abel Joseph \",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/abel-joseph/\",\n            \"abel.joseph@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Ewan May\",\n            [\n              Translate(\"SchoolName\", [\"Schulich\"]),\n              Translate(\"UniversityOf\", null, { NAME: \"Calgary\" }),\n            ],\n            \"https://www.linkedin.com/in/ewan-may\",\n            \"ewan.may@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n            \"Brett Dziedzic\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Lethbridge\" })],\n            \"https://www.linkedin.com/in/brett-dziedzic/\",\n            \"brettdziedzic@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Simona Rocco\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/simona-rocco/\",\n            \"serocco@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Jordan Van Wyk\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/jordanvanwyk/\",\n            \"jordanvanwyk@outlook.com\",\n            \"https://twitter.com/jordanvw_\"\n          )}\n          {renderBioBlock(\n            \"Prannoy Lal\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/prannoylal/\",\n            \"p4lal@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n            \"Noel Loo\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Cambridge\" })],\n            null,\n            \"noel.loo.188@gmail.com\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">\n          {Translate(\"PrivateSectorMonitoringTeam\")}\n        </h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Nathan Duarte\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/duartenathan/\",\n            \"nathanduarte1@gmail.com\",\n            \"https://twitter.com/_nathan_duarte_\"\n          )}\n          {renderBioBlock(\n            \"Abhinav Pillai\t\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            null,\n            \"abhinav.arunpillai@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n            \"Natalie Duarte\",\n            [],\n            null,\n            \"natalieaduarte@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Sean D'Mello\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/dmellosean/\",\n            \"sean.dmello@uwaterloo.ca\",\n            \"https://twitter.com/SeanDMello1\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">\n          {Translate(\"ScientificAdvisorsAndCollaborators\")}\n        </h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\"Tim Evans\", [\n            Translate(\"Biographies\", [\"Tim\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Tim\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Tyler Williamson\", [\n            Translate(\"Biographies\", [\"Tyler\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Tyler\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Matthew Cheng\", [\n            Translate(\"Biographies\", [\"Matthew\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Matthew\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"David Naylor\", [\n            Translate(\"Biographies\", [\"DavidN\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"DavidN\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"David Buckeridge\", [\n            Translate(\"Biographies\", [\"DavidB\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"DavidB\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Bruce Mazer\", [\n            Translate(\"Biographies\", [\"BruceM\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"BruceM\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Jesse Papenburg\", [\n            Translate(\"Biographies\", [\"Jesse\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Jesse\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Jonathan Chevrier\", [\n            Translate(\"Biographies\", [\"Jonathan\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"Jonathan\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Catherine Hankins\", [\n            Translate(\"Biographies\", [\"CatherineH\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"CatherineH\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Erin O'Connor\", [\n            Translate(\"Biographies\", [\"ErinO\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"ErinO\", \"PartTwo\"]),\n          ])}\n          {renderBioBlock(\"Catherine Eastwood\", [\n            Translate(\"Biographies\", [\"CatherineE\", \"PartOne\"]),\n            Translate(\"Biographies\", [\"CatherineE\", \"PartTwo\"]),\n          ])}\n        </div>\n      </div>\n    </div>\n  );\n}\n","export const mobileDeviceOrTabletWidth = 1200;\r\nexport const mobileDeviceWidth = 600;\r\nexport const isMaintenanceMode = false;\r\nexport const mapZIndex = {\r\n    CountriesTileLayer: 50,\r\n    DisputedAreasAndBorders: 70,\r\n    Labels: 800\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function CookiePolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.text = \"(function(d, s, id) { var js, tjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://app.termly.io/embed-policy.min.js'; tjs.parentNode.insertBefore(js, tjs); }(document, 'script', 'termly-jssdk'));\"\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 page\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('CookiePolicy')}\r\n        </h1>\r\n        <iframe title=\"CookiePolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/4cfb8f90-983a-40b4-bea2-2cdd373f14b5\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { createContext, Dispatch, useReducer } from \"react\";\nimport { AggregationFactor, Filters, FilterType, LanguageType, PageState, State } from \"./types\";\nimport Translate from \"./utils/translate/translateService\";\n\nexport const AppContext = createContext({} as [State, Dispatch<Record<string, any>>]);\n\nexport function getEmptyFilters(): Filters {\n  return {\n    source_type: new Set(),\n    test_type: new Set(),\n    country: new Set(),\n    population_group: new Set(),\n    sex: new Set(),\n    age: new Set(),\n    overall_risk_of_bias: new Set(),\n    isotypes_reported: new Set(),\n    specimen_type: new Set(),\n    publish_date: new Set([new Date(2019, 1, 1, 1), new Date()]),\n    estimate_grade: new Set()\n  }\n}\n\nexport function getDefaultFilters(): Filters {\n  return {\n    source_type: new Set([\n      Translate('SourceTypeOptions', ['Preprint']),\n      Translate('SourceTypeOptions', ['Publication']),\n      Translate('SourceTypeOptions', ['InstitutionalReport'])\n    ]),\n    test_type: new Set(),\n    country: new Set(),\n    population_group: new Set([\n      Translate('PopulationGroupOptions', ['GeneralPopulation']),\n      Translate('PopulationGroupOptions', ['BloodDonors']),\n      Translate('PopulationGroupOptions', ['ResidualSera']),\n    ]),\n    sex: new Set(),\n    age: new Set(),\n    overall_risk_of_bias: new Set(),\n    isotypes_reported: new Set(),\n    specimen_type: new Set(),\n    publish_date: new Set([new Date(2019, 1, 1, 1), new Date()]),\n    estimate_grade: new Set([\n      Translate('EstimateGradeOptions', ['National']),\n      Translate('EstimateGradeOptions', ['Regional']),\n    ])\n  }\n}\n\n// Note: filters = elements that user has chosen to filter by\n// filter_options = all the elements that users could filter by\nconst initialState: State = {\n  healthcheck: '',\n  chartAggregationFactor: AggregationFactor.country,\n  explore: {\n    filters: getEmptyFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    metaAnalyzedRecords: [],\n    isLoading: false\n  },\n  analyze: {\n    filters: getDefaultFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    metaAnalyzedRecords: [],\n    isLoading: false\n  },\n  allFilterOptions: getEmptyFilters(),\n  dataPageState: {\n    exploreIsOpen: true,\n    showStudiesModal: false,\n    routingOccurred: false\n  },\n  calendarStartDates: {\n    // Important, the fact that we use an hour here tells us that we are using a default value\n    minDate: new Date(2019, 1, 1, 1),\n    maxDate: new Date()\n  },\n  language: LanguageType.english,\n  updatedAt: '',\n  showCookieBanner: false,\n  showAnalyzePopup: true,\n  countries : [],\n  showEstimatePins: true\n};\n\nconst reducer = (state: State, action: Record<string, any>): State => {\n  switch (action.type) {\n    case \"TOGGLE_ESTIMATE_PINS\":\n      return {\n        ...state,\n        showEstimatePins: !state.showEstimatePins\n      };\n    case \"CLOSE_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: false\n      };\n    case \"OPEN_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: true\n      };\n    case \"OPEN_ANALYZE_POPUP\":\n      return {\n        ...state,\n        showAnalyzePopup: true\n      };\n    case \"CLOSE_ANALYZE_POPUP\":\n      return {\n        ...state,\n        showAnalyzePopup: false\n      };\n    case \"UPDATE_ESTIMATE_PREVALENCES\": {\n      const { pageStateEnum, estimateGradePrevalences } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.estimateGradePrevalences = estimateGradePrevalences;\n      return newState;\n    };\n    case \"UPDATE_COUNTRIES_JSON\":\n      return {\n        ...state,\n        countries: action.payload\n      };\n    case \"SELECT_LANGUAGE\":\n      return {\n        ...state,\n        language: action.payload\n      };\n    case \"GET_ALL_FILTER_OPTIONS\":\n      return {\n        ...state,\n        allFilterOptions: action.payload\n      };\n    case \"GET_AIRTABLE_RECORDS\": {\n      const { pageStateEnum, records } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.records = records;\n      return newState;\n    };\n    case \"UPDATED_AT\":\n      return {\n        ...state,\n        updatedAt: action.payload\n      };\n    case \"UPDATE_FILTER\": {\n      const { pageStateEnum, filterType, filterValue } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters[filterType as FilterType] = new Set(filterValue);\n      return newState;\n    };\n    case \"UPDATE_META_ANALYSIS\": {\n      const { pageStateEnum, metaAnalyzedRecords } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.metaAnalyzedRecords = metaAnalyzedRecords;\n      return newState;\n    };\n    case \"MAX_MIN_DATES\":\n      const { minDate, maxDate } = action.payload;\n      return {\n        ...state,\n        calendarStartDates: {\n          minDate,\n          maxDate\n        },\n      };\n    case \"CHANGE_LOADING\": {\n      const { pageStateEnum, isLoading } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.isLoading = isLoading;\n      return newState;\n    };\n    case \"UPDATE_AGGREGATION_FACTOR\":\n      return { ...state, chartAggregationFactor: action.payload };\n    case \"UPDATE_EXPLORE_IS_OPEN\":\n      return { ...state, dataPageState: { ...state.dataPageState, exploreIsOpen: action.payload } };\n    default:\n      return state\n  };\n};\n\nexport const AppContextProvider = (props: Record<string, any>) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider\n      value={[state, dispatch]}>\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n","import { AggregatedRecord, AggregationFactor, AirtableRecord, Filters, FilterType } from \"./types\";\nimport { formatDates } from \"./utils/utils\";\nimport {parseISO, format } from \"date-fns\";\n\nexport default class httpClient {\n\n    async httpGet(url: string, useAppRoute: boolean) {\n        let url_full = url;\n        if (useAppRoute && process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async httpPost(url: string, data: Record<string, any>) {\n        let url_full = url;\n        if (process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getStyles(url: string) {\n\n        const res = await fetch(url);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getRecordDetails(source_id : string) {\n        const response = await this.httpGet(`/data_provider/record_details/${source_id}`, true);\n        if (!response) {\n            return null;\n        }\n\n        const record: AirtableRecord = {\n            age: response.age,\n            approving_regulator: response.approving_regulator,\n            city: response.city,\n            country: response.country,\n            denominator: response.denominator_value,\n            estimate_grade: response.estimate_grade,\n            first_author: response.first_author,\n            isotypes_reported: response.isotypes_reported,\n            lead_org: response.lead_org,\n            overall_risk_of_bias: response.overall_risk_of_bias,\n            pin_latitude: response.pin_latitude,\n            pin_longitude: response.pin_longitude,\n            pin_region_type: response.pin_region_type,\n            population_group: response.population_group,\n            sampling_end_date: response.sampling_end_date,\n            sampling_start_date: response.sampling_start_date,\n            seroprevalence: response.serum_pos_prevalence,\n            sex: response.sex,\n            source_id: response.source_id,\n            source_name: response.source_name,\n            source_type: response.source_type,\n            specimen_type: Array.isArray(response.specimen_type) ? response.specimen_type : [response.specimen_type],\n            state: response.state,\n            study_type: response.study_type,\n            test_type: response.study_type,\n            url: response.url\n        };\n        \n        return record;\n    }\n\n    async getAllFilterOptions() {\n        const response = await this.httpGet('/data_provider/filter_options', true);\n        const options: Record<string, any> = {}\n        for(let k in response){\n            // Currently no need for max and min date options\n            if(k !== \"max_date\" && k !== \"min_date\"){\n                // For all the other options, use a Set instead of list\n                // Because that's the data model our filters are used to\n                // TODO: refactor so we can keep filter options in a list\n                options[k] = new Set(response[k]);\n            }\n        }\n        // We know that only these 3 isotypes will ever be reported, thus we can hardcode\n        options.isotypes_reported = new Set([\"IgG\", \"IgA\", \"IgM\"]);\n        const updatedAt = format(parseISO(response.updated_at), \"yyyy/MM/dd\");\n        const maxDate = parseISO(response.max_date);     \n        const minDate = parseISO(response.min_date);\n        return { options, updatedAt, maxDate, minDate };\n    }\n    \n    async getAirtableRecords(filters: Filters,\n        only_explore_columns: Boolean =false,\n        sorting_key = \"denominator_value\",\n        reverse= false) {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            if (o !== 'publish_date') {\n                reqBodyFilters[o] = filter as string[]\n            }\n        });\n\n        // TODO: Clean up these columns, probably with a column interface with a field indicating\n        // whether or not it should be on the explore page \n        const all_columns = [\"state\", \"city\", \"country\", \"age\", \"serum_pos_prevalence\", \"denominator_value\", \"population_group\", \n        \"overall_risk_of_bias\", \"source_name\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\", \"pin_region_type\", \n        \"sampling_start_date\", \"sampling_end_date\", \"url\", \"first_author\", \"source_type\", \"study_type\", \"test_type\", \"specimen_type\",\n        \"isotypes_reported\", \"approving_regulator\", \"population_group\", \"lead_organization\"];\n\n        const explore_columns = [\"source_id\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\"];\n\n        const date = filters['publish_date'] as Array<Date>\n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            filters: reqBodyFilters,\n            start_date: startDate,\n            end_date: endDate,\n            sorting_key: sorting_key,\n            reverse: reverse,\n            per_page: null,\n            page_index: null,\n            columns: only_explore_columns ? explore_columns : all_columns,\n        }\n        const response = await this.httpPost('/data_provider/records', reqBody)\n        if (!response) {\n            return [];\n        }\n        const filtered_records = response.map((item: Record<string, any>) => {\n            // Convert response to AirtableRecord type\n            const record: AirtableRecord = {\n                age: item.age,\n                approving_regulator: item.approving_regulator,\n                city: item.city,\n                country: item.country,\n                denominator: item.denominator_value,\n                estimate_grade: item.estimate_grade,\n                first_author: item.first_author,\n                isotypes_reported: item.isotypes_reported,\n                lead_org: item.lead_org,\n                overall_risk_of_bias: item.overall_risk_of_bias,\n                pin_latitude: item.pin_latitude,\n                pin_longitude: item.pin_longitude,\n                pin_region_type: item.pin_region_type,\n                population_group: item.population_group,\n                sampling_end_date: item.sampling_end_date,\n                sampling_start_date: item.sampling_start_date,\n                seroprevalence: item.serum_pos_prevalence,\n                sex: item.sex,\n                source_id: item.source_id,\n                source_name: item.source_name,\n                source_type: item.source_type,\n                specimen_type: Array.isArray(item.specimen_type) ? item.specimen_type : [item.specimen_type],\n                state: item.state,\n                study_type: item.study_type,\n                test_type: item.study_type,\n                url: item.url\n            };\n\n            return record;\n        });\n        // Remove timestamp from updated at string\n\n        return filtered_records;\n    }\n\n    async getEstimateGrades(filters: Filters) {\n        const reqBodyFilters: Record<string, string[]> = {}\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        })\n        delete reqBodyFilters['publish_date']\n        const date = filters['publish_date']        \n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            start_date: startDate,\n            end_date: endDate,\n            filters: reqBodyFilters\n        }\n\n        const response = await this.httpPost('/data_provider/country_seroprev_summary', reqBody);\n        if (!response) {\n            return [];\n        }\n        const formattedResponse = response.map((record: Record<string, any>) => {\n            // Convert response to AlternateAggregatedRecord type         \n            const estimateSummary = record.seroprevalence_estimate_summary;\n            return {\n                numberOfStudies: record.n_estimates,\n                testsAdministered: record.n_tests_administered,\n                geographicalName: record.country,          \n                alpha3Code: record.country_iso3,\n                localEstimate: {\n                    maxEstimate: estimateSummary.Local.max_estimate,\n                    minEstimate: estimateSummary.Local.min_estimate,\n                    numEstimates: estimateSummary.Local.n_estimates,\n                },\n                nationalEstimate: {\n                    maxEstimate: estimateSummary.National.max_estimate,\n                    minEstimate: estimateSummary.National.min_estimate,\n                    numEstimates: estimateSummary.National.n_estimates,\n                },\n                regionalEstimate: {\n                    maxEstimate: estimateSummary.Regional.max_estimate,\n                    minEstimate: estimateSummary.Regional.min_estimate,\n                    numEstimates: estimateSummary.Regional.n_estimates,\n                },\n                sublocalEstimate: {\n                    maxEstimate: estimateSummary.Sublocal.max_estimate,\n                    minEstimate: estimateSummary.Sublocal.min_estimate,\n                    numEstimates: estimateSummary.Sublocal.n_estimates,\n                }\n            }\n        });\n\n        return formattedResponse;\n    }\n\n    async postMetaAnalysis(filters: Filters,\n        aggregation_variable: AggregationFactor,\n        meta_analysis_technique: string = 'fixed',\n        meta_analysis_transformation: string = 'double_arcsin_precise') {\n        const reqBodyFilters: Record<string, string[]> = {}\n\n        const date = filters['publish_date'];\n        Object.keys(filters).forEach((o: string) => {\n            const filter = Array.from(filters[o as FilterType]);\n            reqBodyFilters[o] = filter as string[]\n        });\n\n        // TODO: Rename publish_date to sampling_end_date\n        delete reqBodyFilters['publish_date'];\n        const [startDate, endDate] = formatDates(date)\n        const reqBody = {\n            start_date: startDate,\n            end_date: endDate,\n            filters: reqBodyFilters,\n            aggregation_variable,\n            meta_analysis_technique,\n            meta_analysis_transformation\n        };\n\n        const response = await this.httpPost('/meta_analysis/records', reqBody);\n        if (response) {\n            // Convert response to aggregatedRecord object\n            const formatted_response: AggregatedRecord[] = Object.keys(response).filter((key: string) => response[key] !== null).map((key: string) => {\n                return {\n                    error: response[key].error_percent,\n                    n: response[key].total_N,\n                    name: key,\n                    numStudies: response[key].n_studies,\n                    seroprevalence: response[key].seroprevalence_percent,\n                }\n            });\n            return formatted_response;\n        }\n        return [];\n    }\n}\n","import { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Popup } from \"semantic-ui-react\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\ninterface InformationIconProps {\r\n  color: string;\r\n  size: \"xs\" | \"lg\" | \"sm\" | \"1x\" | \"2x\" | \"3x\" | \"4x\" | \"5x\" | \"6x\" | \"7x\" | \"8x\" | \"9x\" | \"10x\" | undefined,\r\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\r\n  tooltip: string | React.ReactNode;\r\n  tooltipHeader?: string;\r\n  offset: string | number;\r\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\r\n}\r\n\r\nexport default function InformationIcon(props: InformationIconProps) {\r\n  const { color, size, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\r\n  return (\r\n    <div className=\"px-2\">\r\n      <Popup\r\n        key={Math.random()}\r\n        offset={offset}\r\n        position={position}\r\n        size={popupSize}\r\n        onOpen={() => {\r\n          sendAnalyticsEvent({\r\n            /** Typically the object that was interacted with (e.g. 'Video') */\r\n            category: 'Tooltip',\r\n            /** The type of interaction (e.g. 'play') */\r\n            action: 'opening',\r\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n            label: tooltipHeader || \"Unknown tooltip\"\r\n            /** A numeric value associated with the event (e.g. 42) */\r\n          })\r\n        }}\r\n        //fix for janky popup positioning due to overflow styling\r\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\r\n        trigger={\r\n          <FontAwesomeIcon\r\n            icon={faInfoCircle}\r\n            color={color}\r\n            size={size} />}>\r\n        {tooltipHeader && (\r\n\r\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\r\n        )}\r\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  getPossibleNullString,\r\n  getPossibleNullDateString,\r\n  getPossibleNullStringArray,\r\n  getGeography\r\n} from \"../../utils/utils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Modal } from \"semantic-ui-react\";\r\nimport { AirtableRecord } from \"../../types\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport \"./StudyDetailsModal.css\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\n// TODO: Extract this into a modal service \r\n\r\ninterface StudyDetailsModalProps {\r\n  record: AirtableRecord\r\n}\r\nexport default function StudyDetailsModal(props: StudyDetailsModalProps) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const inlineStyle = {\r\n    modal: {\r\n      marginTop: '0px !important',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      top: 'auto',\r\n      left: 'auto',\r\n      height: 'auto'\r\n    }\r\n  };\r\n\r\n  const getAuthorString = (first_author: string | undefined | null, lead_org: string | null | undefined) => {\r\n    if (lead_org && first_author) {\r\n      return Translate('StudyDetailsAuthorString', ['LeadOrg'], { 'FIRST_AUTHOR': first_author, 'LEAD_ORG': lead_org })\r\n    }\r\n    else if (first_author) {\r\n      return Translate('StudyDetailsAuthorString', ['NoLeadOrg'], { 'FIRST_AUTHOR': first_author })\r\n    }\r\n    return Translate('AuthorAndLeadOrganizationNotReported')\r\n  }\r\n\r\n  const getPublishString = (publish_date: string | string[] | undefined | null, publisher: string | null | undefined) => {\r\n    const date = publish_date instanceof Array ? publish_date[0] : publish_date;\r\n    if (date && publisher) {\r\n      return Translate('StudyDetailsPublishString', ['PublisherAndDate'], { 'PUBLISH_DATE': date, 'PUBLISHER': publisher })\r\n    }\r\n    else if (date) {\r\n      return Translate('StudyDetailsPublishString', ['NoPublisher'], { 'PUBLISH_DATE': date })\r\n    }\r\n    else if (publisher) {\r\n      return Translate('StudyDetailsPublishString', ['NoPublishDate'], { 'PUBLISHER': publisher })\r\n    }\r\n    return null\r\n  }\r\n\r\n  const {\r\n    source_name, first_author, lead_org, publish_date, publisher, url,\r\n    summary, study_type,\r\n    population_group, age, city, state, country, sex,\r\n    seroprevalence, overall_risk_of_bias: risk_of_bias, denominator,\r\n    sampling_method, sampling_end_date, sampling_start_date,\r\n    test_type, sensitivity, specificity, isotypes_reported, manufacturer, approving_regulator\r\n  } = props.record\r\n  return (\r\n    <Modal\r\n      centered={true}\r\n      size=\"large\"\r\n      closeOnEscape={true}\r\n      closeOnDimmerClick={true}\r\n      onClose={() => { setOpen(false) }}\r\n      onOpen={() => {\r\n        sendAnalyticsEvent({\r\n          category: 'Study Details Modal',\r\n          action: 'opening',\r\n          label: props.record.source_name || \"Unknown\"\r\n        })\r\n      }}\r\n      open={open}\r\n      style={inlineStyle.modal}\r\n      trigger={\r\n        <Button onClick={() => setOpen(true)} style={{ padding: '8px' }}>\r\n          {Translate('Details')}\r\n        </Button>}>\r\n      <Modal.Header>{Translate('PrevalenceEstimateDetails')}\r\n        <FontAwesomeIcon onClick={() => setOpen(false)} icon={faTimes} size={\"sm\"} className=\"float-right cursor\" />\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n          <div className=\"col-12 p-0 flex\">\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Source').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 section-container modal-text-container\">\r\n                <a href={url || \"\"} target=\"_blank\" rel=\"noopener noreferrer\" className=\"col-12 p-0 name-text\">\r\n                  {source_name}\r\n                </a>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  {getAuthorString(first_author, lead_org)}\r\n                </div>\r\n                <div className=\"col-12 p-0 tertiary-text\">\r\n                  {getPublishString(publish_date, publisher)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Study').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('Summary')}: </span>\r\n                    {getPossibleNullString(summary)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('StudyType')}: </span>{getPossibleNullString(study_type)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Demographics').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Population')}: </span>{getPossibleNullString(population_group)}\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('AgeGroup')}: </span>{getPossibleNullString(age)}\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span>\r\n                    <span className=\"secondary-title\">{Translate('Location')}: </span>{getGeography(city, state, country)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"col-6 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Sex')}: </span>{getPossibleNullString(sex)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-6 pl-0 pr-2 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Prevalence').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('Estimate')}: </span>{seroprevalence ? (seroprevalence * 100).toFixed(2) : \"Not Reported\"}%\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('StudySize')}: </span>{getPossibleNullString(denominator)}\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <span className=\"secondary-title\">{Translate('RiskOfBias')}: </span>{getPossibleNullString(risk_of_bias)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-6 pl-2 pr-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('Sampling').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('SamplingMethod')}: </span>{getPossibleNullString(sampling_method)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('StartDate')}: </span>{getPossibleNullDateString(sampling_start_date)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 p-0 secondary-text\">\r\n                  <div>\r\n                    <span className=\"secondary-title\">{Translate('EndDate')}: </span>{getPossibleNullDateString(sampling_end_date)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 px-0 py-1\">\r\n              <div className=\"col-12 p-0 section-title\">{Translate('TestDetails').toUpperCase()}</div>\r\n              <div className=\"col-12 px-2 py-1 flex section-container modal-text-container\">\r\n                <div className=\"col-6 p-0\">\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Manufacturer')}: </span>{getPossibleNullString(manufacturer)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('TestUsed')}: </span>{getPossibleNullStringArray(test_type)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Isotypes')}: </span>{getPossibleNullStringArray(isotypes_reported)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 p-0\">\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Specificity')}: </span>{specificity ? `${(specificity * 100).toFixed(2)}%` : \"Not Reported\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-12 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('Sensitivity')}: </span>{sensitivity ? `${(sensitivity * 100).toFixed(2)}%` : \"Not Reported\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-126 p-0 secondary-text\">\r\n                    <div>\r\n                      <span className=\"secondary-title\">{Translate('RegulatoryApproval')}: </span>{getPossibleNullString(approving_regulator)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n    </Modal >\r\n  )\r\n} ","import _ from 'lodash'\nimport React from 'react'\nimport { Search } from 'semantic-ui-react'\nimport { AirtableRecord } from '../../types';\nimport Translate from \"../../utils/translate/translateService\";\n                                                        \nconst initialState = {\n  loading: false,\n  results: [],\n  value: '',\n}\n\ninterface state {\n  loading: boolean,\n  results: AirtableRecord[] | undefined,\n  value: string\n}\n\nconst MAX_SUGGESTIONS = 5\n\nfunction searchReducer(state : state, action : any) {\n  switch (action.type) {\n    case 'CLEAN_QUERY':\n      return initialState\n    case 'START_SEARCH':\n      return { ...state, loading: true, value: action.query }\n    case 'FINISH_SEARCH':\n      return { ...state, loading: false, results: action.results }\n    case 'UPDATE_SELECTION':\n      return { ...state, value: action.selection }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst resultRenderer = ({ source_name, publish_date } : any) => {\n  return (<React.Fragment>\n            <div>{source_name}</div>\n            <span className=\"text-muted\">{Translate('Published')}: {publish_date}</span>\n          </React.Fragment>)\n}\n\nfunction ReferenceSearch(props : any) {\n  const { source, onSearchResultChange } = props;\n  const [state, dispatch] = React.useReducer(searchReducer, initialState)\n  const { loading, results, value } = state\n\n  const timeoutRef : any = React.useRef()\n\n  const handleSearchChange = React.useCallback((e, data) => {\n    clearTimeout(timeoutRef.current)\n    dispatch({ type: 'START_SEARCH', query: data.value })\n\n    timeoutRef.current = setTimeout(() => {\n      \n      if (data.value.length === 0) {\n        onSearchResultChange(undefined)\n        dispatch({ type: 'CLEAN_QUERY' })\n        return\n      }\n\n      const re = new RegExp(_.escapeRegExp(data.value), 'i');\n      const searchResults : AirtableRecord[] = _.filter(source, (result : any) => re.test(result.source_name))\n\n      onSearchResultChange(searchResults)\n      dispatch({ type: 'FINISH_SEARCH', results: searchResults})\n    }, 800)\n  }, [onSearchResultChange, source])\n\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current)\n    }\n  }, [])\n\n  // Limit suggested results to avoid massive query result rendered\n  const suggestedResults = results.slice(0, ((results.length < MAX_SUGGESTIONS) ? results.length : MAX_SUGGESTIONS))\n\n  return (\n    <Search\n        loading={loading}\n        onResultSelect={(e, data) => dispatch({ type: 'UPDATE_SELECTION', selection: data.result.source_name })}\n        onSearchChange={handleSearchChange}\n        resultRenderer={resultRenderer}\n        results={suggestedResults}\n        value={value}\n    />\n  )\n}\n\nexport default ReferenceSearch","import _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Dropdown, DropdownProps, Pagination, Table } from \"semantic-ui-react\";\nimport { mobileDeviceWidth } from \"../../constants\";\nimport { AirtableRecord } from \"../../types\";\nimport Translate from \"../../utils/translate/translateService\";\nimport { getGeography, getPossibleNullDateString } from \"../../utils/utils\";\nimport StudyDetailsModal from \"../charts/StudyDetailsModal\";\nimport ReferenceSearch from '../charts/ReferencesSearch';\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\n\n\ninterface StudiesTableProps {\n    showAllStudies: boolean,\n    dataRecords: AirtableRecord[],\n    smallView?: boolean\n}\n\nexport default function StudiesTable(props: StudiesTableProps) {\n    const [activePage, setActivePage] = useState(1);\n    const [boundaryRange] = useState(0);\n    const [siblingRange] = useState(5);\n    const [totalPages, setTotalPages] = useState(10);\n    const [pageLength, setPageLength] = useState(5);\n    const [column, setColumn] = useState('denominator');\n    const [direction, setDirection] = useState('descending');\n    const initialState: AirtableRecord[] = [];\n    const [data, setData] = useState(initialState);\n    const [searchResults, setSearchResults] = useState<AirtableRecord[] | undefined>(undefined);\n    const isMobileDevice = useMediaQuery({ maxWidth: mobileDeviceWidth });\n    const [letDownload, setLetDownload] = useState(false);\n    const [hoverKey, setHoverKey] = useState(-1)\n\n    const getLink = () => {\n        if (letDownload) {\n            return \"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\"\n        }\n        else {\n            return \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform?usp=sf_link\"\n        }\n    }\n\n    useEffect(() => {\n        const doneSurvey = localStorage.getItem(\"DownloadApproved\");\n        if (doneSurvey) {\n            setLetDownload(true);\n        }\n    }, [])\n\n    useEffect(() => {\n        let newData = searchResults || props.dataRecords || [];\n\n        if (direction === 'descending') {\n            newData = _.orderBy(newData,\n                [(o: any) => {\n                    return o[column] || '';\n                }], ['desc']);\n        }\n        else {\n            newData = _.orderBy(newData, [column], ['asc']);\n        }\n\n        // Note: need to use slice instead of splice here to make sure we are not \n        // mutating the original array\n        const startingPos = (activePage - 1) * pageLength;\n        const slicedData = newData.slice(startingPos, startingPos + pageLength);\n        setData(slicedData);\n\n        if (isMobileDevice) {\n            setPageLength(Math.ceil(newData.length));\n        }\n        else {\n            setTotalPages(Math.ceil(newData.length / pageLength));\n        }\n    }, [activePage, column, direction, isMobileDevice, pageLength, props.dataRecords, searchResults])\n\n    const getPopulation = (sex: string | null, age: string | null, population_group: string | null) => {\n        // TODO: Check if we still need to accommodate for these edge cases.\n        if (!population_group) {\n            return \"Not Reported\";\n        }\n        const displaySex = sex && sex !== \"All\" && sex !== \"Unspecified\";\n        const displayAge = age && age !== \"Multiple groups\" && age !== \"Unspecified\";\n        return `${displaySex ? `${sex}, ` : \"\"}${displayAge ? `${age}, ` : \"\"}${population_group}`;\n    }\n\n    const pageLengthOptions = [\n        { text: 5, value: 5 }, { text: 10, value: 10 }, { text: 25, value: 25 }, { text: 50, value: 50 }, { text: 100, value: 100 }\n    ]\n\n    const handleSort = (clickedColumn: string) => () => {\n        if (column !== clickedColumn) {\n            setActivePage(1);\n            setColumn(clickedColumn);\n            setDirection('ascending');\n            return\n        }\n        else {\n            setDirection(direction === 'ascending' ? 'descending' : 'ascending');\n        }\n    }\n\n    const handlePaginationChange = (e: any, event: any) => {\n        const { activePage } = event;\n        setActivePage(activePage)\n    }\n\n    const handlePageLengthChange = (e: any, event: DropdownProps) => {\n        setPageLength(event.value as number);\n        setActivePage(1);\n    }\n\n    const handleSearchChange = (results: any) => {\n        setSearchResults(results as AirtableRecord[])\n        setActivePage(1);\n    }\n\n    const buildHeaderCell = (sortColumn: string, displayName: string, className: string) => {\n        return (\n            <Table.HeaderCell\n                className={className}\n                sorted={column === sortColumn ? direction as any : null}\n                onClick={handleSort(sortColumn)}\n            >\n                {displayName}\n            </Table.HeaderCell>)\n    }\n\n    return (\n        <div className=\"col-12\">\n            <div >\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <div className=\"py-3 w-100 section-title align-middle text-uppercase\">\n                            {Translate('References')}\n                        </div>\n                    </div>\n                    <div className=\"col-auto\">\n                        <ReferenceSearch source={props.dataRecords} onSearchResultChange={handleSearchChange} />\n                    </div>\n                </div>\n            </div>\n            <Table celled sortable fixed striped className=\"table mb-3 mt-0\">\n                <Table.Header className=\"flex col-12 p-0\">\n                    <Table.Row className=\"flex col-12 p-0\">\n                        {buildHeaderCell('title', Translate('Name'), props.smallView ? 'flex col-12 p-1' : 'col-sm-12 col-lg-3 p-1')}\n                        {buildHeaderCell('country', Translate('Geography'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                        {buildHeaderCell('populations', Translate('Populations'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                        {buildHeaderCell('denominator', Translate('N'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                        {buildHeaderCell('seroprevalence', Translate('Prevalence'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                        {buildHeaderCell('risk_of_bias', Translate('RiskOfBias'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-1 p-1')}\n                        {buildHeaderCell('sampling_end_date', Translate('SamplingEndDate'), props.smallView ? 'flex col-6 p-1' : 'col-sm-12 col-lg-2 p-1')}\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body className=\"col-12 p-0\">\n                    {_.map(data,\n                        (record, index) => {\n                            const {\n                                source_name, source_type, url,\n                                country, state, city,\n                                denominator,\n                                sex, age, population_group,\n                                seroprevalence,\n                                sampling_end_date,\n                                overall_risk_of_bias: risk_of_bias,\n                            } = record;\n                            return (\n                                <Table.Row className={`flex col-12 p-0 ${hoverKey === index ? \"highlight\" : \"\"}`} key={Math.random()} onMouseEnter={() => { setHoverKey(index) }} onMouseLeave={() => {setHoverKey(-1)}}>\n                                    <Table.Cell className={props.smallView ? \"flex col-12 p-1\" : \"col-sm-12 col-lg-3 p-1\"}>\n                                        <a href={url ? url : '#'} target=\"_blank\" rel=\"noopener noreferrer\">{source_name}</a>\n                                        <i className=\"px-1\">({source_type})</i>\n                                    </Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-2\"}`}>{getGeography(city, state, country)}</Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-2\"}`}>{getPopulation(sex, age, population_group)}</Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-1\"}`}>{denominator ? denominator : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-1\"}`}>{seroprevalence ? `${(seroprevalence * 100).toFixed(2)}%` : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-1\"}`}>{risk_of_bias ? risk_of_bias : \"Not Reported\"}</Table.Cell>\n                                    <Table.Cell className={`flex p-1 ${props.smallView ? \"col-6\" : \"col-sm-12 col-lg-2\"}`}>{getPossibleNullDateString(sampling_end_date)}</Table.Cell>\n                                    <div className={hoverKey === index ? \"hover\" : \"no-hover\"}><StudyDetailsModal record={record} /></div>\n                                </Table.Row>\n                            )\n                        })}\n                </Table.Body>\n                {\n                    !isMobileDevice && !props.showAllStudies ?\n                        <Table.Footer className=\"flex space-between\">\n                            <tr className=\"flex space-between\">\n                                <Pagination\n                                    activePage={activePage}\n                                    boundaryRange={boundaryRange}\n                                    onPageChange={handlePaginationChange}\n                                    size='mini'\n                                    siblingRange={siblingRange}\n                                    totalPages={totalPages}\n                                    ellipsisItem={null}\n                                />\n                                <>\n                                    <div className=\"p-2 flex\" >\n                                        <Dropdown inline\n                                            options={pageLengthOptions}\n                                            defaultValue={pageLengthOptions[0].value}\n                                            onChange={handlePageLengthChange} />\n                                        <div className=\"px-2\">\n                                            {Translate('StudiesPerPage')}\n                                        </div>\n                                    </div>\n                                </>\n                            </tr>\n                        </Table.Footer> :\n                        null\n                }\n            </Table>\n            <div className=\"d-flex justify-content-end\">\n                <a target=\"_blank\" rel=\"noopener noreferrer\"\n                    onClick={async () => {\n                        sendAnalyticsEvent({ category: 'Data Link Click', action: 'click', label: 'DownloadCsv' })\n                        localStorage.setItem('DownloadApproved', \"true\");\n                        await new Promise(resolve => { setTimeout(resolve, 60 * 3 * 1000) });\n                        setLetDownload(true);\n                    }}\n                    href={getLink()}>\n                    <FontAwesomeIcon\n                        icon={faDownload}\n                        className={'icon'}\n                        color={'#455a64'}\n                        size={\"1x\"} />\n                    <span>{Translate('DownloadCsv')}</span>\n                </a>\n            </div>\n        </div>\n    )\n}\n\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../context\";\r\nimport { State, PageState } from \"../../types\";\r\nimport StudiesTable from '../shared/StudiesTable';\r\nimport './Charts.css';\r\n\r\ninterface ReferencesTableProps {\r\n  page: string\r\n}\r\n\r\nexport default function ReferencesTable({page}: ReferencesTableProps) {\r\n  const [state, ] = useContext(AppContext);  \r\n  const [pageState, setPageState] = useState(state[page as keyof State] as PageState);\r\n  useEffect(() => {\r\n    setPageState(state[page as keyof State] as PageState)\r\n  }, [page, state])\r\n  return (\r\n    <div className=\"top references\">\r\n       <StudiesTable dataRecords={pageState.records} showAllStudies={false}></StudiesTable>\r\n    </div>\r\n  );\r\n}\r\n","import _ from \"lodash\";\r\nimport React, { SyntheticEvent, useContext, useEffect, useState } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Bar, BarChart, CartesianGrid, ErrorBar, LabelList, LabelProps, Legend, ResponsiveContainer, TickFormatterFunction, Tooltip, XAxis, YAxis } from 'recharts';\r\nimport { Dropdown, DropdownProps, Modal } from \"semantic-ui-react\";\r\nimport { mobileDeviceOrTabletWidth, isMaintenanceMode } from \"../../constants\";\r\nimport { AppContext } from \"../../context\";\r\nimport httpClient from \"../../httpClient\";\r\nimport { AggregationFactor, PageStateEnum } from \"../../types\";\r\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\r\nimport Translate, { getCountryName } from \"../../utils/translate/translateService\";\r\nimport InformationIcon from \"../shared/InformationIcon\";\r\nimport './Charts.css';\r\nimport ReferencesTable from \"./ReferencesTable\";\r\n\r\nexport default function Charts() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth })\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const { showAnalyzePopup } = state;\r\n  const [showModal, toggleModal] = useState(true);\r\n  const records = state.analyze.metaAnalyzedRecords;\r\n\r\n  const yAxisOptions = [\r\n    { key: 'Geographies', text: Translate('Geographies'), value: AggregationFactor.country },\r\n    { key: 'Population', text: Translate('Population'), value: AggregationFactor.population_group },\r\n    { key: 'Sex', text: Translate('Sex'), value: AggregationFactor.sex },\r\n    { key: 'Age', text: Translate('Age'), value: AggregationFactor.age },\r\n    { key: 'Test Type', text: Translate('TestType'), value: AggregationFactor.test_type },\r\n    { key: 'Source Type', text: Translate('SourceType'), value: AggregationFactor.source_type },\r\n    { key: 'Overall Risk Of Bias', text: Translate('RiskOfBias'), value: AggregationFactor.overall_risk_of_bias },\r\n    { key: 'Isotypes Reported', text: Translate('IsotypesReported'), value: AggregationFactor.isotypes_reported },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const updateCharts = async () => {\r\n      const api = new httpClient();\r\n      // TODO: Cache these results so we're not making this call every time we switch pages\r\n      const reAggregatedRecords = await api.postMetaAnalysis(state.analyze.filters, state.chartAggregationFactor);\r\n      const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n      dispatch({\r\n        type: \"UPDATE_META_ANALYSIS\",\r\n        payload: {\r\n          pageStateEnum: PageStateEnum.analyze,\r\n          metaAnalyzedRecords\r\n        }\r\n      })\r\n    }\r\n    updateCharts();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [state.chartAggregationFactor])\r\n\r\n  const handleChange = (event: SyntheticEvent<HTMLElement, Event>, data: DropdownProps) => {\r\n    dispatch({\r\n      type: \"UPDATE_AGGREGATION_FACTOR\",\r\n      payload: data.value as AggregationFactor\r\n    })\r\n    sendAnalyticsEvent({\r\n      category: 'Independent Variable',\r\n      action: 'selection',\r\n      label: data.text || \"Unknown\"\r\n    })\r\n  }\r\n\r\n  const CustomTooltip = (e: any) => {\r\n    const { active, payload } = e\r\n    if (active && payload) {\r\n      const { error, n, name, numStudies, seroprevalence } = payload[0].payload;\r\n      const lower = (seroprevalence - error[0]).toFixed(2);\r\n      const upper = (seroprevalence + error[1]).toFixed(2);\r\n      return (\r\n        <div className=\"col flex popup\">\r\n          <div className=\"col-12 p-0 popup-header\">{getCountryName(name, state.language, \"\")}</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate(\"Seroprevalence\")}: {seroprevalence.toFixed(2)}%</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate(\"95%ConfidenceInterval\")}: {lower}%-{upper}%</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate('TotalTests')}: {n}</div>\r\n          <div className=\"col-12 p-0 popup-content\">{Translate('TotalEstimates')}: {numStudies}</div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderCustomizedLabel = (props: any) => {\r\n    const { x, y, width, height, value, index } = props;\r\n    let recordError = records[index].error;\r\n    const ratio = width / value;\r\n    const error = Array.isArray(recordError) ? recordError[1] : recordError;\r\n    const errorBarWidth = ratio * error;\r\n    return (\r\n      <g>\r\n        <text x={x + width + 10 + (errorBarWidth as number)} y={y + height / 2 + 5} fill=\"#000\" textAnchor=\"right\" dominantBaseline=\"right\">\r\n          {value.toFixed(2)}\r\n        </text>\r\n      </g>\r\n    );\r\n  };\r\n\r\n  const getYAxisWidth = (chartData: Record<string, string | number | number[]>[]) => {\r\n    let longestWord = 0;\r\n    chartData.filter(o => o.name)\r\n      .forEach(o => {\r\n        const country = o.name as string;\r\n        longestWord = country.length > longestWord ? country.length : longestWord;\r\n      })\r\n    return longestWord;\r\n  }\r\n  const closeModal = () => {\r\n    toggleModal(false);\r\n    dispatch({ type: 'CLOSE_ANALYZE_POPUP' })\r\n  }\r\n\r\n  const MobileInfoModal = () => (\r\n    <Modal className=\"modal\" open={showModal} onClose={closeModal} closeIcon={{ style: { top: '1.0535rem', right: '1rem' }, color: 'black', name: 'close' }}>\r\n      <Modal.Content className=\"modal-content\">\r\n        <div className={isMobileDeviceOrTablet ? \"modal-text-mobile\" : \"modal-text\"}>\r\n          <p>{Translate('InitInfoModalText', ['PartOne'])}</p>\r\n          <p>{Translate('InitInfoModalText', ['PartTwo'])}</p>\r\n          <p>{Translate('InitInfoModalText', ['PartThree'])}</p>\r\n        </div>\r\n      </Modal.Content>\r\n    </Modal>\r\n  )\r\n\r\n  const tickFormatter: TickFormatterFunction = (value: string) => {\r\n    return getCountryName(value, state.language, \"\")    \r\n  }\r\n\r\n  return (\r\n    <div className=\"charts-page\">\r\n      {(showAnalyzePopup && !isMaintenanceMode) ? <MobileInfoModal /> : null}\r\n      <div className={isMobileDeviceOrTablet ? \"mobile-charts container col-11 center-item flex my-3\" : \"charts container col-11 center-item flex my-3\"}>\r\n        <div className=\"col-12 p-0 flex\">\r\n          <div className=\"col-sm-1 col-lg-3\">\r\n          </div>\r\n          <div className=\"charts-title flex p-0 mt-2 p-lg-0 col-sm-8 col-lg-6\">\r\n            <div className=\"col-auto flex center-item\">\r\n              {Translate('SeroprevalenceBy')}\r\n            </div>\r\n            <Dropdown\r\n              placeholder={Translate('Geographies')}\r\n              fluid selection\r\n              className=\"col large-dropdown\"\r\n              onChange={handleChange}\r\n              options={yAxisOptions}\r\n            >\r\n            </Dropdown>\r\n          </div>\r\n          <div className=\"col-sm-6 col-lg-3 flex top right\">\r\n            95% CI\r\n            <InformationIcon\r\n              offset=\"10px\"\r\n              position=\"bottom right\"\r\n              color=\"#455a64\"\r\n              size=\"sm\"\r\n              tooltip={Translate(\"95%ConfidenceIntervalTooltip\")}\r\n              tooltipHeader={Translate(\"95%ConfidenceInterval\")} />\r\n          </div>\r\n        </div>\r\n        {(records.length > 0) || (state.analyze.isLoading) ? \r\n        <ResponsiveContainer width=\"100%\" height=\"80%\">\r\n          <BarChart data={records} layout='vertical' barGap={10}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis type=\"number\" name={`${Translate(\"Seroprevalence\")} (%)`} padding={{ left: 0, right: 30 }} />\r\n            <YAxis dataKey=\"name\" type=\"category\" interval={0} width={getYAxisWidth(records) * 7} tickFormatter={tickFormatter} />\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <Legend />\r\n            <Bar isAnimationActive={false} dataKey=\"seroprevalence\" name={`${Translate('Seroprevalence')} (%)`} fill=\"#55A6BA\" maxBarSize={60} barSize={20}>\r\n              <LabelList dataKey=\"seroprevalence\" position=\"right\" content={renderCustomizedLabel} />\r\n              <ErrorBar dataKey=\"error\" width={4} strokeWidth={2} />\r\n            </Bar>       \r\n          </BarChart>\r\n        </ResponsiveContainer> : \r\n        <div className=\"no-data-container\">\r\n          <div>\r\n            <div className=\"no-data-text pb-1\">{Translate('NoDataAnalyze', ['PartOne'])}</div> \r\n            <div className=\"no-data-text\">{Translate('NoDataAnalyze', ['PartTwo'])}</div>\r\n          </div>\r\n        </div>\r\n        }\r\n      </div>\r\n      <div className=\"container col-11 my-3 references\">\r\n        <ReferencesTable page={PageStateEnum.analyze} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Popup } from \"semantic-ui-react\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport './shared.scss';\n\ninterface InformationTextProps {\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\n  tooltip: string | React.ReactNode;\n  tooltipHeader?: string;\n  offset: string | number;\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\n  text: string;\n}\n\nexport default function InformationText(props: InformationTextProps) {\n  const { text, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\n  return (\n      <Popup\n        key={Math.random()}\n        offset={offset}\n        position={position}\n        size={popupSize}\n        onOpen={() => {\n          sendAnalyticsEvent({\n            /** Typically the object that was interacted with (e.g. 'Video') */\n            category: 'Tooltip',\n            /** The type of interaction (e.g. 'play') */\n            action: 'opening',\n            /** Useful for categorizing events (e.g. 'Fall Campaign') */\n            label: tooltipHeader || \"Unknown tooltip\"\n            /** A numeric value associated with the event (e.g. 42) */\n          })\n        }}\n        //fix for janky popup positioning due to overflow styling\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\n        trigger={<span className=\"info-text\">{text}</span>}>\n        {tooltipHeader && (\n\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\n        )}\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\n      </Popup>\n  );\n}","import React from \"react\";\nimport Translate from \"../../../utils/translate/translateService\";\nimport InformationText from \"../../shared/InformationText\";\nimport './AnalysisMethods.css';\n\nconst MIN_DENOMINATOR = 100\nexport default function AnalysisMethods() {\n    return (\n        <div className=\"analysis-methods\">\n            <div className=\"section-title py-2 center\">\n                {Translate(\"AnalysisMethods\", [\"Title\"]).toUpperCase()}\n            </div>\n            <div>\n                <div>\n                    {Translate(\"AnalysisMethods\", [\"FirstParagraph\", \"FirstSentence\"], null, [false, true])}\n                    <InformationText\n                        tooltip={\n                            <div>\n                                <p>\n                                    {Translate(\"AnalysisMethods\", [\"Tooltip\"], { \"MIN_DENOMINATOR\": MIN_DENOMINATOR })}\n                                </p>\n                            </div>\n                        }\n                        text={Translate(\"Aggregating\").toLowerCase()}\n                        offset={-12}\n                    />\n                    {Translate(\"AnalysisMethods\", [\"FirstParagraph\", \"SecondSentence\"], null, [true, false])}\n                </div>\n            </div>\n            <p>\n            {Translate(\"AnalysisMethods\", [\"SecondParagraph\"], null)}\n        </p>\n            <p>\n            {Translate(\"AnalysisMethods\", [\"ThirdParagraph\"], null)}\n        </p>\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { State, PageState } from \"../../../types\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport './TotalStats.css';\r\n\r\ninterface TotalStatsProps {\r\n  page: string\r\n}\r\n\r\nexport default function TotalStats({ page }: TotalStatsProps) {\r\n  const [state] = useContext(AppContext);\r\n  const [countries, setNumCountries] = useState(0);\r\n  const [numStudies, setNumStudies] = useState(0);\r\n  const [n, setN] = useState(0);\r\n  const pageState= state[page as keyof State] as PageState;\r\n\r\n  useEffect(() => {\r\n    const updateCountryPrevalence = async () => {\r\n      setNumCountries(pageState.estimateGradePrevalences.length);\r\n      setN(pageState.estimateGradePrevalences.map((o: Record<string, any>) => o.testsAdministered).reduce((a: number, b: number) => a + b, 0));\r\n      setNumStudies(pageState.estimateGradePrevalences.map((o: Record<string, any>) => o.numberOfStudies).reduce((a: number, b: number) => a + b, 0));\r\n    }\r\n    updateCountryPrevalence();\r\n  }, [pageState.estimateGradePrevalences])\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 stats-container\">\r\n      <div className=\"col-12 pb-2 pt-4 section-title center\">{Translate('SummaryStatistics').toUpperCase()}</div>\r\n      {/* <div className=\"col-12 p-0 flex\">\r\n        <div className=\"main-statistic-title col-12 p-0 center-item flex\">\r\n          {Translate('Seroprevalence')}\r\n          <InformationIcon\r\n            color=\"#468ac1\"\r\n            offset={-12}\r\n            tooltip={\r\n              <div>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['FirstParagraph'])}\r\n                </p>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['SecondParagraph'])}\r\n                </p>\r\n                <p>\r\n                  {Translate(\"SeroprevalenceTooltip\", ['ThirdParagraph'], { \"MIN_DENOMINATOR\": MIN_DENOMINATOR })}\r\n                </p>\r\n              </div>\r\n            }\r\n            size=\"xs\"\r\n            tooltipHeader={Translate(\"AggregatedPrevalence\")} /></div>\r\n        <div className=\"main-statistic col-12 p-0 center\">{seroprevalence ? `${seroprevalence!.toFixed(2)}%` : Translate(\"NoData\")}</div>\r\n      </div> */}\r\n      <div className=\"col-12 flex middle pb-2\">\r\n        <div className=\"secondary-statistic-title center p-0 col-12\">{Translate(\"TestsAdministered\")}</div>\r\n        <div className=\"secondary-statistic col-12 p-0 center\">{n}</div>\r\n      </div>\r\n      <div className=\"col-12 flex middle py-2\">\r\n        <div className=\"secondary-statistic-title center p-0\">{Translate(\"NumSeroprevalenceEstimates\")}</div>\r\n        <div className=\"secondary-statistic px-1 center\">{numStudies}</div>\r\n      </div>\r\n      <div className=\"col-12 flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">{Translate(\"CountriesIncluded\")}</div>\r\n        <div className=\"secondary-statistic px-1 center\">{countries}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import _ from 'lodash';\r\nimport httpClient from '../httpClient'\r\nimport { AggregationFactor, Filters, FilterType } from '../types'\r\n\r\nexport const updateFilters = async (\r\n  dispatch: any,\r\n  filters: Filters,\r\n  filterType: FilterType,\r\n  filterValue: any[],\r\n  exploreIsOpen: Boolean,\r\n  page: string,\r\n  aggregationFactor: AggregationFactor) => {\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n\r\n  dispatch({\r\n    type: 'UPDATE_FILTER',\r\n    payload: {\r\n      filterType,\r\n      filterValue,\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  const updatedFilters: Filters = Object.assign({}, filters);\r\n  updatedFilters[filterType] = new Set(filterValue);\r\n\r\n  const api = new httpClient()\r\n  // Update current records when called\r\n  const [records,\r\n    estimateGradePrevalences, reAggregatedRecords] = await\r\n      Promise.all([\r\n        api.getAirtableRecords(updatedFilters, exploreIsOpen),\r\n        api.getEstimateGrades(updatedFilters),\r\n        page === \"analyze\" ? api.postMetaAnalysis(updatedFilters, aggregationFactor) : Promise.resolve()\r\n      ]);\r\n \r\n  const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  if (page === \"analyze\") {\r\n    dispatch({\r\n      type: \"UPDATE_META_ANALYSIS\",\r\n      payload: {\r\n        pageStateEnum: page,\r\n        metaAnalyzedRecords\r\n      }\r\n    })\r\n  }\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}\r\n\r\nexport const initializeData = async (dispatch: any, filters: Filters, exploreIsOpen: Boolean, page: string) => {\r\n\r\n  const api = new httpClient()\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n  \r\n  const [records,\r\n    reAggregatedRecords,\r\n    estimateGradePrevalences] = await Promise\r\n      .all([api.getAirtableRecords(filters, exploreIsOpen),\r\n      api.postMetaAnalysis(filters, AggregationFactor.country),\r\n      api.getEstimateGrades(filters)]);\r\n\r\n\r\n  const metaAnalyzedRecords = _.sortBy(reAggregatedRecords, 'seroprevalence').reverse();\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"UPDATE_META_ANALYSIS\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      metaAnalyzedRecords\r\n    }\r\n  })\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InformationIcon from \"../../shared/InformationIcon\";\n\ninterface SectionHeaderProps {\n    header_text: string,\n    tooltip_text?: string | React.ReactNode,\n    tooltip_header?: string\n}\n\nexport default function SectionHeader({header_text, tooltip_text, tooltip_header}: SectionHeaderProps){\n    return (\n        <div className=\"pb-2 flex\">\n        <div className=\"filter-section-header\">{header_text}</div>\n        {tooltip_text && (\n            <div className=\"tooltip-vert-adj\">\n            <InformationIcon\n                offset={10}\n                position=\"bottom right\"\n                color=\"#455a64\"\n                tooltipHeader={tooltip_header ? tooltip_header : header_text}\n                popupSize=\"small\"\n                size=\"sm\"\n                tooltip={tooltip_text} />\n            </div>\n        )}\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Input } from \"semantic-ui-react\";\r\nimport { AppContext } from \"../../../../context\";\r\nimport { FilterType, PageState, State } from '../../../../types';\r\nimport { updateFilters } from \"../../../../utils/stateUpdateUtils\";\r\nimport Translate from \"../../../../utils/translate/translateService\";\r\nimport SectionHeader from \"../SectionHeader\";\r\nimport {enUS, fr} from 'date-fns/locale'\r\n\r\ninterface DatepickerProps {\r\n  page: string\r\n}\r\n\r\nexport default function Datepicker({ page }: DatepickerProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n  const [filterStartDate, filterEndDate] = Array.from(pageState.filters.publish_date);\r\n  const [startDate, setStartDate] = useState(filterStartDate);\r\n  const [endDate, setEndDate] = useState(filterEndDate);\r\n\r\n  useEffect(() => {\r\n    registerLocale(\"en\", enUS)\r\n    registerLocale(\"fr\", fr)\r\n  }, [])\r\n\r\n  const datePickerChanged = async (isStart: Boolean, date: Date) => {\r\n    const newDates = [startDate, endDate];\r\n    newDates[0] = isStart ? date : startDate;\r\n    newDates[1] = !isStart ? date : endDate;\r\n\r\n    if (isStart) {\r\n      setStartDate(date);\r\n    }\r\n    else {\r\n      setEndDate(date);\r\n    }\r\n    await updateFilters(dispatch,\r\n      pageState.filters,\r\n      \"publish_date\" as FilterType,\r\n      newDates,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const CustomInput = ({ value, onClick, text }: any) => (\r\n    <div className=\"col-12 p-0 flex column\">\r\n      <div>\r\n        {text}\r\n      </div>\r\n      <Input className=\"col-12 p-0 cursor\"\r\n        value={value}\r\n        iconPosition=\"left\"\r\n        icon=\"calendar\"\r\n        fluid={true}\r\n        type=\"text\"\r\n        placeholder='Select date..'\r\n        onClick={onClick} />\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-10 col align-items-center p-0\">\r\n        <div className=\"pb-1\">\r\n          <div>\r\n            <SectionHeader header_text={Translate('DateRange')} tooltip_text={Translate('DateRangeTooltip')} />\r\n          </div>\r\n          <div>\r\n            <DatePicker\r\n              dateFormat=\"yyyy/MM/dd\"\r\n              selected={startDate}\r\n              minDate={state.calendarStartDates.minDate}\r\n              maxDate={endDate}\r\n              customInput={<CustomInput value={startDate} text={Translate(\"StartDate\")} onClick={onclick} />}\r\n              closeOnScroll={true}\r\n              locale={state.language}\r\n              onChange={() => { }}\r\n              withPortal\r\n              showMonthDropdown\r\n              showYearDropdown\r\n              shouldCloseOnSelect={false}\r\n              dropdownMode=\"select\"\r\n              onSelect={(date: Date) => datePickerChanged(true, date)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <DatePicker\r\n            dateFormat=\"yyyy/MM/dd\"\r\n              className=\"col-12 p-0 date-picker\"\r\n              selected={endDate}\r\n              locale={state.language}\r\n              onSelect={(date: Date) => datePickerChanged(false, date)}\r\n              customInput={<CustomInput value={startDate} text={Translate(\"EndDate\")} onClick={onclick} />}\r\n              minDate={startDate}\r\n              maxDate={state.calendarStartDates.maxDate}\r\n              onChange={() => { }}\r\n              withPortal\r\n              showMonthDropdown\r\n              closeOnScroll={true}\r\n              shouldCloseOnSelect={false}\r\n              showYearDropdown\r\n              todayButton=\"Today\"\r\n              dropdownMode=\"select\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"pb-1\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { AppContext } from \"../../../context\";\r\nimport { FilterType, PageState, State } from '../../../types';\r\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\r\nimport { updateFilters } from \"../../../utils/stateUpdateUtils\";\r\nimport { toPascalCase } from \"../../../utils/translate/caseChanger\";\r\nimport Translate, { getCountryName } from \"../../../utils/translate/translateService\";\r\nimport InformationIcon from \"../../shared/InformationIcon\";\r\nimport SectionHeader from \"./SectionHeader\";\r\n\r\ninterface FilterProps {\r\n  page: string\r\n}\r\n\r\nexport default function Filters({ page }: FilterProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  const getFilters = (filter_type: FilterType): string[] => {\r\n    return Array.from(pageState.filters[filter_type]) as string[]\r\n  }\r\n\r\n  const formatOptions = (options: any, filter_type: FilterType) => {\r\n    if (!options) {\r\n      return\r\n    }\r\n    const formatted_options: Record<string, string>[] = [];\r\n    const optionString = toPascalCase(filter_type.toString());\r\n    const jsonObjectString = `${optionString}Options`;\r\n    switch (filter_type) {\r\n      case 'country':\r\n        options.forEach((o: string) => {\r\n          formatted_options.push({\r\n            key: o,\r\n            text: getCountryName(o, state.language, jsonObjectString),\r\n            value: o\r\n          })\r\n        });\r\n        break;\r\n      default:\r\n        options.forEach((o: string) => {\r\n          const translatedString = Translate(jsonObjectString, [toPascalCase(o)]);\r\n          const alternativeString = Translate(jsonObjectString, [o.replace(/ /g, '')]);\r\n          let text = !alternativeString && !translatedString ? o + \"*\" : (translatedString ? translatedString : alternativeString);\r\n          formatted_options.push({\r\n            key: o,\r\n            text: text,\r\n            value: o\r\n          })\r\n        });\r\n    };\r\n    return formatted_options;\r\n  }\r\n\r\n  const addFilter = async (data: any, filterType: FilterType) => {\r\n    dispatch({\r\n      type: 'UPDATE_FILTER',\r\n      payload: {\r\n        filterType,\r\n        filterValue: data.value,\r\n        pageStateEnum: page\r\n      }\r\n    });\r\n    await updateFilters(\r\n      dispatch,\r\n      pageState.filters,\r\n      filterType,\r\n      data.value,\r\n      state.dataPageState.exploreIsOpen,\r\n      page,\r\n      state.chartAggregationFactor)\r\n  }\r\n\r\n  const buildFilterDropdown = (filter_type: FilterType, placeholder: string) => {\r\n    return (\r\n      <div className=\"pb-3\">\r\n        <Dropdown\r\n          text={placeholder}\r\n          fluid\r\n          multiple\r\n          search\r\n          clearable\r\n          selection\r\n          options={formatOptions(state.allFilterOptions[filter_type], filter_type)}\r\n          onChange={async (e: any, data: any) => {\r\n            await addFilter(data, filter_type)\r\n            sendAnalyticsEvent({\r\n              /** Typically the object that was interacted with (e.g. 'Video') */\r\n              category: 'Filter',\r\n              /** The type of interaction (e.g. 'play') */\r\n              action: 'selection',\r\n              /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n              label: `${filter_type.toString()} - ${data.value}`\r\n              /** A numeric value associated with the event (e.g. 42) */\r\n            })\r\n          }}\r\n          defaultValue={getFilters(filter_type)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0\">\r\n      <div className=\"py-3 center flex\">\r\n        <div className=\"section-title\">\r\n          {Translate(\"Filter\").toUpperCase()}\r\n        </div>\r\n        <div className=\"tooltip-vert-adj\">\r\n          <InformationIcon\r\n            offset={10}\r\n            position=\"bottom right\"\r\n            color=\"#455a64\"\r\n            tooltipHeader={Translate(\"Filter\")}\r\n            popupSize=\"small\"\r\n            size=\"sm\"\r\n            tooltip={Translate('FilterTooltip')} />\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Geography')} tooltip_text={Translate('GeographyTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('country', Translate('Country'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('estimate_grade', Translate('EstimateGrade'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              {\r\n                <SectionHeader \r\n                  header_text={Translate('StudyInformation')} \r\n                  tooltip_text={\r\n                  <div>\r\n                    <p>{Translate('StudyInformationTooltip', ['FirstParagraph'])}</p>\r\n                    <p>{Translate('StudyInformationTooltip', ['SecondParagraph'])}</p>\r\n                  </div>\r\n                  }\r\n                />\r\n              }\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('source_type', Translate('SourceType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('overall_risk_of_bias', Translate('OverallRiskOfBias'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Demographics')} tooltip_text={Translate('DemographicsTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('population_group', Translate('PopulationGroup'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('sex', Translate('Sex'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('age', Translate('Age'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('TestInformation')} tooltip_text={Translate('TestInformationTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('test_type', Translate('TestType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('isotypes_reported', Translate('IsotypesReported'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('specimen_type', Translate('SpecimenType'))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport './RightSidebar.css';\r\n\r\nexport default function LastUpdated() {\r\n  const [state] = useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"col-12 pb-2\">\r\n      <div className='col-12 p-0 center-item flex'>\r\n        <div className=\"section-title center last-refreshed-title\">\r\n        {Translate(\"DatabaseUptoDateTo\").toUpperCase()}\r\n        </div>\r\n      </div>\r\n      <div className=\"py-2 center\">\r\n        {state.updatedAt}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { faBars, faFilter, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../types\";\nimport Charts from \"../charts/Charts\";\nimport AnalysisMethods from \"../sidebar/left-sidebar/AnalysisMethods\";\nimport TotalStats from \"../sidebar/left-sidebar/TotalStats\";\nimport Datepicker from \"../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../sidebar/right-sidebar/Filters\";\nimport LastUpdated from \"../sidebar/right-sidebar/LastUpdated\";\n\nexport default function AnalyzeMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n\n  const handleFilterToggle = (showMobile: boolean, showSummary: boolean) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n  }\n\n  return (\n    <div className=\"fill flex\">\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        {/* Filters */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n          <Filters page={PageStateEnum.analyze}/>\n          <Datepicker page={PageStateEnum.analyze}/>\n          <LastUpdated />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        {/* Left Sidebar */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <TotalStats page={PageStateEnum.analyze}/>\n          <AnalysisMethods />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <Charts />\n          {/* Icons */}\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 15 }}>\n            <FontAwesomeIcon\n              icon={faFilter}\n              onClick={() => handleFilterToggle(!showMobileFilters, false)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 58 }}>\n            <FontAwesomeIcon\n              icon={faBars}\n              onClick={() => handleFilterToggle(false, !showSummary)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport './shared.scss';\nimport Translate from \"../../utils/translate/translateService\";\n\ninterface MaintenanceModalProps {\n    isOpen: boolean,\n    headerText: string // specifies if analysis or explore page\n  }\n\nexport default function MaintenanceModal(props: MaintenanceModalProps) {\n\n    const { isOpen, headerText } = props;\n\n    return (\n        <Modal\n          className=\"maintenance-modal\"\n          closeOnEscape={false}\n          closeOnDimmerClick={false}\n          open={isOpen}\n        >\n          <Modal.Header>{Translate(headerText)} {Translate('TemporaryMaintenance')}</Modal.Header>\n          <Modal.Content>\n            <p>{Translate('TemporaryMaintenanceDescription')}</p>\n          </Modal.Content>\n        </Modal>\n    );\n}\n","import React, { useContext } from \"react\";\r\nimport \"../sidebar.css\";\r\nimport AnalysisMethods from \"./AnalysisMethods\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport TotalStats from \"./TotalStats\";\r\nimport HealthAgencyLogo from '../../../assets/images/public-health-agency.png';\r\nimport UcalgaryLogo from '../../../assets/images/University-Of-Calgary-Logo.png';\r\nimport WhoLogo from \"assets/images/WHO_LOGO.png\"\r\nimport { AppContext } from \"../../../context\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function LeftSidebar({ page }: SideBarProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n\r\n  const ExploreText = () => (\r\n    <div className=\"analysis-methods\">\r\n      <div className=\"section-title py-2 center\">\r\n        {Translate('Welcome').toUpperCase()}\r\n      </div>\r\n      <p>\r\n        {Translate('ExploreBlurb', ['FirstParagraph'])}\r\n      </p>\r\n      <p>\r\n        {Translate('ExploreBlurb', ['SecondParagraph'])}\r\n      </p>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"sidebar-container flex\">\r\n      <TotalStats page={page} />\r\n      {page === \"explore\" ? (\r\n        <ExploreText />\r\n      ) : (\r\n          <AnalysisMethods />\r\n        )\r\n      }\r\n      <div className=\"m-3\">\r\n        <a href=\"https://www.covid19immunitytaskforce.ca/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" className=\"d-block mx-auto\" alt=\"COVID-19 Immunity Task Force Logo\" height=\"25\"></img>\r\n        </a>\r\n        <a href=\"https://www.canada.ca/en/public-health.html/\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={HealthAgencyLogo} className=\"d-block mx-auto\" alt=\"Public Health Agency Logo\" height=\"25\"></img>\r\n        </a>\r\n        <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" className=\"d-block mt-3 mx-auto\" target=\"__blank\" rel=\"noopener noreferrer\">\r\n          <img src={UcalgaryLogo} className=\"d-block mx-auto\" alt=\"Centre for Health Informatics\" height=\"22\"></img>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport { withLocaleUrl } from \"../../../utils/utils\";\r\nimport \"../sidebar.css\";\r\nimport Datepicker from \"./datepicker/Datepicker\";\r\nimport Filters from \"./Filters\";\r\nimport LastUpdated from \"./LastUpdated\";\r\nimport \"./RightSidebar.css\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function RightSidebar({page}: SideBarProps) {\r\n  return (\r\n    <div className=\"justify-content-between fill sidebar-container\">\r\n      <div className=\"filters-container mb-3\">\r\n        <Filters page={page}/>\r\n        <Datepicker page={page}/>\r\n      </div>\r\n      <div className=\"fill\">\r\n        <LastUpdated />\r\n        <div className=\"fill center-item flex\">\r\n          <Link className=\"p-1\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>\r\n          <Link className=\"p-1\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\r\n          <Link className=\"p-1\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Loader } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { AppContext } from \"../../../context\";\nimport { PageStateEnum } from \"../../../types\";\nimport Charts from \"../../charts/Charts\";\nimport AnalyzeMobile from '../../mobile/AnalyzeMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport RightSidebar from \"../../sidebar/right-sidebar/RightSidebar\";\n\n\nexport default function Analyze() {\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n  const [state] = useContext(AppContext)\n\n  return (\n    <>\n      <div className=\"fill flex dashboard\">\n        {!isMobileDeviceOrTablet ?\n          (<div className=\"fill flex\">\n            <div className=\"col-2 p-0 flex\">\n              <LeftSidebar page={PageStateEnum.analyze} />\n            </div>\n            <div className=\"col-8 p-0 flex\">\n              <Loader indeterminate active={state.analyze.isLoading}></Loader>\n              <Charts />\n            </div>\n            <div className=\"col-2 p-0 flex\">\n              <RightSidebar page={PageStateEnum.analyze} />\n            </div>\n          </div>) :\n          (\n            <div className=\"fill flex\">\n              <AnalyzeMobile />\n            </div>\n          )}\n      </div >\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Analyze\"} />\n    </>\n  )\n}\n","export const MapSymbology = {\n    StudyFeature: {\n        National: {\n            Color: '#094180',\n            Size: 11\n        },\n        Regional: {\n            Color: '#F19E66',\n            Size: 9\n        },\n        Local: {\n            Color: '#E15759',\n            Size: 6\n        },\n        Sublocal: {\n            Color: '#E15759',\n            Size: 5\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Size: 0\n        }\n    },\n    CountryFeature: {\n        HasData: {\n            Color: '#97b1bd',\n            Opacity: 0.5 \n        },\n        Default: {\n            Color: '#FFFFFF',\n            Opacity: 0 \n        }\n    },\n    Border: {\n        Color: \"#455a64\"\n    }\n}\n\nexport const MapUrlResource = {\n    WHO_BASEMAP : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_no_labels/VectorTileServer\",\n    WHO_COUNTRY_VECTORTILES : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/Countries/VectorTileServer\"\n}\n\nconst MapConfig = {\n    Studies: {\n        \"circle-color\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Color,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Color,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Color,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Color,\n          MapSymbology.StudyFeature.Default.Color,\n        ],\n        \"circle-radius\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Size,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Size,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Size,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Size,\n          MapSymbology.StudyFeature.Default.Size,\n        ],\n        \"circle-opacity\": 0.6,\n      } as mapboxgl.CirclePaint,\n\n      Countries : {\n        'fill-color': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false],\n          MapSymbology.CountryFeature.HasData.Color,\n          MapSymbology.CountryFeature.Default.Color\n        ],\n        'fill-opacity': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false],\n          MapSymbology.CountryFeature.HasData.Opacity,\n          MapSymbology.CountryFeature.Default.Opacity\n        ]\n      }\n}\n\nexport default MapConfig;","import mapboxgl from \"mapbox-gl\";\nimport httpClient from \"../httpClient\";\nimport MapConfig from \"components/map/MapConfig\"\n\n// Params: url - to an esri vector tile service\n// Returns: Modified style object with attributes for Mapbox GL JS compatability \nasync function prepare(url: string) {\n\n  const styleUrl = url + \"/resources/styles/root.json\";\n\n  const api = new httpClient()\n\n  let fetchedStyle = await api.getStyles(styleUrl);\n  fetchedStyle.sprite = url + \"/resources/sprites/sprite\";\n  fetchedStyle.glyphs = url + \"/resources/fonts/{fontstack}/{range}.pbf\";\n  fetchedStyle.sources.esri = {\n    type: 'vector',\n    tiles: [url + \"/tile/{z}/{y}/{x}.pbf\"],\n    maxzoom: 23,\n  };\n\n  return fetchedStyle;\n};\n\n// Params: url - to an esri vector tile service\n// Returns: Mapbox style object with applied serotracker styling expressions\nexport async function getEsriVectorSourceStyle(url: string) {\n    let style = await prepare(url)\n\n    var source = style.sources.esri as mapboxgl.VectorSource;\n\n    const l = style.layers[0] as mapboxgl.Layer;\n    if (l.id === \"Countries\") {\n      source.promoteId = { \"Countries\": \"CODE\" }\n      l.paint = MapConfig.Countries\n    }\n\n    return style\n}\n\n// Params: mapbox style object, mapbox instance to add layers to\nexport function addEsriLayersFromVectorSourceStyle(style: any, map: mapboxgl.Map) {\n  const sourceLayerId = style?.layers[0][\"source-layer\"] as string;\n\n  map.addSource(sourceLayerId, style.sources.esri);\n  \n  if (sourceLayerId === \"Countries\"){\n    const layer = style?.layers[0]\n    layer.source = sourceLayerId;\n    map.addLayer(layer)\n  }\n  else{\n  style.layers.forEach((layer: any) => {\n    if (layer.source !== \"DISPUTED_AREAS\" && layer.source !== \"DISPUTED_BORDERS\")\n    {\n      layer.source = sourceLayerId;\n      map.addLayer(layer);\n    }\n  });\n}\n}\n","import React, { useContext } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport { AppContext } from \"../../context\";\r\nimport \"./Legend.css\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport { MapSymbology } from \"components/map/MapConfig\"\r\n\r\ninterface LegendProps {\r\n  \r\n}\r\n\r\nexport default function Legend(props: LegendProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth })\r\n  const clickEstimatePinsCheckbox = (e: React.MouseEvent<HTMLElement>) => {\r\n    dispatch({ type: 'TOGGLE_ESTIMATE_PINS' })\r\n  }\r\n\r\n  return (\r\n    <div className={isMobileDeviceOrTablet ? \"info flex legend-mobile center-item\" : \"info flex legend center-item\"}>\r\n      <div className=\"flex legend-container\" key={Math.random()}>\r\n        <div className=\"legend-item cursor\" onClick={clickEstimatePinsCheckbox}>\r\n          <i className=\"block\"><input className=\"checkbox\" type=\"checkbox\" checked={state.showEstimatePins} /></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"StudyPins\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\" style={{ background: MapSymbology.StudyFeature.National.Color }}></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"NationalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\" style={{ background: MapSymbology.StudyFeature.Regional.Color }}></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"RegionalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\" style={{ background: MapSymbology.StudyFeature.Local.Color }}></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"LocalStudies\")}</p>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <i className=\"block\" style={{ background: MapSymbology.CountryFeature.HasData.Color }}></i>\r\n          <p className={isMobileDeviceOrTablet ? \"mobile-text px-2\" : \"px-2\"}>{Translate(\"CountryEstimatesExist\")}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\nimport { RegionalPrevalenceEstimate } from \"types\";\nimport { LanguageType } from \"types\";\nimport Translate, { getCountryName } from 'utils/translate/translateService';\n\nconst createPopupGeographySection = (regionalEstimate: RegionalPrevalenceEstimate, title: string) => {\n  const minString = `${(regionalEstimate.minEstimate * 100).toFixed(2)}%`\n  const maxString = `${(regionalEstimate.maxEstimate * 100).toFixed(2)}%`\n  const regionString = minString === maxString ? minString : `${minString} - ${maxString}`;\n\n  return (\n    <div key={Math.random()} className={\"flex fit column popup-heading\"}>\n      <div key={Math.random()} className=\"popup-heading pt-1\">{title}</div>\n      <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('EstimateRange')}: <b>{regionString}</b></div>\n      <div key={Math.random()} className=\"col-12 p-0 popup-text\">{Translate('NumberEstimates')}: <b>{regionalEstimate.numEstimates}</b></div>\n    </div>\n  )\n}\n\nconst CountryPopup = (country : any, language : LanguageType) => {\n\n  const properties = country?.state\n\n  if (properties.testsAdministered) {\n    const regions: Array<any> = []\n    let addRegion = (r: RegionalPrevalenceEstimate, name: string) => { \n      return (r !== undefined && r.numEstimates !== 0 ? regions.push({Region: r, Name: name}) : null) \n    }\n    addRegion(properties.nationalEstimate, Translate('NationalEstimates'));\n    addRegion(properties.regionalEstimate, Translate('RegionalEstimates'));\n    addRegion(properties.localEstimate, Translate('LocalEstimates'));\n    addRegion(properties.sublocalEstimate, Translate('SublocalEstimates'));\n\n    return (\n      <div className=\"col-12 p-0 flex column country-popup\" >\n        <div className=\"fit popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n        <div className=\"flex column fit popup-heading\">\n          <div className=\"fit popup-text\">{Translate(\"TestsAdministered\")}: <b>{properties?.testsAdministered}</b></div>\n          <div className=\"fit popup-text\">{Translate('NumSeroprevalenceEstimates')}: <b>{properties?.numberOfStudies}</b></div>\n        </div>\n        {regions.map((o) => createPopupGeographySection(o.Region, o.Name))}\n      </div>)\n  };\n\n  return (\n    <div className=\"col-12 p-0 flex\">\n      <div className=\"fit popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n      <div className=\"col-12 p-0 flex popup-text\">{Translate('NoData')}</div>\n    </div>)\n}\n\nexport default CountryPopup;","import { useState, useEffect, useContext } from \"react\"\nimport { AppContext } from \"context\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { EstimateGradePrevalence } from \"types\";\nimport mapboxgl from \"mapbox-gl\";\nimport CountryPopup from 'components/map/Popups/CountryPopup'\n\n// Maps estimate grade prevalence data to a match ISO3 code in the countries feature layer\nfunction SetCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    estimateGradePrevalences.forEach((country: EstimateGradePrevalence) => {\n        if (country && country.testsAdministered && country.alpha3Code) {\n            map.setFeatureState(\n                {\n                    source: \"Countries\",\n                    sourceLayer: \"Countries\",\n                    id: country.alpha3Code,\n                },\n                {\n                    hasData: true,\n                    testsAdministered: country.testsAdministered,\n                    geographicalName: country.geographicalName,\n                    numberOfStudies: country.numberOfStudies,\n                    localEstimate: country.localEstimate,\n                    nationalEstimate: country.nationalEstimate,\n                    regionalEstimate: country.regionalEstimate,\n                    sublocalEstimate: country.sublocalEstimate,\n                }\n            );\n        }\n    });\n}\n\n// Filters out Country features based on their existance within the new estimate grade prevalences\nfunction FilterCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    const onlyIso3: (string | null)[] = estimateGradePrevalences.map((c) => { return c.alpha3Code })\n\n    if (map.getLayer(\"Countries\") && map.isSourceLoaded('Countries')) {\n        map?.setFilter('Countries',\n            [\"in\",\n                [\"get\", 'CODE'],\n                [\"literal\", onlyIso3]\n            ]);\n    }\n    else { // If countries has not been loaded, wait until it's source has finished.\n        map.on('sourcedata', function (e: any) {\n            if (e.sourceId === 'Countries' && map.isSourceLoaded('Countries')) {\n                map?.setFilter('Countries',\n                    [\"in\",\n                        [\"get\", 'CODE'],\n                        [\"literal\", onlyIso3]\n                    ]);\n            }\n        });\n    }\n}\n\nconst Countries = (map: mapboxgl.Map | undefined, estimateGradePrevalences: EstimateGradePrevalence[]) => {\n\n    const [state] = useContext(AppContext);\n    const [popup, setPopup] = useState<mapboxgl.Popup | undefined>(undefined);\n\n    // If estimates are updated, waits until map is loaded then maps estimate data to country features\n    useEffect(() => {\n        if (estimateGradePrevalences.length > 0 && map && map.getSource('Countries')) {\n            SetCountryEstimates(map, estimateGradePrevalences);\n        }\n        else if (map) {\n            map.on('sourcedata', function (e: any) {\n                if (e.sourceId === 'Countries' && map.isSourceLoaded('Countries')) {\n                    SetCountryEstimates(map, estimateGradePrevalences);\n                }\n            });\n        }\n    }, [estimateGradePrevalences, map]);\n\n    // If estimates are updated, waits until map is loaded then filters country features\n    useEffect(() => {\n        if (estimateGradePrevalences.length > 0 && map) {\n            FilterCountryEstimates(map, estimateGradePrevalences)\n        }\n    }, [estimateGradePrevalences, map]);\n\n    // wait until map is loaded then creates and binds popup to map events\n    useEffect(() => {\n        if (map && popup === undefined) {\n            const countryPop = new mapboxgl.Popup({ offset: 25, className: \"pin-popup\", closeButton: false });\n\n            map.on(\"mouseenter\", \"Countries\", function (e: any) {\n                if (e.features[0].state.hasData) {\n                    countryPop.setMaxWidth(\"250px\")\n                        .setHTML(ReactDOMServer.renderToString(CountryPopup(e.features[0], state.language)))\n                        .setLngLat(e.lngLat)\n                        //.trackPointer()\n                        .addTo(map);\n                }\n            });\n\n            map.on(\"mouseleave\", \"Countries\", function (e: any) {\n                if (countryPop.isOpen()) {\n                    countryPop\n                    .remove()\n                }\n            });\n\n            map.on(\"mousemove\", \"Countries\", function (e: any) {\n                if (e.features[0].state.hasData && countryPop.isOpen()) {\n                    countryPop\n                    .setLngLat(e.lngLat)\n                    .setHTML(ReactDOMServer.renderToString(CountryPopup(e.features[0], state.language)))\n                }\n            });\n\n            setPopup(countryPop);\n        }\n    }, [map, state.language, popup])\n\n    return;\n}\n\nexport default Countries;","import { AirtableRecord } from \"../types\";\n\n// Please refer to GeoJSON spec rfc7946 if adding addiontal members: https://tools.ietf.org/html/rfc7946#section-3.1.1\nfunction recordsToGeoJsonFeatures(records: AirtableRecord[]): GeoJSON.Feature[] {\n    return records.flatMap((record) => {\n        if (!record.pin_latitude && !record.pin_longitude){\n            return [];\n        }\n        return {\n            type: \"Feature\",\n            id: record.source_id ?? undefined,\n            properties: { // We can add any properties here to modify how we want to render the pin - helpful for WHO data\n                estimate_grade: record.estimate_grade,\n                source_id: record.source_id ?? undefined\n            },\n            geometry: {\n                type: \"Point\",\n                coordinates: [record.pin_longitude, record.pin_latitude],\n            },\n        };\n    });\n}\n\nexport default function generateSourceFromRecords(records: AirtableRecord[]): mapboxgl.GeoJSONSourceRaw {\n    const source = {\n        type: \"geojson\",\n        data: {\n            type: \"FeatureCollection\",\n            features: recordsToGeoJsonFeatures(records),\n        },\n    } as mapboxgl.GeoJSONSourceRaw;\n\n    return source;\n}","import { useState, useEffect, useContext } from \"react\"\nimport ReactDOMServer from \"react-dom/server\";\nimport StudyPopup from \"components/map/Popups/StudyPopup\";\nimport { AppContext } from \"context\";\nimport { AirtableRecord } from \"types\";\nimport httpClient from \"httpClient\";\nimport mapboxgl from \"mapbox-gl\";\nimport generateSourceFromRecords from \"utils/GeoJsonGenerator\";\nimport MapConfig from \"components/map/MapConfig\"\n\nconst StudyPins = (map: mapboxgl.Map | undefined, records: AirtableRecord[], showEstimatePins: boolean) => {\n\n  const [state] = useContext(AppContext);\n  const [api] = useState(new httpClient());\n\n  useEffect(() => {\n    if (map && records.length > 0 && map.getLayer(\"study-pins\") === undefined) {\n      const src = generateSourceFromRecords(records);\n      map.addSource(\"study-pins\", src);\n      map.addLayer({\n        id: \"study-pins\",\n        type: \"circle\",\n        source: \"study-pins\",\n        paint: MapConfig.Studies\n      });\n    }\n    else if (map && map.getLayer(\"study-pins\")) {\n      map.setLayoutProperty(\"study-pins\", 'visibility', showEstimatePins ? 'visible' : 'none');\n    }\n\n    var onlyGuid: (string | null)[] = records.map((r) => { return r.source_id })\n\n    map?.setFilter('study-pins',\n      [\"in\",\n        ['get', 'source_id'],\n        [\"literal\", onlyGuid]\n      ]);\n  }, [map, records, showEstimatePins]);\n\n  useEffect(() => {\n    if (map) {\n      map.on(\"click\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n        const source_id = e.features[0].properties.source_id;\n\n        api.getRecordDetails(source_id).then((record) => {\n          if (record !== null) {\n            new mapboxgl.Popup({ offset: 5, className: \"pin-popup\" })\n              .setLngLat(e.lngLat)\n              .setHTML(ReactDOMServer.renderToString(StudyPopup(record)))\n              .setMaxWidth(\"300px\")\n              .addTo(map);\n          }\n        });\n      });\n\n      map.on(\"mouseenter\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"\";\n      });\n    }\n  }, [map, state.language, api])\n\n  return;\n}\n\nexport default StudyPins;","import React from \"react\";\nimport { AirtableRecord } from \"types\";\nimport Translate from 'utils/translate/translateService';\nimport { getGeography, getPossibleNullDateString } from 'utils/utils';\n\nexport default function StudyPopup(record: AirtableRecord) {\n    return (<React.Fragment>\n        <div className=\"popup-title\">\n            {Translate(`${record.estimate_grade}StudyDetails`)}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"StudyName\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.url ? <a href={record.url} target=\"_blank\" rel=\"noopener noreferrer\">{record.source_name}</a> : record.source_name}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"Location\")}\n        </div>\n        <div className=\"popup-text\">\n            {getGeography(record.city, record.state, record.country)}\n        </div>\n        {(record.sampling_start_date && record.sampling_end_date) && (\n            <>\n                <div className=\"popup-heading\">\n                    {Translate(\"SamplingDates\")}\n                </div>\n                <div className=\"popup-text\">\n                    {`${getPossibleNullDateString(record.sampling_start_date)} → ${getPossibleNullDateString(record.sampling_end_date)}`}\n                </div>\n            </>)\n        }\n        <div className=\"popup-heading\">\n            {Translate(\"BestSeroprevalenceEstimate\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.seroprevalence ? `${(record.seroprevalence * 100).toFixed(1)}%` : \"N/A\"}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"N\")}\n        </div>\n        <div className=\"popup-text\">\n            {`${record.denominator}`}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"PopulationGroup\")}\n        </div>\n        <div className=\"popup-text\">\n            {record.population_group ? `${record.population_group}` : Translate(\"NotReported\")}\n        </div>\n        <div className=\"popup-heading\">\n            {Translate(\"RiskOfBias\")}\n        </div>\n        <div className=\"popup-text\">\n            {`${record.overall_risk_of_bias}`}\n        </div>\n    </React.Fragment>)\n}","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { AppContext } from \"context\";\nimport { getEsriVectorSourceStyle, addEsriLayersFromVectorSourceStyle } from \"utils/EsriMappingUtil\";\nimport Legend from \"components/map/Legend\";\nimport Countries from \"components/map/Layers/Countries\";\nimport StudyPins from \"components/map/Layers/StudyPins\";\nimport { MapUrlResource } from 'components/map/MapConfig'\n// @ts-ignore\n// eslint-disable-next-line\nimport mapboxgl from '!mapbox-gl';\nimport \"components/map/MapboxMap.css\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY as string;\n\nfunction mapOnLoad(map: mapboxgl.Map) {\n  getEsriVectorSourceStyle(MapUrlResource.WHO_COUNTRY_VECTORTILES).then((style: mapboxgl.Style) => {\n    addEsriLayersFromVectorSourceStyle(style, map);\n    const styleJson: any = map.getStyle();\n    if (styleJson && styleJson.layers) {\n      for (let layer of styleJson.layers) {\n        const t = layer[\"source-layer\"];\n        if (t === \"DISPUTED_AREAS\") {\n          map.moveLayer(\"Countries\", layer.id); // HACK for now, moves countries layer behind border once loaded.\n          break;\n        }\n      }\n    }\n  });\n}\n\nconst MapboxGLMap = (): any => {\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const [state] = useContext(AppContext);\n  const [map, setMap] = useState<mapboxgl.Map | undefined>(undefined);\n\n  // Creates map, only runs once\n  useEffect(() => {\n    (async () => {\n      const baseMapStyle = await getEsriVectorSourceStyle(MapUrlResource.WHO_BASEMAP);\n\n      const m = new mapboxgl.Map({\n        //@ts-ignore\n        container: mapContainerRef.current,\n        style: baseMapStyle,\n        center: [0, 30],\n        zoom: 1,\n      });\n\n      m.on(\"load\", () => {\n        mapOnLoad(m);\n        setMap(m);\n      });\n    })();\n\n    return () => map?.remove();\n  }, []);\n\n  // Adds country data to map and binds pin behaviour with map popups\n  Countries(map, state.explore.estimateGradePrevalences);\n  // Adds pins to map and binds pin behaviour with map popups\n  StudyPins(map, state.explore.records, state.showEstimatePins);\n\n  return (\n    //@ts-ignore\n    <div className=\"mapContainer w-100\" ref={(el) => (mapContainerRef.current = el)}>\n      <Legend />\n    </div>\n  );\n};\n\nexport default MapboxGLMap;\n","import { faBars, faFilter, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {  useState } from \"react\";\nimport { Menu, Segment, Sidebar } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../types\";\nimport MapboxMap from \"components/map/MapboxMap\"\nimport AnalysisMethods from \"../sidebar/left-sidebar/AnalysisMethods\";\nimport TotalStats from \"../sidebar/left-sidebar/TotalStats\";\nimport Datepicker from \"../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../sidebar/right-sidebar/Filters\";\nimport LastUpdated from \"../sidebar/right-sidebar/LastUpdated\";\n\n\nexport default function ExploreMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n  const handleFilterToggle = (showMobile: boolean, showSummary: boolean) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n  }\n\n  return (\n    <div className=\"fill flex\">\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        {/* Filters */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n        <Filters page={PageStateEnum.explore}/>\n        <Datepicker page={PageStateEnum.explore}/>\n          <LastUpdated />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        {/* Left Sidebar */}\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <TotalStats page={PageStateEnum.explore}/>\n          <AnalysisMethods />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle(false, false)}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <MapboxMap />\n          {/* Icons */}\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 15 }}>\n            <FontAwesomeIcon\n              icon={faFilter}\n              onClick={() => handleFilterToggle(!showMobileFilters, false)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n          <div className=\"icon-container\"\n            style={{ top: 10, right: 58 }}>\n            <FontAwesomeIcon\n              icon={faBars}\n              onClick={() => handleFilterToggle(false, !showSummary)}\n              className={'icon'}\n              color={'#455a64'}\n              size={\"2x\"} />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React , { useContext, useEffect } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Loader } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { AppContext } from \"../../../context\";\nimport { PageStateEnum } from \"../../../types\";\nimport MapboxMap from '../../map/MapboxMap';\nimport MobileComponents from '../../mobile/ExploreMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport RightSidebar from \"../../sidebar/right-sidebar/RightSidebar\";\n\nexport default function Explore() {\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n  const [state, dispatch] = useContext(AppContext)\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_EXPLORE_IS_OPEN\",\n      payload: true\n    })\n    return () => {\n      dispatch({\n        type: \"UPDATE_EXPLORE_IS_OPEN\",\n        payload: false\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <div className=\"fill flex dashboard\">\n        {!isMobileDeviceOrTablet ?\n          (<div className=\"fill flex\">\n            <div className=\"col-2 p-0 flex\">\n              <LeftSidebar page={PageStateEnum.explore} />\n            </div>\n            <div className=\"col-8 p-0 flex\">\n              <Loader indeterminate active={state.explore.isLoading}></Loader>\n              <MapboxMap/>\n            </div>\n            <div className=\"col-2 p-0 flex\">\n              <RightSidebar page={PageStateEnum.explore} />\n            </div>\n          </div>) :\n          (\n            <div className=\"fill flex\">\n              <MobileComponents />\n            </div>\n          )}\n      </div >\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Explore\"} />\n    </>\n  )\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport { Loader, Segment } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { getEmptyFilters } from \"../../context\";\nimport httpClient from \"../../httpClient\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport Translate from \"../../utils/translate/translateService\";\nimport StudiesTable from \"../shared/StudiesTable\";\nimport './static.css';\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\n\nexport default function Data() {\n    const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n    const [allRecords, setAllRecords] = useState([])\n    const[isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        // note: using IIFE here so that we can \n        // have async/await behaviour in useEffect\n        (async () => {\n            await getAllRecords();\n            setIsLoading(false);\n        })()\n    }, [])\n\n    const clickLink = (link: string) => {\n        sendAnalyticsEvent({\n            category: 'Data Link Click',\n            action: 'click',\n            label: link\n        })\n    }\n\n    const getAllRecords = async () => {\n        const api = new httpClient()\n        // TODO: Figure out a better place to put this so we don't keep updating this either \n        const res = await api.getAirtableRecords(getEmptyFilters());\n        setAllRecords(res)\n    }\n\n    return (\n        <>\n            <div className=\"col-12 page\">\n                <div className={isMobileDeviceOrTablet ? \"\" : \"static-content\"}>\n                    <h1>\n                        {Translate('Methods')}\n                    </h1>\n                    <p>\n                        {Translate('MethodsText', ['FirstParagraph'])}\n                    </p>\n                    <p>\n                        {Translate('MethodsText', ['SecondParagraphPartOne'])}\n                        <a target=\"_blank\" onClick={() => clickLink('Methods')} rel=\"noopener noreferrer\" href=\"https://docs.google.com/document/d/1NYpszkr-u__aZspFDFa_fa4VBzjAAAAxNxM1rZ1txWU/edit?usp=sharing\">{Translate('Here', null, null, [true, false]).toLocaleLowerCase()}.</a>\n                        {Translate('MethodsText', ['SecondParagraphPartTwo'], null, [true, false])}\n                        <a rel=\"noopener noreferrer\" onClick={() => clickLink('Study Submission')} target=\"_blank\" href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\">{Translate('ThisForm', null, null, [true, false]).toLowerCase()}</a>.\n                    </p>\n                    <h1>\n                        {Translate('ManuscriptAndPreprint')}\n                    </h1>\n                    <p>\n                        {Translate('PaperText', null, null, [false, true])}<a target=\"_blank\" onClick={() => clickLink('MedRXIV')} rel=\"noopener noreferrer\" href=\"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\">medRxiv</a>.\n                    </p>\n                    <p>\n                        {Translate('PaperTextTwo', null, null, [false, true])}<a target=\"_blank\" onClick={() => clickLink('LancetID')} rel=\"noopener noreferrer\" href=\"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"><i>{Translate('LancetID')}</i></a>.\n                    </p>\n                    <h1>\n                        {Translate('OurData')}\n                    </h1>\n                    <p>\n                        {Translate('OurDataText', ['Text'])}\n                    </p>\n                </div>\n\n                <div className={isMobileDeviceOrTablet ? \"pb-3 pt-3\" : \"pb-3 pt-3 reference-table\"}>\n                    <Segment>\n                        <Loader indeterminate active={isLoading}/>\n                        <StudiesTable dataRecords={allRecords} showAllStudies={false}></StudiesTable>\n                    </Segment>\n                </div>\n\n                <div className={isMobileDeviceOrTablet ? \"pb-5\" : \"static-content pb-5\"}>\n                    <div className=\"d-flex d-flex justify-content-center\">\n                        <span>{Translate('UseOfData', null, null, [false, true])}</span>\n                        <Link className=\"px-1\" to=\"/TermsOfUse\">{Translate('TermsOfUse')}</Link>\n                    </div>\n                </div>\n            </div>\n            <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Data\"} />\n        </>\n    )\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport { Card } from \"semantic-ui-react\";\r\n\r\nexport interface InsightsCardProps {\r\n  date: string,\r\n  titleKey1: string,\r\n  titleKey2: string[],\r\n  img?: string,\r\n  url: string,\r\n  italicize?: string\r\n}\r\n\r\nexport function InsightsCard(props: InsightsCardProps) {\r\n  return (\r\n    <div className=\"py-4 px-2\">\r\n      <Card className={props.img ? \"insights-card\" : \"insights-card-no-img\"}> \r\n        {props.img && (\r\n          <Card.Content>\r\n            <div className=\"flex center-item insights-card-image mb-2\">\r\n              <img src={props.img} alt=\"\" className=\"fit insights-card-image\"></img>\r\n              <a href={props.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"overlay flex\">\r\n                <div className=\"insights-card-image-overlay flex fill center-item column\">\r\n                  <div>{Translate('ViewFile')}</div>\r\n                  <div className=\"flex center-item\">\r\n                    <FontAwesomeIcon\r\n                      icon={faFile}\r\n                      className={'icon'}\r\n                      color={'white'}\r\n                      size={\"lg\"} />\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </Card.Content>\r\n        )}\r\n        <Card.Content>\r\n          <div className=\"insights-card-title pb-1\">\r\n            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"\">\r\n              {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\r\n            </a>\r\n          </div>\r\n          <div className=\"insights-card-date\">\r\n            {props.date}\r\n          </div>\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import YearInReview2020 from '../../../assets/images/YearInReview2020.png'\nimport October2020Update from '../../../assets/images/October2020Update.png';\nimport September2020Update from '../../../assets/images/September2020Update.png'\nimport MedRxivPub from '../../../assets/images/MedRXIV.jpg'\nimport July2020Update from '../../../assets/images/IndustryUpdateJuly_2020.png'\nimport June2020Update from '../../../assets/images/IndustryUpdateJune_2020.png'\nimport August2020Update from '../../../assets/images/August2020Update.png'\nimport May2020Update from '../../../assets/images/IndustryUpdateMay_2020.png'\nimport PreprintUpdate from '../../../assets/images/IndustryUpdatePre_2020.png'\nimport BloodBank from '../../../assets/images/SeroTrackerBloodBank_July_2020.png'\nimport MedRxiv from '../../../assets/images/Prepublication.png'\nimport LancetId from '../../../assets/images/LancetIDArticle.png'\n\nimport { InsightsCardProps } from \"./InsightsCard\";\n\nconst listOfReports: InsightsCardProps[] = [\n    {\n        date: \"January 15, 2021\",\n        img: YearInReview2020,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['YearInReview2020'],\n        url: \"https://drive.google.com/file/d/14u0GroEadFQ__Gdvoe104HI-y0LWDwSu/view?usp=sharing\",\n    },\n    {         \n        date: \"November 13, 2020\",\n        img: October2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['OctoberReport'],\n        url: \"https://drive.google.com/file/d/1aCgxzxv9J5Zvh4EVyI5REmSVgWLQ_Ip3/view?usp=sharing\"\n    },\n    {           \n        date: \"October 12, 2020\",\n        img: September2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['SeptemberReport'],\n        url: \"https://drive.google.com/file/d/1CjMcs7UZzu4_E_QFJVYZdv0QhyfoNMAe/view?usp=sharing\"\n    },\n    {           \n        date: \"September 9, 2020\",\n        img: August2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['AugustReport'],\n        url: \"https://drive.google.com/file/d/1m7BlfUKCYs32_D1jnFUEQHPr3Qjg5Eyt/view?usp=sharing\"\n    },\n    {           \n        date: \"August 7, 2020\",\n        img: July2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JulyReport'],\n        url: \"https://drive.google.com/file/d/1Rx3i_Sy01suu-ZZYV7LRpo2KEclbXCNN/view?usp=sharing\"\n    },\n    {           \n        date: \"July 22, 2020\",\n        img: BloodBank,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['BloodBank'],\n        url: \"https://drive.google.com/file/d/1It2CzAwEfTcQ1zIC6z2fO7i7XEfmWfom/view?usp=sharing\"\n    },\n    {           \n        date: \"July 12, 2020\",\n        img: June2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JuneReport'],\n        url: \"https://drive.google.com/file/d/1HO--VWYdyEqd5Dc3xcZBwERXWDBjCfxN/view\"\n    },\n    {           \n        date: \"June 10, 2020\",\n        img: May2020Update,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['MayReport'],\n        url: \"https://drive.google.com/file/d/16pCR-zh1UiWjQFhTDxW_2adSGuq0pCgz/view?usp=sharing\"\n    },\n    {           \n        date: \"May 19, 2020\",\n        img: PreprintUpdate,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['PreliminaryReport'],\n        url: \"https://drive.google.com/file/d/1I1gY1lZndwp4_eUqoZviU8L2_izmkmQP/view?usp=sharing\"\n    },\n]\n\nconst listOfResearchArticles: InsightsCardProps[] = [\n    {\n        date: \"November 18, 2020\",\n        img: MedRxivPub,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivPub'],\n        url: \"https://www.medrxiv.org/content/10.1101/2020.11.17.20233460v2\"\n    },\n    {           \n        date: \"August 4, 2020\",\n        img: LancetId,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['LancetID'],\n        url: \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n    },\n    {           \n        date: \"May 14, 2020\",\n        img: MedRxiv,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['PrePrint'],\n        url: \"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\"\n    },\n]\n\nconst listOfMediaInsightProps: InsightsCardProps[] = [\n    {\n        date: \"January 23, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleAnnounce'],\n        url: \"https://www.newswire.ca/news-releases/joule-announces-2020-innovation-grant-recipients-867798355.html\",\n    },\n    {\n        date: \"January 20, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['WhenEnd'],\n        url: \"https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/when-will-the-covid-19-pandemic-end\",\n    },\n    {\n        date: \"January 15, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleInnovation'],\n        url: \"https://joulecma.ca/innovate/grants/serotracker \",\n    },\n    {\n        date: \"January 14, 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleRecipients'],\n        url: \"https://markets.businessinsider.com/amp/news/joule-announces-2020-innovation-grant-recipients-1029968953\",\n    },\n    {\n        date: \"January 2021\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['McKinseyHealthcare'],\n        url: \"https://www.mckinsey.com/~/media/McKinsey/Industries/Healthcare%20Systems%20and%20Services/Our%20Insights/McKinsey%20on%20Healthcare%202020%20Year%20in%20Review/McKinsey-on-Healthcare-2020-Year-in-Review.pdf\",\n    },\n    {\n        date: \"November 24, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InfectionRate'],\n        url: \"https://taz.de/Studie-zu-globaler-Corona-Infektionsrate/!5730030/\",\n    },\n    {\n        date: \"November 23, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['AlumniAndStudents'],\n        url: \"https://cumming.ucalgary.ca/news/serotracker\",\n    },\n    {\n        date: \"November 10, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Webinar'],\n        url: \"http://www.himsschapter.org/event/serotracker-covid-19-journey-himss-canadian-prairies-chapter-webinar\",\n    },\n    {\n        date: \"August 17, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HomeTests'],\n        url: \"https://www.forbes.com/sites/williamhaseltine/2020/08/17/cheap-daily-home-tests-are-the-first-step-to-containing-the-pandemic/?sh=677d47d14ad4\",\n    },\n    {\n        date: \"August 3, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Lecturership'],\n        url: \"https://eng.ox.ac.uk/chi/news/adjunct-lecturership-for-rahul/\",\n    },\n    {\n        date: \"July 22, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HowMany'],\n        url: \"https://www.newscientist.com/article/mg24632873-000-how-many-of-us-are-likely-to-have-caught-the-coronavirus-so-far/\",\n    },\n    {\n        date: \"July 7, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['CovidRadar'],\n        url: \"https://m1newstv.com/subnotificacao-no-brasil-e-na-rocinha-e-a-media-mundial/\",\n    },\n    {\n        date: \"June 11, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['VeteranDoctor'],\n        url: \"https://www.marsdd.com/magazine/what-if-there-is-no-covid-19-vaccine/\",\n    },\n    {\n        date: \"June 2, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NewlyLaunched'],\n        url: \"https://publications.mcgill.ca/medenews/2020/06/16/newly-launched-serotracker-will-monitor-global-antibody-testing-efforts/\",\n    },\n    {\n        date: \"June 2, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StudentsBuild'],\n        url: \"https://uwaterloo.ca/stories/engineering-students/students-build-online-dashboard-track-covid-19-antibody\",\n    },\n    {\n        date: \"May 28, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['GlobalLaunch'],\n        url: \"https://www.covid19immunitytaskforce.ca/global-launch-of-serotracker-a-covid-19-antibody-testing-hub-in-partnership-with-canadas-covid-19-immunity-task-force/\",\n    },\n    {\n        date: \"May 24, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['KnowledgeHub'],\n        url: \"https://www.research.ox.ac.uk/Article/2020-05-28-knowledge-hub-developed-to-track-sars-cov-antibody-studies\",\n    },\n    {\n        date: \"May 23, 2020\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['UnderstandingVirus'],\n        url: \"https://www.bloomberg.com/news/articles/2020-05-06/understanding-the-virus-and-its-unanswered-questions-quicktake\",\n    }\n]\n\ninterface insightsInfoInterface {\n    media: InsightsCardProps[],\n    articles: InsightsCardProps[],\n    reports: InsightsCardProps[],\n}\n\nexport const insightsInfo: insightsInfoInterface = {\n    media: listOfMediaInsightProps,\n    articles: listOfResearchArticles,\n    reports: listOfReports\n}","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\r\nimport { InsightsCard } from \"./InsightsCard\";\r\nimport { insightsInfo } from \"./InsightsConstants\";\r\nimport './styles.scss';\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default function Insights() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page pb-6\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container\" : \"policy-container static-content\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('Insights')}\r\n        </h1>\r\n        <h3 className=\"normal\">\r\n          {Translate('ResearchArticles')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"articles\") }\r\n        <h3 className=\"normal\">\r\n          {Translate('Reports')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"reports\") }\r\n        <h3 className=\"normal\">\r\n          {Translate('Media')}\r\n        </h3>\r\n        { getCarouselOfInsightCards(\"media\") }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst sliderSettings = {\r\n  dots: true,\r\n  infinite: true,\r\n  arrows: true,\r\n  speed: 500,\r\n  slidesToShow: 3,\r\n  slidesToScroll: 3,\r\n  responsive: [\r\n    {\r\n      breakpoint: 1048,\r\n      settings: {\r\n        slidesToShow: 2,\r\n        slidesToScroll: 2,\r\n        infinite: true,\r\n        dots: true\r\n      }\r\n    },\r\n    {\r\n      breakpoint: 480,\r\n      settings: {\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        infinite: true,\r\n        dots: true\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nexport type InsightsType = 'articles' | 'reports' | 'media';\r\n\r\nconst getCarouselOfInsightCards = (type: InsightsType) => {\r\n  return (\r\n    <div className=\"slider-container\">\r\n      <Slider \r\n        {...sliderSettings}\r\n      >\r\n          {\r\n            insightsInfo[type].map((insightProps, idx) => {\r\n              return <InsightsCard\r\n                date={insightProps.date}\r\n                img={insightProps.img}\r\n                titleKey1={insightProps.titleKey1}\r\n                titleKey2={insightProps.titleKey2}\r\n                url={insightProps.url} />\r\n              })\r\n          }\r\n      </Slider>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function PrivacyPolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page \">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('PrivacyPolicy')}\r\n        </h1>\r\n        <iframe title=\"PrivacyPolicy\" className=\"fill policy-iframe\" src=\"https://app.termly.io/embed/terms-of-use/796fdf5d-ba75-4a21-9e54-4360f4fc9ccc\"></iframe>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function TermsOfUse() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page\">\r\n      <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container flex fill\" : \"policy-container static-content pb-2 flex fill\"}>\r\n        <h1 className=\"col-12 p-0 fit\">\r\n          {Translate('TermsOfUse')}\r\n        </h1>\r\n        <div className=\"col-12 p-0 fit\">\r\n          {Translate('DisclaimerBody')}\r\n        </div>\r\n\r\n        <h3 className=\"col-12 p-0 fit\">\r\n          {Translate('DisclaimerListHeader')}\r\n        </h3>\r\n        <ol>\r\n          <li>\r\n            {Translate('DisclaimerList1')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList2')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList3')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList4')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList5')}\r\n          </li>\r\n          <li>\r\n            {Translate('DisclaimerList6')}\r\n          </li>\r\n        </ol>\r\n        <div>\r\n          {Translate('DisclaimerFooter')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { AppContext } from '../../context'\r\nimport Translate from '../../utils/translate/translateService'\r\nimport { withLocaleUrl } from '../../utils/utils'\r\nimport \"./shared.scss\"\r\n\r\nexport const CookieBanner = () => {\r\n  const [state, dispatch] = useContext(AppContext)\r\n\r\n  const acceptCookes = () => {\r\n    localStorage.setItem('acceptedCookies', 'true');\r\n    dispatch({ type: 'CLOSE_COOKIE_BANNER' })\r\n  }\r\n\r\n  if (!localStorage.getItem('acceptedCookies') && !state.showCookieBanner) {\r\n    dispatch({ type: 'OPEN_COOKIE_BANNER' })\r\n  }\r\n\r\n  return (\r\n    state.showCookieBanner ?\r\n      <div className=\"cookie-banner flex\">\r\n        <div className=\"fill flex center-item\">\r\n          <div className=\"col-md-6 p-3 flex column\">\r\n            <div>\r\n              {Translate('CookiePolicyBody', null, null, [false, true])}\r\n              <Link to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\r\n            </div>\r\n            <div className=\"flex right\">\r\n              <Button color=\"blue\" onClick={acceptCookes}>{Translate('Accept')}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : null\r\n  )\r\n}","import { faFileAlt, faGlobeAmericas, faUsers, faTable, faChartBar } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport MultiColorIcon from '../../assets/images/colored-icon.svg'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport { AppContext } from '../../context'\nimport { LanguageType } from '../../types'\nimport Translate from '../../utils/translate/translateService'\nimport { withLocaleUrl } from '../../utils/utils'\n\n\nexport const NavBar = () => {\n  const [tab, setTab] = useState(\"\");\n  const [state, dispatch] = useContext(AppContext);\n\n  const getTabClass = (tabName: string) => {\n    const style = tabName === tab ? 'bold col-auto h-100 flex center-item' : 'regular col-auto h-100 flex center-item';\n    return isMobileDeviceOrTablet ? style.concat(\" px-1\") : style;\n  }\n\n  const usePageViews = () => {\n    let location = useLocation();\n    useEffect(() => {\n      setTab(location.pathname)\n    }, [location]);\n  }\n\n  const history = useHistory();\n\n  const changeLanguages = () => {\n    let url = history.location.pathname;\n    if (state.language === LanguageType.english) {\n      url = url.replace(\"/en/\", \"/fr/\")\n    }\n    else {\n      url = url.replace(\"/fr/\", \"/en/\")\n    }\n    dispatch(\n      {\n        type: \"SELECT_LANGUAGE\",\n        payload: state.language === LanguageType.english ? LanguageType.french : LanguageType.english\n      })\n\n    history.push(url)\n  }\n\n  usePageViews()\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n  return (\n    <header className=\"App-header col-12 px-sm-2\">\n      <div className=\"App-title col-auto py-3 px-0 flex left\">\n        <Link to={withLocaleUrl(\"Explore\")} className=\"flex\">\n          <img src={MultiColorIcon} width={23} height={23} alt=\"\" />\n          {!isMobileDeviceOrTablet && (<div className=\"col-auto px-2\" >SeroTracker</div>)}\n        </Link>\n      </div>\n      <div className={`App-tabs col-auto space-evenly p-0 ${isMobileDeviceOrTablet ? 'fill' : ''}`}>\n        <div className={getTabClass('/Explore')}>\n          <Link to={withLocaleUrl(\"Explore\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faGlobeAmericas} size=\"lg\" /> :\n              Translate('Explore')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Analyze')}>\n          <Link to={withLocaleUrl(\"Analyze\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faChartBar} size=\"lg\" /> :\n              Translate('Analyze')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Data')}>\n          <Link to={withLocaleUrl(\"Data\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faTable} size=\"lg\" /> :\n              Translate('Data')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Insights')}>\n          <Link to={withLocaleUrl(\"Insights\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faFileAlt} size=\"lg\" /> :\n              Translate('Insights')}\n          </Link>\n        </div>\n        <div className={getTabClass('/About')}>\n          <Link to={withLocaleUrl(\"About\")}>\n            {isMobileDeviceOrTablet ?\n              <FontAwesomeIcon icon={faUsers} size=\"lg\" /> :\n              Translate('About')}\n          </Link>\n        </div>\n        <div className={getTabClass('/Language') + \" cursor\"} onClick={() => changeLanguages()}>\n          <div>\n            {state.language === LanguageType.english ?\n              (isMobileDeviceOrTablet ? \"Fr\" : \"Français\") :\n              (isMobileDeviceOrTablet ? \"En\" : \"English\")}\n          </div>\n        </div>\n      </div>\n    </header >\n  )\n}","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport './App.css';\nimport About from './components/pages/About';\nimport CookiePolicy from \"./components/pages/CookiePolicy\";\nimport Analyze from \"./components/pages/Dashboard/Analyze\";\nimport Explore from \"./components/pages/Dashboard/Explore\";\nimport Data from './components/pages/Data';\nimport Insights from \"./components/pages/insights/Insights\";\nimport PrivacyPolicy from './components/pages/PrivacyPolicy';\nimport TermsOfUse from \"./components/pages/TermsOfUse\";\nimport { CookieBanner } from \"./components/shared/CookieBanner\";\nimport { NavBar } from \"./components/shared/NavBar\";\nimport { AppContext } from \"./context\";\nimport httpClient from \"./httpClient\";\nimport { LanguageType, PageStateEnum } from \"./types\";\nimport { initializeData } from \"./utils/stateUpdateUtils\";\nimport { setLanguageType } from \"./utils/translate/translateService\";\n\nfunction App() {\n  const [{ language, explore, analyze }, dispatch] = useContext(AppContext);\n  setLanguageType(language);\n\n  // General call that happens once at the start of everything.\n  useEffect(() => {\n    const api = new httpClient()\n    initializeData(dispatch, explore.filters, true, PageStateEnum.explore)\n    initializeData(dispatch, analyze.filters, false, PageStateEnum.analyze)\n    const allFilterOptions = async () => {\n      const { options, updatedAt, maxDate, minDate } = await api.getAllFilterOptions();\n      dispatch({\n        type: 'GET_ALL_FILTER_OPTIONS',\n        payload: options\n      })\n\n      dispatch({\n        type: \"UPDATED_AT\",\n        payload: updatedAt\n      })\n\n      dispatch({\n        type: \"MAX_MIN_DATES\",\n        payload: { maxDate, minDate }\n      })\n    }\n\n    allFilterOptions();\n    // We only want this to run once so we pass no dependencies. Do not remove this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // pulls from ISO api to get standardized country names, codes and translations\n  useEffect(() => {\n    const updateCountriesJson = async () => {\n      const api = new httpClient()\n      const countriesJson = await api.httpGet(\"https://restcountries.eu/rest/v2/\", false);\n      dispatch({\n        type: 'UPDATE_COUNTRIES_JSON',\n        payload: countriesJson\n      });\n    }\n    updateCountriesJson();\n  }, [dispatch])\n\n  // Cookie managing\n  useEffect(() => {\n    const alreadyAcceptedCookes = localStorage.getItem('acceptedCookies');\n    if (alreadyAcceptedCookes) {\n      dispatch({\n        type: 'ACCEPT_COOKIES'\n      });\n    }\n    const handleResize = () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n    window.addEventListener('resize', handleResize)\n\n    handleResize();\n  }, [dispatch])\n\n  const listenForUrlLanguage = (pathname: string) => {\n    if (pathname.includes(\"/en/\") && language !== LanguageType.english) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.english\n      })\n    }\n    else if (pathname.includes(\"/fr/\") && language !== LanguageType.french) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.french\n      })\n    }\n  }\n\n  const history = useHistory()\n  listenForUrlLanguage(history.location.pathname)\n\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <CookieBanner />\n      <Switch>\n        <Route path=\"/:language/About\">\n          <About />\n        </Route>\n        <Route path=\"/:language/Explore\">\n          <Explore />\n        </Route>\n        <Route path=\"/:language/Dashboard\">\n          <Redirect to=\"/:language/Explore\" />\n        </Route>\n        <Route path=\"/:language/Analyze\">\n          <Analyze />\n        </Route>\n        <Route path=\"/:language/Data\">\n          <Data />\n        </Route>\n        <Route path=\"/:language/PrivacyPolicy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/:language/CookiePolicy\">\n          <CookiePolicy />\n        </Route>\n        <Route path=\"/:language/TermsOfUse\">\n          <TermsOfUse />\n        </Route>\n        <Route path=\"/:language/Insights\">\n          <Insights />\n        </Route>\n        <Redirect exact from=\"/\" to={`/${language}/Explore`} />\n        {language && [\"About\", \"Explore\", \"Analyze\", \"Data\", \"PrivacyPolicy\", \"CookiePolicy\", \"TermsOfUse\", \"Insights\"].map(route =>\n          <Redirect from={`/${route}`} to={`${language}/${route}`}></Redirect>)}\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { AppContextProvider } from './context'\nimport {Router} from 'react-router-dom';\nimport GAListener from \"./utils/analyticsUtils\";\nimport {createBrowserHistory} from 'history';\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <GAListener trackingId={process.env.REACT_APP_GA_TRACKERID}>\n        <AppContextProvider>\n          <App />\n        </AppContextProvider>\n      </GAListener>\n    </Router>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}